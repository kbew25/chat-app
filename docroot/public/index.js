/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={982:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,":root {\n  --toastify-color-light: #fff;\n  --toastify-color-dark: #121212;\n  --toastify-color-info: #3498db;\n  --toastify-color-success: #07bc0c;\n  --toastify-color-warning: #f1c40f;\n  --toastify-color-error: #e74c3c;\n  --toastify-color-transparent: rgba(255, 255, 255, 0.7);\n  --toastify-icon-color-info: var(--toastify-color-info);\n  --toastify-icon-color-success: var(--toastify-color-success);\n  --toastify-icon-color-warning: var(--toastify-color-warning);\n  --toastify-icon-color-error: var(--toastify-color-error);\n  --toastify-toast-width: 320px;\n  --toastify-toast-background: #fff;\n  --toastify-toast-min-height: 64px;\n  --toastify-toast-max-height: 800px;\n  --toastify-font-family: sans-serif;\n  --toastify-z-index: 9999;\n  --toastify-text-color-light: #757575;\n  --toastify-text-color-dark: #fff;\n  --toastify-text-color-info: #fff;\n  --toastify-text-color-success: #fff;\n  --toastify-text-color-warning: #fff;\n  --toastify-text-color-error: #fff;\n  --toastify-spinner-color: #616161;\n  --toastify-spinner-color-empty-area: #e0e0e0;\n  --toastify-color-progress-light: linear-gradient(\n    to right,\n    #4cd964,\n    #5ac8fa,\n    #007aff,\n    #34aadc,\n    #5856d6,\n    #ff2d55\n  );\n  --toastify-color-progress-dark: #bb86fc;\n  --toastify-color-progress-info: var(--toastify-color-info);\n  --toastify-color-progress-success: var(--toastify-color-success);\n  --toastify-color-progress-warning: var(--toastify-color-warning);\n  --toastify-color-progress-error: var(--toastify-color-error);\n}\n\n.Toastify__toast-container {\n  z-index: var(--toastify-z-index);\n  -webkit-transform: translate3d(0, 0, var(--toastify-z-index) px);\n  position: fixed;\n  padding: 4px;\n  width: var(--toastify-toast-width);\n  box-sizing: border-box;\n  color: #fff;\n}\n.Toastify__toast-container--top-left {\n  top: 1em;\n  left: 1em;\n}\n.Toastify__toast-container--top-center {\n  top: 1em;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.Toastify__toast-container--top-right {\n  top: 1em;\n  right: 1em;\n}\n.Toastify__toast-container--bottom-left {\n  bottom: 1em;\n  left: 1em;\n}\n.Toastify__toast-container--bottom-center {\n  bottom: 1em;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.Toastify__toast-container--bottom-right {\n  bottom: 1em;\n  right: 1em;\n}\n\n@media only screen and (max-width : 480px) {\n  .Toastify__toast-container {\n    width: 100vw;\n    padding: 0;\n    left: 0;\n    margin: 0;\n  }\n  .Toastify__toast-container--top-left, .Toastify__toast-container--top-center, .Toastify__toast-container--top-right {\n    top: 0;\n    transform: translateX(0);\n  }\n  .Toastify__toast-container--bottom-left, .Toastify__toast-container--bottom-center, .Toastify__toast-container--bottom-right {\n    bottom: 0;\n    transform: translateX(0);\n  }\n  .Toastify__toast-container--rtl {\n    right: 0;\n    left: initial;\n  }\n}\n.Toastify__toast {\n  position: relative;\n  min-height: var(--toastify-toast-min-height);\n  box-sizing: border-box;\n  margin-bottom: 1rem;\n  padding: 8px;\n  border-radius: 4px;\n  box-shadow: 0 1px 10px 0 rgba(0, 0, 0, 0.1), 0 2px 15px 0 rgba(0, 0, 0, 0.05);\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  max-height: var(--toastify-toast-max-height);\n  overflow: hidden;\n  font-family: var(--toastify-font-family);\n  cursor: pointer;\n  direction: ltr;\n}\n.Toastify__toast--rtl {\n  direction: rtl;\n}\n.Toastify__toast-body {\n  margin: auto 0;\n  -ms-flex: 1 1 auto;\n      flex: 1 1 auto;\n  padding: 6px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.Toastify__toast-body > div:last-child {\n  -ms-flex: 1;\n      flex: 1;\n}\n.Toastify__toast-icon {\n  -webkit-margin-end: 10px;\n          margin-inline-end: 10px;\n  width: 20px;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.Toastify--animate {\n  animation-fill-mode: both;\n  animation-duration: 0.7s;\n}\n\n.Toastify--animate-icon {\n  animation-fill-mode: both;\n  animation-duration: 0.3s;\n}\n\n@media only screen and (max-width : 480px) {\n  .Toastify__toast {\n    margin-bottom: 0;\n    border-radius: 0;\n  }\n}\n.Toastify__toast-theme--dark {\n  background: var(--toastify-color-dark);\n  color: var(--toastify-text-color-dark);\n}\n.Toastify__toast-theme--light {\n  background: var(--toastify-color-light);\n  color: var(--toastify-text-color-light);\n}\n.Toastify__toast-theme--colored.Toastify__toast--default {\n  background: var(--toastify-color-light);\n  color: var(--toastify-text-color-light);\n}\n.Toastify__toast-theme--colored.Toastify__toast--info {\n  color: var(--toastify-text-color-info);\n  background: var(--toastify-color-info);\n}\n.Toastify__toast-theme--colored.Toastify__toast--success {\n  color: var(--toastify-text-color-success);\n  background: var(--toastify-color-success);\n}\n.Toastify__toast-theme--colored.Toastify__toast--warning {\n  color: var(--toastify-text-color-warning);\n  background: var(--toastify-color-warning);\n}\n.Toastify__toast-theme--colored.Toastify__toast--error {\n  color: var(--toastify-text-color-error);\n  background: var(--toastify-color-error);\n}\n\n.Toastify__progress-bar-theme--light {\n  background: var(--toastify-color-progress-light);\n}\n.Toastify__progress-bar-theme--dark {\n  background: var(--toastify-color-progress-dark);\n}\n.Toastify__progress-bar--info {\n  background: var(--toastify-color-progress-info);\n}\n.Toastify__progress-bar--success {\n  background: var(--toastify-color-progress-success);\n}\n.Toastify__progress-bar--warning {\n  background: var(--toastify-color-progress-warning);\n}\n.Toastify__progress-bar--error {\n  background: var(--toastify-color-progress-error);\n}\n.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info, .Toastify__progress-bar-theme--colored.Toastify__progress-bar--success, .Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning, .Toastify__progress-bar-theme--colored.Toastify__progress-bar--error {\n  background: var(--toastify-color-transparent);\n}\n\n.Toastify__close-button {\n  color: #fff;\n  background: transparent;\n  outline: none;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  opacity: 0.7;\n  transition: 0.3s ease;\n  -ms-flex-item-align: start;\n      align-self: flex-start;\n}\n.Toastify__close-button--light {\n  color: #000;\n  opacity: 0.3;\n}\n.Toastify__close-button > svg {\n  fill: currentColor;\n  height: 16px;\n  width: 14px;\n}\n.Toastify__close-button:hover, .Toastify__close-button:focus {\n  opacity: 1;\n}\n\n@keyframes Toastify__trackProgress {\n  0% {\n    transform: scaleX(1);\n  }\n  100% {\n    transform: scaleX(0);\n  }\n}\n.Toastify__progress-bar {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 5px;\n  z-index: var(--toastify-z-index);\n  opacity: 0.7;\n  transform-origin: left;\n}\n.Toastify__progress-bar--animated {\n  animation: Toastify__trackProgress linear 1 forwards;\n}\n.Toastify__progress-bar--controlled {\n  transition: transform 0.2s;\n}\n.Toastify__progress-bar--rtl {\n  right: 0;\n  left: initial;\n  transform-origin: right;\n}\n\n.Toastify__spinner {\n  width: 20px;\n  height: 20px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: var(--toastify-spinner-color-empty-area);\n  border-right-color: var(--toastify-spinner-color);\n  animation: Toastify__spin 0.65s linear infinite;\n}\n\n@keyframes Toastify__bounceInRight {\n  from, 60%, 75%, 90%, to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  from {\n    opacity: 0;\n    transform: translate3d(3000px, 0, 0);\n  }\n  60% {\n    opacity: 1;\n    transform: translate3d(-25px, 0, 0);\n  }\n  75% {\n    transform: translate3d(10px, 0, 0);\n  }\n  90% {\n    transform: translate3d(-5px, 0, 0);\n  }\n  to {\n    transform: none;\n  }\n}\n@keyframes Toastify__bounceOutRight {\n  20% {\n    opacity: 1;\n    transform: translate3d(-20px, 0, 0);\n  }\n  to {\n    opacity: 0;\n    transform: translate3d(2000px, 0, 0);\n  }\n}\n@keyframes Toastify__bounceInLeft {\n  from, 60%, 75%, 90%, to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  0% {\n    opacity: 0;\n    transform: translate3d(-3000px, 0, 0);\n  }\n  60% {\n    opacity: 1;\n    transform: translate3d(25px, 0, 0);\n  }\n  75% {\n    transform: translate3d(-10px, 0, 0);\n  }\n  90% {\n    transform: translate3d(5px, 0, 0);\n  }\n  to {\n    transform: none;\n  }\n}\n@keyframes Toastify__bounceOutLeft {\n  20% {\n    opacity: 1;\n    transform: translate3d(20px, 0, 0);\n  }\n  to {\n    opacity: 0;\n    transform: translate3d(-2000px, 0, 0);\n  }\n}\n@keyframes Toastify__bounceInUp {\n  from, 60%, 75%, 90%, to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  from {\n    opacity: 0;\n    transform: translate3d(0, 3000px, 0);\n  }\n  60% {\n    opacity: 1;\n    transform: translate3d(0, -20px, 0);\n  }\n  75% {\n    transform: translate3d(0, 10px, 0);\n  }\n  90% {\n    transform: translate3d(0, -5px, 0);\n  }\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n}\n@keyframes Toastify__bounceOutUp {\n  20% {\n    transform: translate3d(0, -10px, 0);\n  }\n  40%, 45% {\n    opacity: 1;\n    transform: translate3d(0, 20px, 0);\n  }\n  to {\n    opacity: 0;\n    transform: translate3d(0, -2000px, 0);\n  }\n}\n@keyframes Toastify__bounceInDown {\n  from, 60%, 75%, 90%, to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  0% {\n    opacity: 0;\n    transform: translate3d(0, -3000px, 0);\n  }\n  60% {\n    opacity: 1;\n    transform: translate3d(0, 25px, 0);\n  }\n  75% {\n    transform: translate3d(0, -10px, 0);\n  }\n  90% {\n    transform: translate3d(0, 5px, 0);\n  }\n  to {\n    transform: none;\n  }\n}\n@keyframes Toastify__bounceOutDown {\n  20% {\n    transform: translate3d(0, 10px, 0);\n  }\n  40%, 45% {\n    opacity: 1;\n    transform: translate3d(0, -20px, 0);\n  }\n  to {\n    opacity: 0;\n    transform: translate3d(0, 2000px, 0);\n  }\n}\n.Toastify__bounce-enter--top-left, .Toastify__bounce-enter--bottom-left {\n  animation-name: Toastify__bounceInLeft;\n}\n.Toastify__bounce-enter--top-right, .Toastify__bounce-enter--bottom-right {\n  animation-name: Toastify__bounceInRight;\n}\n.Toastify__bounce-enter--top-center {\n  animation-name: Toastify__bounceInDown;\n}\n.Toastify__bounce-enter--bottom-center {\n  animation-name: Toastify__bounceInUp;\n}\n\n.Toastify__bounce-exit--top-left, .Toastify__bounce-exit--bottom-left {\n  animation-name: Toastify__bounceOutLeft;\n}\n.Toastify__bounce-exit--top-right, .Toastify__bounce-exit--bottom-right {\n  animation-name: Toastify__bounceOutRight;\n}\n.Toastify__bounce-exit--top-center {\n  animation-name: Toastify__bounceOutUp;\n}\n.Toastify__bounce-exit--bottom-center {\n  animation-name: Toastify__bounceOutDown;\n}\n\n@keyframes Toastify__zoomIn {\n  from {\n    opacity: 0;\n    transform: scale3d(0.3, 0.3, 0.3);\n  }\n  50% {\n    opacity: 1;\n  }\n}\n@keyframes Toastify__zoomOut {\n  from {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0;\n    transform: scale3d(0.3, 0.3, 0.3);\n  }\n  to {\n    opacity: 0;\n  }\n}\n.Toastify__zoom-enter {\n  animation-name: Toastify__zoomIn;\n}\n\n.Toastify__zoom-exit {\n  animation-name: Toastify__zoomOut;\n}\n\n@keyframes Toastify__flipIn {\n  from {\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    animation-timing-function: ease-in;\n    opacity: 0;\n  }\n  40% {\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    animation-timing-function: ease-in;\n  }\n  60% {\n    transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    opacity: 1;\n  }\n  80% {\n    transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n  }\n  to {\n    transform: perspective(400px);\n  }\n}\n@keyframes Toastify__flipOut {\n  from {\n    transform: perspective(400px);\n  }\n  30% {\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    opacity: 1;\n  }\n  to {\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n}\n.Toastify__flip-enter {\n  animation-name: Toastify__flipIn;\n}\n\n.Toastify__flip-exit {\n  animation-name: Toastify__flipOut;\n}\n\n@keyframes Toastify__slideInRight {\n  from {\n    transform: translate3d(110%, 0, 0);\n    visibility: visible;\n  }\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n}\n@keyframes Toastify__slideInLeft {\n  from {\n    transform: translate3d(-110%, 0, 0);\n    visibility: visible;\n  }\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n}\n@keyframes Toastify__slideInUp {\n  from {\n    transform: translate3d(0, 110%, 0);\n    visibility: visible;\n  }\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n}\n@keyframes Toastify__slideInDown {\n  from {\n    transform: translate3d(0, -110%, 0);\n    visibility: visible;\n  }\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n}\n@keyframes Toastify__slideOutRight {\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n  to {\n    visibility: hidden;\n    transform: translate3d(110%, 0, 0);\n  }\n}\n@keyframes Toastify__slideOutLeft {\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n  to {\n    visibility: hidden;\n    transform: translate3d(-110%, 0, 0);\n  }\n}\n@keyframes Toastify__slideOutDown {\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n  to {\n    visibility: hidden;\n    transform: translate3d(0, 500px, 0);\n  }\n}\n@keyframes Toastify__slideOutUp {\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n  to {\n    visibility: hidden;\n    transform: translate3d(0, -500px, 0);\n  }\n}\n.Toastify__slide-enter--top-left, .Toastify__slide-enter--bottom-left {\n  animation-name: Toastify__slideInLeft;\n}\n.Toastify__slide-enter--top-right, .Toastify__slide-enter--bottom-right {\n  animation-name: Toastify__slideInRight;\n}\n.Toastify__slide-enter--top-center {\n  animation-name: Toastify__slideInDown;\n}\n.Toastify__slide-enter--bottom-center {\n  animation-name: Toastify__slideInUp;\n}\n\n.Toastify__slide-exit--top-left, .Toastify__slide-exit--bottom-left {\n  animation-name: Toastify__slideOutLeft;\n}\n.Toastify__slide-exit--top-right, .Toastify__slide-exit--bottom-right {\n  animation-name: Toastify__slideOutRight;\n}\n.Toastify__slide-exit--top-center {\n  animation-name: Toastify__slideOutUp;\n}\n.Toastify__slide-exit--bottom-center {\n  animation-name: Toastify__slideOutDown;\n}\n\n@keyframes Toastify__spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}",""]);const a=o},800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,'*,*::before,*::after{box-sizing:border-box}body,h1,h2,h3,h4,p,figure,blockquote,dl,dd{margin:0}ul[role="list"],ol[role="list"]{list-style:none}html:focus-within{scroll-behavior:smooth}body{min-height:100vh;line-height:1.5;text-rendering:optimizeSpeed}a:not([class]){text-decoration-skip-ink:auto}img,picture{display:block;max-width:100%}input,button,textarea,select{font:inherit}@media (prefers-reduced-motion: reduce){html:focus-within{scroll-behavior:auto}*,*::before,*::after{transition-duration:0.01ms !important;animation-duration:0.01ms !important;animation-iteration-count:1 !important;scroll-behavior:auto !important}}body{color:#d0ddd7;background-color:#2f2f46;font-family:"Roboto", Arial, Helvetica, sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}input[type="text"]{padding:10px 20px}input,button{padding:10px 20px;border:0}.page-title{margin-top:40px;font-size:2.5rem}button{cursor:pointer}button,input[type="submit"]{color:#2f2f46;background-color:#ffc15e}button.secondary,input[type="submit"].secondary{color:#fff;background-color:#2f2f46}button:disabled,input[type="submit"]:disabled{background-color:#acacc8}.send-form{display:flex;padding:20px;background-color:#ffc15e}.send-form input{flex:1 1 0}.user-form{margin-top:40px;margin-bottom:40px;padding:40px 20px;border:1px solid #ffc15e}.user-form input[type="text"],.user-form input[type="email"],.user-form input[type="password"]{width:100%;margin-bottom:40px}.content{display:flex;flex-direction:column;max-width:900px;height:calc(100vh - 100px);margin:0 auto;padding:0 20px}a{text-decoration:none;color:inherit}a:hover,a:focus{text-decoration:underline}p{margin-bottom:10px}p:last-child{margin-bottom:0}header{display:flex;align-items:center;justify-content:space-between;padding:20px 40px;color:#2f2f46;background-color:#ffc15e}header .logo{display:flex;align-items:center}header .logo img{width:40px;margin-right:10px}.chat-room{overflow:auto;height:100%;padding:20px;background-color:#393955}.message{display:flex;margin-bottom:20px}.message .user{z-index:2;overflow:hidden;height:100%;margin-right:-6px;border-radius:50%;box-shadow:1px 0 10px rgba(0,0,0,0.3)}.message .user img{display:block;border-radius:50%;background-color:#2f2f46;background-clip:padding-box}.message .name{margin:5px 10px 10px;color:#999;font-size:90%}.message .text{min-width:100px;padding:10px 25px;color:#2f2f46;border-radius:10px;background-color:white}.message.sent{flex-direction:row-reverse;margin-left:auto}.message.sent .user{margin-right:0;margin-left:-6px}\n',""]);const a=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var a=0;a<this.length;a++){var u=this[a][0];null!=u&&(o[u]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);r&&o[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},679:(e,t,n)=>{"use strict";var r=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function u(e){return r.isMemo(e)?o:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=c(n);h&&(o=o.concat(h(n)));for(var a=u(t),m=u(n),g=0;g<o.length;++g){var y=o[g];if(!(s[y]||r&&r[y]||m&&m[y]||a&&a[y])){var v=d(n,y);try{l(t,y,v)}catch(e){}}}}return t}},826:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,s){for(var o,a,u=i(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(u[c]=o[c]);if(t){a=t(o);for(var h=0;h<a.length;h++)r.call(o,a[h])&&(u[a[h]]=o[a[h]])}}return u}},779:(e,t,n)=>{var r=n(826);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],s=0;s<t.length;s++)i.push(e(t[s],n,r).source);return c(new RegExp("(?:"+i.join("|")+")",h(r)),n)}(t,n,i):function(e,t,n){return d(s(e,n),t,n)}(t,n,i)},e.exports.parse=s,e.exports.compile=function(e,t){return a(s(e,t),t)},e.exports.tokensToFunction=a,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(e,t){for(var n,r=[],s=0,o=0,a="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],d=n[1],f=n.index;if(a+=e.slice(o,f),o=f+h.length,d)a+=d[1];else{var p=e[o],m=n[2],g=n[3],y=n[4],v=n[5],w=n[6],b=n[7];a&&(r.push(a),a="");var _=null!=m&&null!=p&&p!==m,I="+"===w||"*"===w,T="?"===w||"*"===w,E=n[2]||c,k=y||v;r.push({name:g||s++,prefix:m||"",delimiter:E,optional:T,repeat:I,partial:_,asterisk:!!b,pattern:k?l(k):b?".*":"[^"+u(E)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function a(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var s="",a=t||{},u=(i||{}).pretty?o:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!=typeof c){var h,d=a[c.name];if(null==d){if(c.optional){c.partial&&(s+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(h=u(d[f]),!n[l].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");s+=(0===f?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(d),!n[l].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');s+=c.prefix+h}}else s+=c}return s}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,s=!1!==n.end,o="",a=0;a<e.length;a++){var l=e[a];if("string"==typeof l)o+=u(l);else{var d=u(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+d+f+")*"),o+=f=l.optional?l.partial?d+"("+f+")?":"(?:"+d+"("+f+"))?":d+"("+f+")"}}var p=u(n.delimiter||"/"),m=o.slice(-p.length)===p;return i||(o=(m?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=s?"$":i&&m?"":"(?="+p+"|$)",c(new RegExp("^"+o,h(n)),t)}},703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(e,t,n)=>{"use strict";var r=n(294),i=n(418),s=n(840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var a=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=60103,T=60106,E=60107,k=60108,S=60114,C=60109,x=60110,N=60112,A=60113,O=60120,R=60115,P=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;I=V("react.element"),T=V("react.portal"),E=V("react.fragment"),k=V("react.strict_mode"),S=V("react.profiler"),C=V("react.provider"),x=V("react.context"),N=V("react.forward_ref"),A=V("react.suspense"),O=V("react.suspense_list"),R=V("react.memo"),P=V("react.lazy"),D=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),F=V("react.offscreen"),U=V("react.legacy_hidden")}var j,q="function"==typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function B(e){if(void 0===j)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var $=!1;function K(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return K(e.type,!1);case 11:return K(e.type.render,!1);case 22:return K(e.type._render,!1);case 1:return K(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case E:return"Fragment";case T:return"Portal";case S:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return W(e.type);case D:return W(e._render);case P:t=e._payload,e=e._init;try{return W(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function se(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function le(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var Ie=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(Ie[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,xe=null;function Ne(e){if(e=ni(e)){if("function"!=typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),Se(e.stateNode,e.type,t))}}function Ae(e){Ce?xe?xe.push(e):xe=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=xe;if(xe=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Re(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Re,Me=!1,Fe=!1;function Ue(){null===Ce&&null===xe||(De(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(h)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){je=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){je=!1}function ze(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Be=!1,$e=null,Ke=!1,He=null,We={onError:function(e){Be=!0,$e=e}};function Ge(e,t,n,r,i,s,o,a,u){Be=!1,$e=null,ze.apply(We,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(Qe(e)!==e)throw Error(o(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Je(i),e;if(s===r)return Je(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,st=[],ot=null,at=null,ut=null,lt=new Map,ct=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=ft(t,n,r,i,s),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){s.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(it=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==ot&&yt(ot)&&(ot=null),null!==at&&yt(at)&&(at=null),null!==ut&&yt(ut)&&(ut=null),lt.forEach(vt),ct.forEach(vt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,wt)))}function _t(e){function t(t){return bt(t,e)}if(0<st.length){bt(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==at&&bt(at,e),null!==ut&&bt(ut,e),lt.forEach(t),ct.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function It(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:It("Animation","AnimationEnd"),animationiteration:It("Animation","AnimationIteration"),animationstart:It("Animation","AnimationStart"),transitionend:It("Transition","TransitionEnd")},Et={},kt={};function St(e){if(Et[e])return Et[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return Et[e]=n[t];return e}h&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var Ct=St("animationend"),xt=St("animationiteration"),Nt=St("animationstart"),At=St("transitionend"),Ot=new Map,Rt=new Map,Pt=["abort","abort",Ct,"animationEnd",xt,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Ot.set(r,i),l(i,[r])}}(0,s.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(0!==s)r=s,i=Lt=15;else if(0!=(s=134217727&n)){var u=s&~o;0!==u?(r=Mt(u),i=Lt):0!=(a&=s)&&(r=Mt(a),i=Lt)}else 0!=(s=n&~o)?(r=Mt(s),i=Lt):0!==a&&(r=Mt(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Bt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Bt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Vt(10,t):e;case 10:return 0===(e=jt(192&~t))?Vt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&0===(e=jt(4186112&~t))&&(e=512),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function jt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Bt(t)]=n}var Bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-($t(e)/Kt|0)|0},$t=Math.log,Kt=Math.LN2,Ht=s.unstable_UserBlockingPriority,Wt=s.unstable_runWithPriority,Gt=!0;function Qt(e,t,n,r){Me||De();var i=Jt,s=Me;Me=!0;try{Pe(i,e,t,n,r)}finally{(Me=s)||Ue()}}function Yt(e,t,n,r){Wt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<st.length&&-1<dt.indexOf(e))e=ft(null,e,t,n,r),st.push(e);else{var s=Xt(e,t,n,r);if(null===s)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ft(s,e,t,n,r),void st.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=mt(ot,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return lt.set(s,mt(lt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ct.set(s,mt(ct.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=ke(r);if(null!==(i=ti(i))){var s=Qe(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=Ye(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function on(){return!1}function an(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var un,ln,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(hn),fn=i({},hn,{view:0,detail:0}),pn=an(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(un=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=un=0,cn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=an(mn),yn=an(i({},mn,{dataTransfer:0})),vn=an(i({},fn,{relatedTarget:0})),wn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(bn),In=an(i({},hn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Sn}var xn=i({},fn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(xn),An=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Pn),Ln=[9,13,27,32],Mn=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var Un=h&&"TextEvent"in window&&!Fn,Vn=h&&(!Mn||Fn&&8<Fn&&11>=Fn),jn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1,Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ae(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function Yn(e){xr(e,0)}function Jn(e){if(J(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(h){var er;if(h){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ir),Qn=Gn=null)}function ir(e){if("value"===e.propertyName&&Jn(Qn)){var t=[];if(Wn(t,Qn,e,ke(e)),e=Yn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,Ue()}}}}function sr(e,t,n){"focusin"===e?(rr(),Qn=n,(Gn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Qn)}function ar(e,t){if("click"===e)return Jn(t)}function ur(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},cr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,vr=null,wr=null,br=null,_r=!1;function Ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==vr||vr!==X(r)||(r="selectionStart"in(r=vr)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Mr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Pt,2);for(var Tr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Tr.length;Er++)Rt.set(Tr[Er],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,u,l){if(Ge.apply(this,arguments),Be){if(!Be)throw Error(o(198));var c=$e;Be=!1,$e=null,Ke||(Ke=!0,He=c)}}(r,t,void 0,e),e.currentTarget=null}function xr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Cr(i,a,l),s=u}else for(o=0;o<r.length;o++){if(u=(a=r[o]).instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Cr(i,a,l),s=u}}}if(Ke)throw e=He,Ke=!1,He=null,e}function Nr(e,t){var n=si(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Ar]||(e[Ar]=!0,a.forEach((function(t){Sr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,s=r}var o=si(s),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),Pr(s,e,i,t),o.add(a))}function Pr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=ti(a)))return;if(5===(u=o.tag)||6===u){r=s=o;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=s,i=ke(n),o=[];e:{var a=Ot.get(e);if(void 0!==a){var u=dn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Ct:case xt:case Nt:u=wn;break;case At:u=Rn;break;case"scroll":u=pn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=Ve(p,d))&&c.push(Lr(p,m,f))),h)break;p=p.return}0<c.length&&(a=new u(a,l,null,n,i),o.push({event:a,listeners:c}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(l=n.relatedTarget||n.fromElement)||!ti(l)&&!l[Zr])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ti(l):null)&&(l!==(h=Qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=gn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==u?a:ri(u),f=null==l?a:ri(l),(a=new c(m,p+"leave",u,n,i)).target=h,a.relatedTarget=f,m=null,ti(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=f,c.relatedTarget=h,m=c),h=m,u&&l)e:{for(d=l,p=0,f=c=u;f;f=Fr(f))p++;for(f=0,m=d;m;m=Fr(m))f++;for(;0<p-f;)c=Fr(c),p--;for(;0<f-p;)d=Fr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Fr(c),d=Fr(d)}c=null}else c=null;null!==u&&Ur(o,a,u,c,!1),null!==l&&null!==h&&Ur(o,h,l,c,!0)}if("select"===(u=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var g=Xn;else if(Hn(a))if(Zn)g=ur;else{g=or;var y=sr}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ar);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ie(a,"number",a.value)),y=r?ri(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(vr=y,wr=r,br=null);break;case"focusout":br=wr=vr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Ir(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Ir(o,n,i)}var v;if(Mn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else $n?zn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Vn&&"ko"!==n.locale&&($n||"onCompositionStart"!==w?"onCompositionEnd"===w&&$n&&(v=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,$n=!0)),0<(y=Mr(r,w)).length&&(w=new In(w,e,null,n,i),o.push({event:w,listeners:y}),(v||null!==(v=Bn(n)))&&(w.data=v))),(v=Un?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(qn=!0,jn);case"textInput":return(e=t.data)===jn&&qn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!Mn&&zn(e,t)?(e=nn(),tn=en=Zt=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new In("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v)}xr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ve(e,n))&&r.unshift(Lr(e,s,i)),null!=(s=Ve(e,t))&&r.push(Lr(e,s,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(u=Ve(n,s))&&o.unshift(Lr(n,u,a)):i||null!=(u=Ve(n,s))&&o.push(Lr(n,u,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var jr=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"==typeof setTimeout?setTimeout:void 0,Kr="function"==typeof clearTimeout?clearTimeout:void 0;function Hr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0,Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Xr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Jr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Jr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[Xr]||null}function si(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],ai=-1;function ui(e){return{current:e}}function li(e){0>ai||(e.current=oi[ai],oi[ai]=null,ai--)}function ci(e,t){ai++,oi[ai]=e.current,e.current=t}var hi={},di=ui(hi),fi=ui(!1),pi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function gi(e){return null!=e.childContextTypes}function yi(){li(fi),li(di)}function vi(e,t,n){if(di.current!==hi)throw Error(o(168));ci(di,t),ci(fi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(o(108,W(t)||"Unknown",s));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,pi=di.current,ci(di,e),ci(fi,fi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,li(fi),li(di),ci(di,e)):li(fi),ci(fi,n)}var Ii=null,Ti=null,Ei=s.unstable_runWithPriority,ki=s.unstable_scheduleCallback,Si=s.unstable_cancelCallback,Ci=s.unstable_shouldYield,xi=s.unstable_requestPaint,Ni=s.unstable_now,Ai=s.unstable_getCurrentPriorityLevel,Oi=s.unstable_ImmediatePriority,Ri=s.unstable_UserBlockingPriority,Pi=s.unstable_NormalPriority,Di=s.unstable_LowPriority,Li=s.unstable_IdlePriority,Mi={},Fi=void 0!==xi?xi:function(){},Ui=null,Vi=null,ji=!1,qi=Ni(),zi=1e4>qi?Ni:function(){return Ni()-qi};function Bi(){switch(Ai()){case Oi:return 99;case Ri:return 98;case Pi:return 97;case Di:return 96;case Li:return 95;default:throw Error(o(332))}}function $i(e){switch(e){case 99:return Oi;case 98:return Ri;case 97:return Pi;case 96:return Di;case 95:return Li;default:throw Error(o(332))}}function Ki(e,t){return e=$i(e),Ei(e,t)}function Hi(e,t,n){return e=$i(e),ki(e,t,n)}function Wi(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Gi()}function Gi(){if(!ji&&null!==Ui){ji=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),ki(Oi,Wi),t}finally{ji=!1}}}var Qi=_.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ui(null),Xi=null,Zi=null,es=null;function ts(){es=Zi=Xi=null}function ns(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function rs(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function is(e,t){Xi=e,es=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function ss(e,t){if(es!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(es=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Xi)throw Error(o(308));Zi=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var os=!1;function as(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function us(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cs(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function hs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ds(e,t,n,r){var s=e.updateQueue;os=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,u=s.shared.pending;if(null!==u){s.shared.pending=null;var l=u,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=l)}}if(null!==o){for(d=s.baseState,a=0,h=c=l=null;;){u=o.lane;var f=o.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(u=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=m.payload)?p.call(f,d,u):p))break e;d=i({},d,u);break e;case 2:os=!0}}null!==o.callback&&(e.flags|=32,null===(u=s.effects)?s.effects=[o]:u.push(o))}else f={eventTime:f,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=f,l=d):h=h.next=f,a|=u;if(null===(o=o.next)){if(null===(u=s.shared.pending))break;o=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}null===h&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,Ua|=a,e.lanes=a,e.memoizedState=d}}function fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var ps=(new r.Component).refs;function ms(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var gs={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lu(),i=cu(e),s=ls(r,i);s.payload=t,null!=n&&(s.callback=n),cs(e,s),hu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lu(),i=cu(e),s=ls(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),cs(e,s),hu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lu(),r=cu(e),i=ls(n,r);i.tag=2,null!=t&&(i.callback=t),cs(e,i),hu(e,r,n)}};function ys(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!(t.prototype&&t.prototype.isPureReactComponent&&hr(n,r)&&hr(i,s))}function vs(e,t,n){var r=!1,i=hi,s=t.contextType;return"object"==typeof s&&null!==s?s=ss(s):(i=gi(t)?pi:di.current,s=(r=null!=(r=t.contextTypes))?mi(e,i):hi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ws(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gs.enqueueReplaceState(t,t.state,null)}function bs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ps,as(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=ss(s):(s=gi(t)?pi:di.current,i.context=mi(e,s)),ds(e,n,i,r),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(ms(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&gs.enqueueReplaceState(i,i.state,null),ds(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var _s=Array.isArray;function Is(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ps&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ts(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Es(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Wu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Is(e,t,n),r.return=e,r):((r=$u(n.type,n.key,n.props,null,e.mode,r)).ref=Is(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Ku(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Wu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case I:return(n=$u(t.type,t.key,t.props,null,e.mode,n)).ref=Is(e,null,t),n.return=e,n;case T:return(t=Gu(t,e.mode,n)).return=e,t}if(_s(t)||z(t))return(t=Ku(t,e.mode,n,null)).return=e,t;Ts(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case I:return n.key===i?n.type===E?h(e,t,n.props.children,r,i):l(e,t,n,r):null;case T:return n.key===i?c(e,t,n,r):null}if(_s(n)||z(n))return null!==i?null:h(e,t,n,r,null);Ts(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case I:return e=e.get(null===r.key?n:r.key)||null,r.type===E?h(t,e,r.props.children,i,r.key):l(t,e,r,i);case T:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_s(r)||z(r))return h(t,e=e.get(n)||null,r,i,null);Ts(t,r)}return null}function m(i,o,a,u){for(var l=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===c?l=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),l;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],u))&&(o=s(h,o,m),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?l=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),l}function g(i,a,u,l){var c=z(u);if("function"!=typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,y=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,l);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===h?c=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=d(i,v.value,l))&&(a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return c}for(m=r(i,m);!v.done;g++,v=u.next())null!==(v=p(m,i,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,s,u){var l="object"==typeof s&&null!==s&&s.type===E&&null===s.key;l&&(s=s.props.children);var c="object"==typeof s&&null!==s;if(c)switch(s.$$typeof){case I:e:{for(c=s.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(s.type===E){n(e,l.sibling),(r=i(l,s.props.children)).return=e,e=r;break e}}else if(l.elementType===s.type){n(e,l.sibling),(r=i(l,s.props)).ref=Is(e,l,s),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}s.type===E?((r=Ku(s.props.children,e.mode,u,s.key)).return=e,e=r):((u=$u(s.type,s.key,s.props,null,e.mode,u)).ref=Is(e,r,s),u.return=e,e=u)}return a(e);case T:e:{for(l=s.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gu(s,e.mode,u)).return=e,e=r}return a(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=Wu(s,e.mode,u)).return=e,e=r),a(e);if(_s(s))return m(e,r,s,u);if(z(s))return g(e,r,s,u);if(c&&Ts(e,s),void 0===s&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,W(e.type)||"Component"))}return n(e,r)}}var ks=Es(!0),Ss=Es(!1),Cs={},xs=ui(Cs),Ns=ui(Cs),As=ui(Cs);function Os(e){if(e===Cs)throw Error(o(174));return e}function Rs(e,t){switch(ci(As,t),ci(Ns,e),ci(xs,Cs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(xs),ci(xs,t)}function Ps(){li(xs),li(Ns),li(As)}function Ds(e){Os(As.current);var t=Os(xs.current),n=fe(t,e.type);t!==n&&(ci(Ns,e),ci(xs,n))}function Ls(e){Ns.current===e&&(li(xs),li(Ns))}var Ms=ui(0);function Fs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Us=null,Vs=null,js=!1;function qs(e,t){var n=qu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Bs(e){if(js){var t=Vs;if(t){var n=t;if(!zs(e,t)){if(!(t=Wr(n.nextSibling))||!zs(e,t))return e.flags=-1025&e.flags|2,js=!1,void(Us=e);qs(Us,n)}Us=e,Vs=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,js=!1,Us=e}}function $s(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Us=e}function Ks(e){if(e!==Us)return!1;if(!js)return $s(e),js=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Br(t,e.memoizedProps))for(t=Vs;t;)qs(e,t),t=Wr(t.nextSibling);if($s(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vs=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vs=null}}else Vs=Us?Wr(e.stateNode.nextSibling):null;return!0}function Hs(){Vs=Us=null,js=!1}var Ws=[];function Gs(){for(var e=0;e<Ws.length;e++)Ws[e]._workInProgressVersionPrimary=null;Ws.length=0}var Qs=_.ReactCurrentDispatcher,Ys=_.ReactCurrentBatchConfig,Js=0,Xs=null,Zs=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function so(e,t,n,r,i,s){if(Js=s,Xs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qs.current=null===e||null===e.memoizedState?Ro:Po,e=n(r,i),no){s=0;do{if(no=!1,!(25>s))throw Error(o(301));s+=1,eo=Zs=null,t.updateQueue=null,Qs.current=Do,e=n(r,i)}while(no)}if(Qs.current=Oo,t=null!==Zs&&null!==Zs.next,Js=0,eo=Zs=Xs=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Xs.memoizedState=eo=e:eo=eo.next=e,eo}function ao(){if(null===Zs){var e=Xs.alternate;e=null!==e?e.memoizedState:null}else e=Zs.next;var t=null===eo?Xs.memoizedState:eo.next;if(null!==t)eo=t,Zs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Zs=e).memoizedState,baseState:Zs.baseState,baseQueue:Zs.baseQueue,queue:Zs.queue,next:null},null===eo?Xs.memoizedState=eo=e:eo=eo.next=e}return eo}function uo(e,t){return"function"==typeof t?t(e):t}function lo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Zs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=a=s=null,l=i;do{var c=l.lane;if((Js&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(a=u=h,s=r):u=u.next=h,Xs.lanes|=c,Ua|=c}l=l.next}while(null!==l&&l!==i);null===u?s=r:u.next=a,lr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function co(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);lr(s,t.memoizedState)||(Mo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Js&e)===e)&&(t._workInProgressVersionPrimary=r,Ws.push(t))),e)return n(t._source);throw Ws.push(t),Error(o(350))}function fo(e,t,n,r){var i=Aa;if(null===i)throw Error(o(349));var s=t._getVersion,a=s(t._source),u=Qs.current,l=u.useState((function(){return ho(i,t,n)})),c=l[1],h=l[0];l=eo;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var g=Xs;return e.memoizedState={refs:f,source:t,subscribe:r},u.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=s(t._source);if(!lr(a,e)){e=n(t._source),lr(h,e)||(c(e),e=cu(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Bt(o),l=1<<u;r[u]|=e,o&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=cu(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),lr(p,n)&&lr(m,t)&&lr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:h}).dispatch=c=Ao.bind(null,Xs,e),l.queue=e,l.baseQueue=null,h=ho(i,t,n),l.memoizedState=l.baseState=h),h}function po(e,t,n){return fo(ao(),e,t,n)}function mo(e){var t=oo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e}).dispatch=Ao.bind(null,Xs,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xs.updateQueue)?(t={lastEffect:null},Xs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},oo().memoizedState=e}function vo(){return ao().memoizedState}function wo(e,t,n,r){var i=oo();Xs.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=ao();r=void 0===r?null:r;var s=void 0;if(null!==Zs){var o=Zs.memoizedState;if(s=o.destroy,null!==r&&io(r,o.deps))return void go(t,n,s,r)}Xs.flags|=e,i.memoizedState=go(1|t,n,s,r)}function _o(e,t){return wo(516,4,e,t)}function Io(e,t){return bo(516,4,e,t)}function To(e,t){return bo(4,2,e,t)}function Eo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ko(e,t,n){return n=null!=n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)}function So(){}function Co(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xo(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Bi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ys.transition;Ys.transition=1;try{e(!1),t()}finally{Ys.transition=n}}))}function Ao(e,t,n){var r=lu(),i=cu(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===Xs||null!==o&&o===Xs)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=o(a,n);if(s.eagerReducer=o,s.eagerState=u,lr(u,a))return}catch(e){}hu(e,i,r)}}var Oo={readContext:ss,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Ro={readContext:ss,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:ss,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Xs,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o((function(){var t=Ys.transition;Ys.transition=1;try{r(e)}finally{Ys.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fo(r,e,t,n)},useOpaqueIdentifier:function(){if(js){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0==(2&Xs.mode)&&(Xs.flags|=516,go(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Po={readContext:ss,useCallback:Co,useContext:ss,useEffect:Io,useImperativeHandle:ko,useLayoutEffect:To,useMemo:xo,useReducer:lo,useRef:vo,useState:function(){return lo(uo)},useDebugValue:So,useDeferredValue:function(e){var t=lo(uo),n=t[0],r=t[1];return Io((function(){var t=Ys.transition;Ys.transition=1;try{r(e)}finally{Ys.transition=t}}),[e]),n},useTransition:function(){var e=lo(uo)[0];return[vo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return lo(uo)[0]},unstable_isNewReconciler:!1},Do={readContext:ss,useCallback:Co,useContext:ss,useEffect:Io,useImperativeHandle:ko,useLayoutEffect:To,useMemo:xo,useReducer:co,useRef:vo,useState:function(){return co(uo)},useDebugValue:So,useDeferredValue:function(e){var t=co(uo),n=t[0],r=t[1];return Io((function(){var t=Ys.transition;Ys.transition=1;try{r(e)}finally{Ys.transition=t}}),[e]),n},useTransition:function(){var e=co(uo)[0];return[vo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(uo)[0]},unstable_isNewReconciler:!1},Lo=_.ReactCurrentOwner,Mo=!1;function Fo(e,t,n,r){t.child=null===e?Ss(t,null,n,r):ks(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var s=t.ref;return is(t,i),r=so(e,t,n,r,s,i),null===e||Mo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,na(e,t,i))}function Vo(e,t,n,r,i,s){if(null===e){var o=n.type;return"function"!=typeof o||zu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=$u(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,jo(e,t,o,r,i,s))}return o=e.child,0==(i&s)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?na(e,t,s):(t.flags|=1,(e=Bu(o,r)).ref=t.ref,e.return=t,t.child=e)}function jo(e,t,n,r,i,s){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0==(s&i))return t.lanes=e.lanes,na(e,t,s);0!=(16384&e.flags)&&(Mo=!0)}return Bo(e,t,n,r,s)}function qo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},wu(0,n);else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wu(0,e),null;t.memoizedState={baseLanes:0},wu(0,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,wu(0,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Bo(e,t,n,r,i){var s=gi(n)?pi:di.current;return s=mi(t,s),is(t,i),n=so(e,t,n,r,s,i),null===e||Mo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,na(e,t,i))}function $o(e,t,n,r,i){if(gi(n)){var s=!0;bi(t)}else s=!1;if(is(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vs(t,n,r),bs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;l="object"==typeof l&&null!==l?ss(l):mi(t,l=gi(n)?pi:di.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||u!==l)&&ws(t,o,r,l),os=!1;var d=t.memoizedState;o.state=d,ds(t,r,o,i),u=t.memoizedState,a!==r||d!==u||fi.current||os?("function"==typeof c&&(ms(t,n,c,r),u=t.memoizedState),(a=os||ys(t,n,a,r,d,u,l))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,us(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Yi(t.type,a),o.props=l,h=t.pendingProps,d=o.context,u="object"==typeof(u=n.contextType)&&null!==u?ss(u):mi(t,u=gi(n)?pi:di.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==u)&&ws(t,o,r,u),os=!1,d=t.memoizedState,o.state=d,ds(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||fi.current||os?("function"==typeof f&&(ms(t,n,f,r),p=t.memoizedState),(l=os||ys(t,n,l,r,d,p,u))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,s,i)}function Ko(e,t,n,r,i,s){zo(e,t);var o=0!=(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),na(e,t,s);r=t.stateNode,Lo.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ks(t,e.child,null,s),t.child=ks(t,null,a,s)):Fo(e,t,a,s),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Rs(e,t.containerInfo)}var Wo,Go,Qo,Yo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,s=Ms.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),ci(Ms,1&s),null===e?(void 0!==i.fallback&&Bs(t),e=i.children,s=i.fallback,o?(e=Xo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"==typeof i.unstable_expectedLoadTime?(e=Xo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Hu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=function(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return 0==(2&s)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Bu(o,a),null!==e?r=Bu(e,r):(r=Ku(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Bu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Xo(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Hu(t,i,0,null),n=Ku(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function Zo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),rs(e.return,t)}function ea(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function ta(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Fo(e,t,r.children,n),0!=(2&(r=Ms.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Ms,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ea(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ea(t,!0,n,null,s,t.lastEffect);break;case"together":ea(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function na(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ua|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Bu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ra(e,t){if(!js)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ia(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Ps(),li(fi),li(di),Gs(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ks(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ls(t);var s=Os(As.current);if(n=t.type,null!==e&&null!=t.stateNode)Go(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Os(xs.current),Ks(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Jr]=t,r[Xr]=a,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Nr(kr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,a),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",r);break;case"textarea":ue(r,a),Nr("invalid",r)}for(var l in Te(n,a),e=null,a)a.hasOwnProperty(l)&&(s=a[l],"children"===l?"string"==typeof s?r.textContent!==s&&(e=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(e=["children",""+s]):u.hasOwnProperty(l)&&null!=s&&"onScroll"===l&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,a,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===s.nodeType?s:s.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Wo(e,t),t.stateNode=e,l=Ee(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),s=r;break;case"iframe":case"object":case"embed":Nr("load",e),s=r;break;case"video":case"audio":for(s=0;s<kr.length;s++)Nr(kr[s],e);s=r;break;case"source":Nr("error",e),s=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),s=r;break;case"details":Nr("toggle",e),s=r;break;case"input":ee(e,r),s=Z(e,r),Nr("invalid",e);break;case"option":s=se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),s=ae(e,r),Nr("invalid",e);break;default:s=r}Te(n,s);var c=s;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?_e(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"==typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Nr("scroll",e):null!=h&&b(e,a,h,l))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?oe(e,!!r.multiple,a,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qo(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));n=Os(As.current),Os(xs.current),Ks(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Ms),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ks(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ms.current)?0===La&&(La=3):(0!==La&&3!==La||(La=4),null===Aa||0==(134217727&Ua)&&0==(134217727&Va)||mu(Aa,Ra))),(r||n)&&(t.flags|=4),null);case 4:return Ps(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ns(t),null;case 19:if(li(Ms),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(l=r.rendering))if(a)ra(r,!1);else{if(0!==La||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Fs(e))){for(t.flags|=64,ra(r,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(Ms,1&Ms.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ba&&(t.flags|=64,a=!0,ra(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Fs(l))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ra(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!js)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ba&&1073741824!==n&&(t.flags|=64,a=!0,ra(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Ms.current,ci(Ms,a?1&t|2:1&t),n):null;case 23:case 24:return bu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function sa(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ps(),li(fi),li(di),Gs(),0!=(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ls(e),null;case 13:return li(Ms),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ms),null;case 4:return Ps(),null;case 10:return ns(e),null;case 23:case 24:return bu(),null;default:return null}}function oa(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function aa(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Wo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Go=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Os(xs.current);var o,a=null;switch(n){case"input":s=Z(e,s),r=Z(e,r),a=[];break;case"option":s=se(e,s),r=se(e,r),a=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":s=ae(e,s),r=ae(e,r),a=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(e.onclick=Vr)}for(h in Te(n,r),n=null,s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&null!=s[h])if("style"===h){var l=s[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var c=r[h];if(l=null!=s?s[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Nr("scroll",e),a||l===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var ua="function"==typeof WeakMap?WeakMap:Map;function la(e,t,n){(n=ls(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wa||(Wa=!0,Ga=r),aa(0,t)},n}function ca(e,t,n){(n=ls(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return aa(0,t),r(i)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Qa?Qa=new Set([this]):Qa.add(this),aa(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ha="function"==typeof WeakSet?WeakSet:Set;function da(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Fu(e,t)}else t.current=null}function fa(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function pa(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Du(n,e),Pu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fs(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fs(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function ma(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ga(e,t){if(Ti&&"function"==typeof Ti.onCommitFiberUnmount)try{Ti.onCommitFiberUnmount(Ii,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Du(t,n);else{r=t;try{i()}catch(e){Fu(r,e)}}n=n.next}while(n!==e)}break;case 1:if(da(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Fu(t,e)}break;case 5:da(t);break;case 4:Ia(e,t)}}function ya(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function va(e){return 5===e.tag||3===e.tag||4===e.tag}function wa(e){e:{for(var t=e.return;null!==t;){if(va(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||va(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ba(e,n,t):_a(e,n,t)}function ba(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(ba(e,t,n),e=e.sibling;null!==e;)ba(e,t,n),e=e.sibling}function _a(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function Ia(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var a=e,u=i,l=u;;)if(ga(a,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(a=n,u=i.stateNode,8===a.nodeType?a.parentNode.removeChild(u):a.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ga(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function Ta(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<s.length;i+=2){var a=s[i],u=s[i+1];"style"===a?_e(n,u):"dangerouslySetInnerHTML"===a?ge(n,u):"children"===a?ye(n,u):b(n,a,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?oe(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(za=zi(),ma(t.child,!0)),void Ea(t);case 19:return void Ea(t);case 23:case 24:return void ma(t,null!==t.memoizedState)}throw Error(o(163))}function Ea(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ha),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ka(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Sa=Math.ceil,Ca=_.ReactCurrentDispatcher,xa=_.ReactCurrentOwner,Na=0,Aa=null,Oa=null,Ra=0,Pa=0,Da=ui(0),La=0,Ma=null,Fa=0,Ua=0,Va=0,ja=0,qa=null,za=0,Ba=1/0;function $a(){Ba=zi()+500}var Ka,Ha=null,Wa=!1,Ga=null,Qa=null,Ya=!1,Ja=null,Xa=90,Za=[],eu=[],tu=null,nu=0,ru=null,iu=-1,su=0,ou=0,au=null,uu=!1;function lu(){return 0!=(48&Na)?zi():-1!==iu?iu:iu=zi()}function cu(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Bi()?1:2;if(0===su&&(su=Fa),0!==Qi.transition){0!==ou&&(ou=null!==qa?qa.pendingLanes:0),e=su;var t=4186112&~ou;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Bi(),e=Vt(0!=(4&Na)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),su)}function hu(e,t,n){if(50<nu)throw nu=0,ru=null,Error(o(185));if(null===(e=du(e,t)))return null;zt(e,t,n),e===Aa&&(Va|=t,4===La&&mu(e,Ra));var r=Bi();1===t?0!=(8&Na)&&0==(48&Na)?gu(e):(fu(e,n),0===Na&&($a(),Wi())):(0==(4&Na)||98!==r&&99!==r||(null===tu?tu=new Set([e]):tu.add(e)),fu(e,n)),qa=e}function du(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Bt(a),l=1<<u,c=s[u];if(-1===c){if(0==(l&r)||0!=(l&i)){c=t,Mt(l);var h=Lt;s[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);a&=~l}if(r=Ft(e,e===Aa?Ra:0),t=Lt,0===r)null!==n&&(n!==Mi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Si(n)}15===t?(n=gu.bind(null,e),null===Ui?(Ui=[n],Vi=ki(Oi,Gi)):Ui.push(n),n=Mi):14===t?n=Hi(99,gu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,pu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function pu(e){if(iu=-1,ou=su=0,0!=(48&Na))throw Error(o(327));var t=e.callbackNode;if(Ru()&&e.callbackNode!==t)return null;var n=Ft(e,e===Aa?Ra:0);if(0===n)return null;var r=n,i=Na;Na|=16;var s=Tu();for(Aa===e&&Ra===r||($a(),_u(e,r));;)try{Su();break}catch(t){Iu(e,t)}if(ts(),Ca.current=s,Na=i,null!==Oa?r=0:(Aa=null,Ra=0,r=La),0!=(Fa&Va))_u(e,0);else if(0!==r){if(2===r&&(Na|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ut(e))&&(r=Eu(e,n))),1===r)throw t=Ma,_u(e,0),mu(e,n),fu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Nu(e);break;case 3:if(mu(e,n),(62914560&n)===n&&10<(r=za+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){lu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$r(Nu.bind(null,e),r);break}Nu(e);break;case 4:if(mu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Bt(n);s=1<<a,(a=r[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sa(n/1960))-n)){e.timeoutHandle=$r(Nu.bind(null,e),n);break}Nu(e);break;default:throw Error(o(329))}}return fu(e,zi()),e.callbackNode===t?pu.bind(null,e):null}function mu(e,t){for(t&=~ja,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function gu(e){if(0!=(48&Na))throw Error(o(327));if(Ru(),e===Aa&&0!=(e.expiredLanes&Ra)){var t=Ra,n=Eu(e,t);0!=(Fa&Va)&&(n=Eu(e,t=Ft(e,t)))}else n=Eu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Na|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ut(e))&&(n=Eu(e,t))),1===n)throw n=Ma,_u(e,0),mu(e,t),fu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nu(e),fu(e,zi()),null}function yu(e,t){var n=Na;Na|=1;try{return e(t)}finally{0===(Na=n)&&($a(),Wi())}}function vu(e,t){var n=Na;Na&=-2,Na|=8;try{return e(t)}finally{0===(Na=n)&&($a(),Wi())}}function wu(e,t){ci(Da,Pa),Pa|=t,Fa|=t}function bu(){Pa=Da.current,li(Da)}function _u(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Oa)for(n=Oa.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&yi();break;case 3:Ps(),li(fi),li(di),Gs();break;case 5:Ls(r);break;case 4:Ps();break;case 13:case 19:li(Ms);break;case 10:ns(r);break;case 23:case 24:bu()}n=n.return}Aa=e,Oa=Bu(e.current,null),Ra=Pa=Fa=t,La=0,Ma=null,ja=Va=Ua=0}function Iu(e,t){for(;;){var n=Oa;try{if(ts(),Qs.current=Oo,to){for(var r=Xs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if(Js=0,eo=Zs=Xs=null,no=!1,xa.current=null,null===n||null===n.return){La=1,Ma=t,Oa=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Ra,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var l=u;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Ms.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var g=d.updateQueue;if(null===g){var y=new Set;y.add(l),d.updateQueue=y}else g.add(l);if(0==(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=ls(-1,1);v.tag=2,cs(a,v)}a.lanes|=1;break e}u=void 0,a=t;var w=s.pingCache;if(null===w?(w=s.pingCache=new ua,u=new Set,w.set(l,u)):void 0===(u=w.get(l))&&(u=new Set,w.set(l,u)),!u.has(a)){u.add(a);var b=Uu.bind(null,s,l,a);l.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((W(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==La&&(La=2),u=oa(u,a),d=o;do{switch(d.tag){case 3:s=u,d.flags|=4096,t&=-t,d.lanes|=t,hs(d,la(0,s,t));break e;case 1:s=u;var _=d.type,I=d.stateNode;if(0==(64&d.flags)&&("function"==typeof _.getDerivedStateFromError||null!==I&&"function"==typeof I.componentDidCatch&&(null===Qa||!Qa.has(I)))){d.flags|=4096,t&=-t,d.lanes|=t,hs(d,ca(d,s,t));break e}}d=d.return}while(null!==d)}xu(n)}catch(e){t=e,Oa===n&&null!==n&&(Oa=n=n.return);continue}break}}function Tu(){var e=Ca.current;return Ca.current=Oo,null===e?Oo:e}function Eu(e,t){var n=Na;Na|=16;var r=Tu();for(Aa===e&&Ra===t||_u(e,t);;)try{ku();break}catch(t){Iu(e,t)}if(ts(),Na=n,Ca.current=r,null!==Oa)throw Error(o(261));return Aa=null,Ra=0,La}function ku(){for(;null!==Oa;)Cu(Oa)}function Su(){for(;null!==Oa&&!Ci();)Cu(Oa)}function Cu(e){var t=Ka(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,null===t?xu(e):Oa=t,xa.current=null}function xu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ia(n,t,Pa)))return void(Oa=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Pa)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=sa(t)))return n.flags&=2047,void(Oa=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Oa=t);Oa=t=e}while(null!==t);0===La&&(La=5)}function Nu(e){var t=Bi();return Ki(99,Au.bind(null,e,t)),null}function Au(e,t){do{Ru()}while(null!==Ja);if(0!=(48&Na))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,u=e.expirationTimes;0<s;){var l=31-Bt(s),c=1<<l;i[l]=0,a[l]=-1,u[l]=-1,s&=~c}if(null!==tu&&0==(24&r)&&tu.has(e)&&tu.delete(e),e===Aa&&(Oa=Aa=null,Ra=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Na,Na|=32,xa.current=null,jr=Gt,gr(a=mr())){if("selectionStart"in a)u={start:a.selectionStart,end:a.selectionEnd};else e:if(u=(u=a.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,s=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(e){u=null;break e}var h=0,d=-1,f=-1,p=0,m=0,g=a,y=null;t:for(;;){for(var v;g!==u||0!==s&&3!==g.nodeType||(d=h+s),g!==l||0!==c&&3!==g.nodeType||(f=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===a)break t;if(y===u&&++p===s&&(d=h),y===l&&++m===c&&(f=h),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}u=-1===d||-1===f?null:{start:d,end:f}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:a,selectionRange:u},Gt=!1,au=null,uu=!1,Ha=r;do{try{Ou()}catch(e){if(null===Ha)throw Error(o(330));Fu(Ha,e),Ha=Ha.nextEffect}}while(null!==Ha);au=null,Ha=r;do{try{for(a=e;null!==Ha;){var w=Ha.flags;if(16&w&&ye(Ha.stateNode,""),128&w){var b=Ha.alternate;if(null!==b){var _=b.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&w){case 2:wa(Ha),Ha.flags&=-3;break;case 6:wa(Ha),Ha.flags&=-3,Ta(Ha.alternate,Ha);break;case 1024:Ha.flags&=-1025;break;case 1028:Ha.flags&=-1025,Ta(Ha.alternate,Ha);break;case 4:Ta(Ha.alternate,Ha);break;case 8:Ia(a,u=Ha);var I=u.alternate;ya(u),null!==I&&ya(I)}Ha=Ha.nextEffect}}catch(e){if(null===Ha)throw Error(o(330));Fu(Ha,e),Ha=Ha.nextEffect}}while(null!==Ha);if(_=qr,b=mr(),w=_.focusedElem,a=_.selectionRange,b!==w&&w&&w.ownerDocument&&pr(w.ownerDocument.documentElement,w)){null!==a&&gr(w)&&(b=a.start,void 0===(_=a.end)&&(_=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(_,w.value.length)):(_=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(_=_.getSelection(),u=w.textContent.length,I=Math.min(a.start,u),a=void 0===a.end?I:Math.min(a.end,u),!_.extend&&I>a&&(u=a,a=I,I=u),u=fr(w,I),s=fr(w,a),u&&s&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==s.node||_.focusOffset!==s.offset)&&((b=b.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),I>a?(_.addRange(b),_.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),_.addRange(b))))),b=[];for(_=w;_=_.parentNode;)1===_.nodeType&&b.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<b.length;w++)(_=b[w]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Gt=!!jr,qr=jr=null,e.current=n,Ha=r;do{try{for(w=e;null!==Ha;){var T=Ha.flags;if(36&T&&pa(w,Ha.alternate,Ha),128&T){b=void 0;var E=Ha.ref;if(null!==E){var k=Ha.stateNode;Ha.tag,b=k,"function"==typeof E?E(b):E.current=b}}Ha=Ha.nextEffect}}catch(e){if(null===Ha)throw Error(o(330));Fu(Ha,e),Ha=Ha.nextEffect}}while(null!==Ha);Ha=null,Fi(),Na=i}else e.current=n;if(Ya)Ya=!1,Ja=e,Xa=t;else for(Ha=r;null!==Ha;)t=Ha.nextEffect,Ha.nextEffect=null,8&Ha.flags&&((T=Ha).sibling=null,T.stateNode=null),Ha=t;if(0===(r=e.pendingLanes)&&(Qa=null),1===r?e===ru?nu++:(nu=0,ru=e):nu=0,n=n.stateNode,Ti&&"function"==typeof Ti.onCommitFiberRoot)try{Ti.onCommitFiberRoot(Ii,n,void 0,64==(64&n.current.flags))}catch(e){}if(fu(e,zi()),Wa)throw Wa=!1,e=Ga,Ga=null,e;return 0!=(8&Na)||Wi(),null}function Ou(){for(;null!==Ha;){var e=Ha.alternate;uu||null===au||(0!=(8&Ha.flags)?Ze(Ha,au)&&(uu=!0):13===Ha.tag&&ka(e,Ha)&&Ze(Ha,au)&&(uu=!0));var t=Ha.flags;0!=(256&t)&&fa(e,Ha),0==(512&t)||Ya||(Ya=!0,Hi(97,(function(){return Ru(),null}))),Ha=Ha.nextEffect}}function Ru(){if(90!==Xa){var e=97<Xa?97:Xa;return Xa=90,Ki(e,Lu)}return!1}function Pu(e,t){Za.push(t,e),Ya||(Ya=!0,Hi(97,(function(){return Ru(),null})))}function Du(e,t){eu.push(t,e),Ya||(Ya=!0,Hi(97,(function(){return Ru(),null})))}function Lu(){if(null===Ja)return!1;var e=Ja;if(Ja=null,0!=(48&Na))throw Error(o(331));var t=Na;Na|=32;var n=eu;eu=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===s)throw Error(o(330));Fu(s,e)}}for(n=Za,Za=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===s)throw Error(o(330));Fu(s,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Na=t,Wi(),!0}function Mu(e,t,n){cs(e,t=la(0,t=oa(n,t),1)),t=lu(),null!==(e=du(e,1))&&(zt(e,1,t),fu(e,t))}function Fu(e,t){if(3===e.tag)Mu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Mu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Qa||!Qa.has(r))){var i=ca(n,e=oa(t,e),1);if(cs(n,i),i=lu(),null!==(n=du(n,1)))zt(n,1,i),fu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Qa||!Qa.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Uu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lu(),e.pingedLanes|=e.suspendedLanes&n,Aa===e&&(Ra&n)===n&&(4===La||3===La&&(62914560&Ra)===Ra&&500>zi()-za?_u(e,0):ja|=n),fu(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Bi()?1:2:(0===su&&(su=Fa),0===(t=jt(62914560&~su))&&(t=4194304))),n=lu(),null!==(e=du(e,t))&&(zt(e,t,n),fu(e,n))}function ju(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qu(e,t,n,r){return new ju(e,t,n,r)}function zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bu(e,t){var n=e.alternate;return null===n?((n=qu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $u(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)zu(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case E:return Ku(n.children,i,s,t);case M:a=8,i|=16;break;case k:a=8,i|=1;break;case S:return(e=qu(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=s,e;case A:return(e=qu(13,n,t,i)).type=A,e.elementType=A,e.lanes=s,e;case O:return(e=qu(19,n,t,i)).elementType=O,e.lanes=s,e;case F:return Hu(n,i,s,t);case U:return(e=qu(24,n,t,i)).elementType=U,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case x:a=9;break e;case N:a=11;break e;case R:a=14;break e;case P:a=16,r=null;break e;case D:a=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=qu(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ku(e,t,n,r){return(e=qu(7,e,r,t)).lanes=n,e}function Hu(e,t,n,r){return(e=qu(23,e,r,t)).elementType=F,e.lanes=n,e}function Wu(e,t,n){return(e=qu(6,e,null,t)).lanes=n,e}function Gu(e,t,n){return(t=qu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Yu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ju(e,t,n,r){var i=t.current,s=lu(),a=cu(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var l=n.type;if(gi(l)){n=wi(n,l,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=ls(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),cs(i,t),hu(i,a,s),a}function Xu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function el(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Qu(e,t,null!=n&&!0===n.hydrate),t=qu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,as(t),e[Zr]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Xu(o);a.call(e)}}Ju(t,o,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Xu(o);u.call(e)}}vu((function(){Ju(t,o,e,i)}))}return Xu(o)}function il(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(o(200));return Yu(e,t,null,n)}Ka=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Mo=!0;else{if(0==(n&r)){switch(Mo=!1,t.tag){case 3:Ho(t),Hs();break;case 5:Ds(t);break;case 1:gi(t.type)&&bi(t);break;case 4:Rs(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Jo(e,t,n):(ci(Ms,1&Ms.current),null!==(t=na(e,t,n))?t.sibling:null);ci(Ms,1&Ms.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ta(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Ms,Ms.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return na(e,t,n)}Mo=0!=(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),is(t,n),i=so(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var s=!0;bi(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,as(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&ms(t,r,a,e),i.updater=gs,t.stateNode=i,i._reactInternals=t,bs(t,r,e,n),t=Ko(null,t,r,!0,s,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"==typeof e)return zu(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(i),e=Yi(i,e),s){case 0:t=Bo(null,t,i,e,n);break e;case 1:t=$o(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,$o(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,us(e,t),ds(t,r,null,n),(r=t.memoizedState.element)===i)Hs(),t=na(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(Vs=Wr(t.stateNode.containerInfo.firstChild),Us=t,s=js=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],Ws.push(s);for(n=Ss(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Hs();t=t.child}return t;case 5:return Ds(t),null===e&&Bs(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,Br(r,i)?a=null:null!==s&&Br(r,s)&&(t.flags|=16),zo(e,t),Fo(e,t,a,n),t.child;case 6:return null===e&&Bs(t),null;case 13:return Jo(e,t,n);case 4:return Rs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ks(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var u=t.type._context;if(ci(Ji,u._currentValue),u._currentValue=s,null!==a)if(u=a.value,0==(s=lr(u,s)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,s):1073741823))){if(a.children===i.children&&!fi.current){t=na(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){a=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&s)){1===u.tag&&((c=ls(-1,n&-n)).tag=2,cs(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),rs(u.return,n),l.lanes|=n;break}c=c.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,is(t,n),r=r(i=ss(i,s.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return s=Yi(i=t.type,t.pendingProps),Vo(e,t,i,s=Yi(i.type,s),r,n);case 15:return jo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,bi(t)):e=!1,is(t,n),vs(t,r,i),bs(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return ta(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},tl.prototype.render=function(e){Ju(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ju(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(hu(e,4,lu()),el(e,4))},tt=function(e){13===e.tag&&(hu(e,67108864,lu()),el(e,67108864))},nt=function(e){if(13===e.tag){var t=lu(),n=cu(e);hu(e,n,t),el(e,n)}},rt=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=yu,Pe=function(e,t,n,r,i){var s=Na;Na|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Na=s)&&($a(),Wi())}},De=function(){0==(49&Na)&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fu(e,zi())}))}Wi()}(),Ru())},Le=function(e,t){var n=Na;Na|=2;try{return e(t)}finally{0===(Na=n)&&($a(),Wi())}};var sl={Events:[ni,ri,ii,Ae,Oe,Ru,{current:!1}]},ol={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},al={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{Ii=ul.inject(al),Ti=ul}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl,t.createPortal=il,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Na;if(0!=(48&n))return e(t);Na|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Na=n,Wi()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(o(200));return rl(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(o(200));return rl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(o(40));return!!e._reactRootContainer&&(vu((function(){rl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=yu,t.unstable_createPortal=function(e,t){return il(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return rl(e,t,n,!1,r)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case s:case a:case o:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case m:case u:return e;default:return t}}case i:return t}}}function I(e){return _(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return I(e)||_(e)===c},t.isConcurrentMode=I,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===h||e===a||e===o||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===v||e.$$typeof===w||e.$$typeof===b||e.$$typeof===y)},t.typeOf=_},864:(e,t,n)=>{"use strict";e.exports=n(921)},408:(e,t,n)=>{"use strict";var r=n(418),i=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,a=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),s=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),l=h("react.memo"),c=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=v.prototype=new y;w.constructor=v,r(w,g.prototype),w.isPureReactComponent=!0;var b={current:null},_=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!I.hasOwnProperty(r)&&(s[r]=t[r]);var u=arguments.length-2;if(1===u)s.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===s[r]&&(s[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:a,props:s,_owner:b.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case s:u=!0}}if(u)return o=o(u=e),e=""===r?"."+S(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+S(a=e[l],l);u+=C(a,t,n,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),l=0;!(a=e.next()).done;)u+=C(a=a.value,t,n,c=r+S(a,l++),o);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function x(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function O(){var e=A.current;if(null===e)throw Error(f(321));return e}var R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var s=r({},e.props),o=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!I.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];s.children=l}return{$$typeof:i,type:e.type,key:o,ref:a,props:s,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,r,i,s;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,h=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,_=b.port2;b.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+v;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){y=d((function(){e(t.unstable_now())}),n)},i=function(){f(y),y=-1}}function I(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,o=e[s],a=s+1,u=e[a];if(void 0!==o&&0>k(o,n))void 0!==u&&0>k(u,o)?(e[r]=u,e[a]=n,r=a):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==u&&0>k(u,n)))break e;e[r]=u,e[a]=n,r=a}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],C=[],x=1,N=null,A=3,O=!1,R=!1,P=!1;function D(e){for(var t=T(C);null!==t;){if(null===t.callback)E(C);else{if(!(t.startTime<=e))break;E(C),t.sortIndex=t.expirationTime,I(S,t)}t=T(C)}}function L(e){if(P=!1,D(e),!R)if(null!==T(S))R=!0,n(M);else{var t=T(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,P&&(P=!1,i()),O=!0;var s=A;try{for(D(n),N=T(S);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"==typeof o){N.callback=null,A=N.priorityLevel;var a=o(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?N.callback=a:N===T(S)&&E(S),D(n)}else E(S);N=T(S)}if(null!==N)var u=!0;else{var l=T(C);null!==l&&r(L,l.startTime-n),u=!1}return u}finally{N=null,A=s,O=!1}}var F=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||O||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return T(S)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,s,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:x++,callback:s,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>a?(e.sortIndex=o,I(C,e),null===T(S)&&e===T(C)&&(P?i():P=!0,r(L,o-a))):(e.sortIndex=u,I(S,e),R||O||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},o=[],a=0;a<e.length;a++){var u=e[a],l=r.base?u[0]+r.base:u[0],c=s[l]||0,h="".concat(l," ").concat(c);s[l]=c+1;var d=n(h),f={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var p=i(f,r);r.byIndex=a,t.splice(a,0,{identifier:h,updater:p,references:1})}o.push(h)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var s=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=n(s[o]);t[a].references--}for(var u=r(e,i),l=0;l<s.length;l++){var c=n(s[l]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=u}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>ht,SDK_VERSION:()=>Jt,_DEFAULT_ENTRY_NAME:()=>Vt,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>$t,_apps:()=>qt,_clearComponents:()=>Gt,_components:()=>zt,_getProvider:()=>Ht,_registerComponent:()=>Kt,_removeServiceInstance:()=>Wt,deleteApp:()=>tn,getApp:()=>Zt,getApps:()=>en,initializeApp:()=>Xt,onLog:()=>rn,registerVersion:()=>nn,setLogLevel:()=>sn});var t=n(294),r=n(935);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e){return"/"===e.charAt(0)}function u(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function l(e,t){if(!e)throw new Error("Invariant failed")}function c(e){return"/"===e.charAt(0)?e:"/"+e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function f(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function p(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var s=t.indexOf("?");return-1!==s&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=o({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&a(e),o=t&&a(t),l=s||o;if(e&&a(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var c=i[i.length-1];n="."===c||".."===c||""===c}else n=!1;for(var h=0,d=i.length;d>=0;d--){var f=i[d];"."===f?u(i,d):".."===f?(u(i,d),h++):h&&(u(i,d),h--)}if(!l)for(;h--;h)i.unshift("..");!l||""===i[0]||i[0]&&a(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function m(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var s="function"==typeof e?e(t,n):e;"string"==typeof s?"function"==typeof r?r(s,i):i(!0):i(!1!==s)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var g=!("undefined"==typeof window||!window.document||!window.document.createElement);function y(e,t){t(window.confirm(e))}var v="popstate",w="hashchange";function b(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),g||l(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,s=i.forceRefresh,a=void 0!==s&&s,u=i.getUserConfirmation,_=void 0===u?y:u,I=i.keyLength,T=void 0===I?6:I,E=e.basename?d(c(e.basename)):"";function k(e){var t=e||{},n=t.key,r=t.state,i=window.location,s=i.pathname+i.search+i.hash;return E&&(s=h(s,E)),p(s,r,n)}function S(){return Math.random().toString(36).substr(2,T)}var C=m();function x(e){o(j,e),j.length=t.length,C.notifyListeners(j.location,j.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(k(e.state))}function A(){R(k(b()))}var O=!1;function R(e){O?(O=!1,x()):C.confirmTransitionTo(e,"POP",_,(function(t){t?x({action:"POP",location:e}):function(e){var t=j.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(O=!0,M(i))}(e)}))}var P=k(b()),D=[P.key];function L(e){return E+f(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(v,N),r&&window.addEventListener(w,A)):0===F&&(window.removeEventListener(v,N),r&&window.removeEventListener(w,A))}var V=!1,j={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",s=p(e,r,S(),j.location);C.confirmTransitionTo(s,i,_,(function(e){if(e){var r=L(s),o=s.key,u=s.state;if(n)if(t.pushState({key:o,state:u},null,r),a)window.location.href=r;else{var l=D.indexOf(j.location.key),c=D.slice(0,l+1);c.push(s.key),D=c,x({action:i,location:s})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",s=p(e,r,S(),j.location);C.confirmTransitionTo(s,i,_,(function(e){if(e){var r=L(s),o=s.key,u=s.state;if(n)if(t.replaceState({key:o,state:u},null,r),a)window.location.replace(r);else{var l=D.indexOf(j.location.key);-1!==l&&(D[l]=s.key),x({action:i,location:s})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return V||(U(1),V=!0),function(){return V&&(V=!1,U(-1)),t()}},listen:function(e){var t=C.appendListener(e);return U(1),function(){U(-1),t()}}};return j}var I=n(697),T=n.n(I),E=1073741823,k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{};function S(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var C=t.createContext||function(e,n){var r,i,o,a="__create-react-context-"+((k[o="__global_unique_id__"]=(k[o]||0)+1)+"__"),u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=S(t.props.value),t}s(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(t="function"==typeof n?n(r,i):E,0!=(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);u.childContextTypes=((r={})[a]=T().object.isRequired,r);var l=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}s(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?E:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?E:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return l.contextTypes=((i={})[a]=T().object,i),{Provider:u,Consumer:l}};const x=C;var N=n(779),A=n.n(N);function O(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(864),n(679);var R=function(e){var t=x();return t.displayName=e,t},P=R("Router-History"),D=function(e){var t=x();return t.displayName=e,t},L=D("Router"),M=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}s(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(L.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(P.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component,t.Component;var F={},U=0;function V(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,s=void 0!==i&&i,o=n.strict,a=void 0!==o&&o,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=F[n]||(F[n]={});if(r[e])return r[e];var i=[],s={regexp:A()(e,i,t),keys:i};return U<1e4&&(r[e]=s,U++),s}(n,{end:s,strict:a,sensitive:l}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var c=u[0],h=u.slice(1),d=e===c;return s&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:o.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var j=function(e){function n(){return e.apply(this,arguments)||this}return s(n,e),n.prototype.render=function(){var e=this;return t.createElement(L.Consumer,null,(function(n){n||l(!1);var r=e.props.location||n.location,i=o({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?V(r.pathname,e.props):n.match}),s=e.props,a=s.children,u=s.component,c=s.render;return Array.isArray(a)&&0===a.length&&(a=null),t.createElement(L.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:u?t.createElement(u,i):c?c(i):null:"function"==typeof a?a(i):null)}))},n}(t.Component);t.Component;var q=function(e){function n(){return e.apply(this,arguments)||this}return s(n,e),n.prototype.render=function(){var e=this;return t.createElement(L.Consumer,null,(function(n){n||l(!1);var r,i,s=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var a=e.props.path||e.props.from;i=a?V(s.pathname,o({},e.props,{path:a})):n.match}})),i?t.cloneElement(r,{location:s,computedMatch:i}):null}))},n}(t.Component),z=t.useContext,B=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=_(t.props),t}return s(n,e),n.prototype.render=function(){return t.createElement(M,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var $=function(e,t){return"function"==typeof e?e(t):e},K=function(e,t){return"string"==typeof e?p(e,null,null,t):e},H=function(e){return e},W=t.forwardRef;void 0===W&&(W=H);var G=W((function(e,n){var r=e.innerRef,i=e.navigate,s=e.onClick,a=O(e,["innerRef","navigate","onClick"]),u=a.target,l=o({},a,{onClick:function(e){try{s&&s(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return l.ref=H!==W&&n||r,t.createElement("a",l)})),Q=W((function(e,n){var r=e.component,i=void 0===r?G:r,s=e.replace,a=e.to,u=e.innerRef,c=O(e,["component","replace","to","innerRef"]);return t.createElement(L.Consumer,null,(function(e){e||l(!1);var r=e.history,h=K($(a,e.location),e.location),d=h?r.createHref(h):"",f=o({},c,{href:d,navigate:function(){var t=$(a,e.location);(s?r.replace:r.push)(t)}});return H!==W?f.ref=n||u:f.innerRef=u,t.createElement(i,f)}))})),Y=function(e){return e},J=t.forwardRef;function X(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=X(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Z(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=X(e))&&(r&&(r+=" "),r+=t);return r}function ee(){return ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}function te(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ne(e){return"number"==typeof e&&!isNaN(e)}function re(e){return"boolean"==typeof e}function ie(e){return"string"==typeof e}function se(e){return"function"==typeof e}function oe(e){return ie(e)||se(e)?e:null}function ae(e){return 0===e||e}void 0===J&&(J=Y),J((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,s=e.activeClassName,a=void 0===s?"active":s,u=e.activeStyle,c=e.className,h=e.exact,d=e.isActive,f=e.location,p=e.sensitive,m=e.strict,g=e.style,y=e.to,v=e.innerRef,w=O(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(L.Consumer,null,(function(e){e||l(!1);var r=f||e.location,s=K($(y,r),r),b=s.pathname,_=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),I=_?V(r.pathname,{path:_,exact:h,sensitive:p,strict:m}):null,T=!!(d?d(I,r):I),E=T?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,a):c,k=T?o({},g,{},u):g,S=o({"aria-current":T&&i||null,className:E,style:k,to:s},w);return Y!==J?S.ref=n||v:S.innerRef=v,t.createElement(Q,S)}))}));var ue=!("undefined"==typeof window||!window.document||!window.document.createElement);function le(e){return(0,t.isValidElement)(e)||ie(e)||se(e)||ne(e)}var ce={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},he={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function de(e){var n=e.enter,r=e.exit,i=e.appendPosition,s=void 0!==i&&i,o=e.collapse,a=void 0===o||o,u=e.collapseDuration,l=void 0===u?300:u;return function(e){var i=e.children,o=e.position,u=e.preventExitTransition,c=e.done,h=e.nodeRef,d=e.isIn,f=s?n+"--"+o:n,p=s?r+"--"+o:r,m=(0,t.useRef)(),g=(0,t.useRef)(0);function y(e){if(e.target===h.current){var t=h.current;t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",y),t.removeEventListener("animationcancel",y),0===g.current&&(t.className=m.current)}}function v(){var e=h.current;e.removeEventListener("animationend",v),a?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,c,l):c()}return(0,t.useLayoutEffect)((function(){var e;e=h.current,m.current=e.className,e.className+=" "+f,e.addEventListener("animationend",y),e.addEventListener("animationcancel",y)}),[]),(0,t.useEffect)((function(){d||(u?v():function(){g.current=1;var e=h.current;e.className+=" "+p,e.addEventListener("animationend",v)}())}),[d]),t.createElement(t.Fragment,null,i)}}var fe={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)&&this.list.get(e).forEach((function(n){var i=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(i)}))}},pe=["delay","staleId"];function me(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function ge(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function ye(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,s=void 0===i?"close":i;return(0,t.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":s},(0,t.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,t.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function ve(e){var n,r,i=e.delay,s=e.isRunning,o=e.closeToast,a=e.type,u=e.hide,l=e.className,c=e.style,h=e.controlledProgress,d=e.progress,f=e.rtl,p=e.isIn,m=e.theme,g=ee({},c,{animationDuration:i+"ms",animationPlayState:s?"running":"paused",opacity:u?0:1});h&&(g.transform="scaleX("+d+")");var y=Z("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+m,"Toastify__progress-bar--"+a,((n={})["Toastify__progress-bar--rtl"]=f,n)),v=se(l)?l({rtl:f,type:a,defaultClassName:y}):Z(y,l),w=((r={})[h&&d>=1?"onTransitionEnd":"onAnimationEnd"]=h&&d<1?null:function(){p&&o()},r);return(0,t.createElement)("div",Object.assign({role:"progressbar","aria-hidden":u?"true":"false","aria-label":"notification timer",className:v,style:g},w))}ve.defaultProps={type:he.DEFAULT,hide:!1};var we=["theme","type"],be=function(e){var n=e.theme,r=e.type,i=te(e,we);return(0,t.createElement)("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-"+r+")"},i))},_e={info:function(e){return(0,t.createElement)(be,Object.assign({},e),(0,t.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return(0,t.createElement)(be,Object.assign({},e),(0,t.createElement)("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return(0,t.createElement)(be,Object.assign({},e),(0,t.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return(0,t.createElement)(be,Object.assign({},e),(0,t.createElement)("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return(0,t.createElement)("div",{className:"Toastify__spinner"})}},Ie=function(e){var n,r,i=function(e){var n=(0,t.useState)(!1),r=n[0],i=n[1],s=(0,t.useState)(!1),o=s[0],a=s[1],u=(0,t.useRef)(null),l=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,c=(0,t.useRef)(e),h=e.autoClose,d=e.pauseOnHover,f=e.closeToast,p=e.onClick,m=e.closeOnClick;function g(t){if(e.draggable){l.didMove=!1,document.addEventListener("mousemove",b),document.addEventListener("mouseup",_),document.addEventListener("touchmove",b),document.addEventListener("touchend",_);var n=u.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=me(t.nativeEvent),l.y=ge(t.nativeEvent),"x"===e.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function y(){if(l.boundingRect){var t=l.boundingRect,n=t.top,r=t.bottom,i=t.left,s=t.right;e.pauseOnHover&&l.x>=i&&l.x<=s&&l.y>=n&&l.y<=r?w():v()}}function v(){i(!0)}function w(){i(!1)}function b(t){var n=u.current;l.canDrag&&n&&(l.didMove=!0,r&&w(),l.x=me(t),l.y=ge(t),"x"===e.draggableDirection?l.delta=l.x-l.start:l.delta=l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),n.style.transform="translate"+e.draggableDirection+"("+l.delta+"px)",n.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function _(){document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",_);var t=u.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return a(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,t.useEffect)((function(){c.current=e})),(0,t.useEffect)((function(){return u.current&&u.current.addEventListener("d",v,{once:!0}),se(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=c.current;se(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&(document.hasFocus()||w(),window.addEventListener("focus",v),window.addEventListener("blur",w)),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",v),window.removeEventListener("blur",w))}}),[e.pauseOnFocusLoss]);var I={onMouseDown:g,onTouchStart:g,onMouseUp:y,onTouchEnd:y};return h&&d&&(I.onMouseEnter=w,I.onMouseLeave=v),m&&(I.onClick=function(e){p&&p(e),l.canCloseOnClick&&f()}),{playToast:v,pauseToast:w,isRunning:r,preventExitTransition:o,toastRef:u,eventHandlers:I}}(e),s=i.isRunning,o=i.preventExitTransition,a=i.toastRef,u=i.eventHandlers,l=e.closeButton,c=e.children,h=e.autoClose,d=e.onClick,f=e.type,p=e.hideProgressBar,m=e.closeToast,g=e.transition,y=e.position,v=e.className,w=e.style,b=e.bodyClassName,_=e.bodyStyle,I=e.progressClassName,T=e.progressStyle,E=e.updateId,k=e.role,S=e.progress,C=e.rtl,x=e.toastId,N=e.deleteToast,A=e.isIn,O=e.isLoading,R=e.icon,P=e.theme,D=Z("Toastify__toast","Toastify__toast-theme--"+P,"Toastify__toast--"+f,((n={})["Toastify__toast--rtl"]=C,n)),L=se(v)?v({rtl:C,position:y,type:f,defaultClassName:D}):Z(D,v),M=!!S,F=_e[f],U={theme:P,type:f},V=F&&F(U);return!1===R?V=void 0:se(R)?V=R(U):(0,t.isValidElement)(R)?V=(0,t.cloneElement)(R,U):ie(R)?V=R:O&&(V=_e.spinner()),(0,t.createElement)(g,{isIn:A,done:N,position:y,preventExitTransition:o,nodeRef:a},(0,t.createElement)("div",Object.assign({id:x,onClick:d,className:L},u,{style:w,ref:a}),(0,t.createElement)("div",Object.assign({},A&&{role:k},{className:se(b)?b({type:f}):Z("Toastify__toast-body",b),style:_}),V&&(0,t.createElement)("div",{className:Z("Toastify__toast-icon",(r={},r["Toastify--animate-icon Toastify__zoom-enter"]=!O,r))},V),(0,t.createElement)("div",null,c)),function(e){if(e){var n={closeToast:m,type:f,theme:P};return se(e)?e(n):(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):void 0}}(l),(h||M)&&(0,t.createElement)(ve,Object.assign({},E&&!M?{key:"pb-"+E}:{},{rtl:C,theme:P,delay:h,isRunning:s,isIn:A,closeToast:m,hide:p,type:f,style:T,className:I,controlledProgress:M,progress:S}))))},Te=function(e){var n=function(e){var n=(0,t.useReducer)((function(e){return e+1}),0),r=n[1],i=(0,t.useState)([]),s=i[0],o=i[1],a=(0,t.useRef)(null),u=(0,t.useRef)(new Map).current,l=function(e){return-1!==s.indexOf(e)},c=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:function(e){return u.get(e)}}).current;function h(e){var t=e.containerId;!c.props.limit||t&&c.containerId!==t||(c.count-=c.queue.length,c.queue=[])}function d(e){o((function(t){return ae(e)?t.filter((function(t){return t!==e})):[]}))}function f(){var e=c.queue.shift();m(e.toastContent,e.toastProps,e.staleId)}function p(e,n){var i=n.delay,s=n.staleId,o=te(n,pe);if(le(e)&&!function(e){return!a.current||c.props.enableMultiContainer&&e.containerId!==c.props.containerId||u.has(e.toastId)&&null==e.updateId}(o)){var l=o.toastId,h=o.updateId,p=o.data,g=c.props,y=function(){return d(l)},v=null==h;v&&c.count++;var w,b,_={toastId:l,updateId:h,isLoading:o.isLoading,theme:o.theme||g.theme,icon:null!=o.icon?o.icon:g.icon,isIn:!1,key:o.key||c.toastKey++,type:o.type,closeToast:y,closeButton:o.closeButton,rtl:g.rtl,position:o.position||g.position,transition:o.transition||g.transition,className:oe(o.className||g.toastClassName),bodyClassName:oe(o.bodyClassName||g.bodyClassName),style:o.style||g.toastStyle,bodyStyle:o.bodyStyle||g.bodyStyle,onClick:o.onClick||g.onClick,pauseOnHover:re(o.pauseOnHover)?o.pauseOnHover:g.pauseOnHover,pauseOnFocusLoss:re(o.pauseOnFocusLoss)?o.pauseOnFocusLoss:g.pauseOnFocusLoss,draggable:re(o.draggable)?o.draggable:g.draggable,draggablePercent:o.draggablePercent||g.draggablePercent,draggableDirection:o.draggableDirection||g.draggableDirection,closeOnClick:re(o.closeOnClick)?o.closeOnClick:g.closeOnClick,progressClassName:oe(o.progressClassName||g.progressClassName),progressStyle:o.progressStyle||g.progressStyle,autoClose:!o.isLoading&&(w=o.autoClose,b=g.autoClose,!1===w||ne(w)&&w>0?w:b),hideProgressBar:re(o.hideProgressBar)?o.hideProgressBar:g.hideProgressBar,progress:o.progress,role:o.role||g.role,deleteToast:function(){u.delete(l);var e=c.queue.length;if(c.count=ae(l)?c.count-1:c.count-c.displayedToast,c.count<0&&(c.count=0),e>0){var t=ae(l)?1:c.props.limit;if(1===e||1===t)c.displayedToast++,f();else{var n=t>e?e:t;c.displayedToast=n;for(var i=0;i<n;i++)f()}}else r()}};se(o.onOpen)&&(_.onOpen=o.onOpen),se(o.onClose)&&(_.onClose=o.onClose),_.closeButton=g.closeButton,!1===o.closeButton||le(o.closeButton)?_.closeButton=o.closeButton:!0===o.closeButton&&(_.closeButton=!le(g.closeButton)||g.closeButton);var I=e;(0,t.isValidElement)(e)&&!ie(e.type)?I=(0,t.cloneElement)(e,{closeToast:y,toastProps:_,data:p}):se(e)&&(I=e({closeToast:y,toastProps:_,data:p})),g.limit&&g.limit>0&&c.count>g.limit&&v?c.queue.push({toastContent:I,toastProps:_,staleId:s}):ne(i)&&i>0?setTimeout((function(){m(I,_,s)}),i):m(I,_,s)}}function m(e,t,n){var r=t.toastId;n&&u.delete(n),u.set(r,{content:e,props:t}),o((function(e){return[].concat(e,[r]).filter((function(e){return e!==n}))}))}return(0,t.useEffect)((function(){return c.containerId=e.containerId,fe.cancelEmit(3).on(0,p).on(1,(function(e){return a.current&&d(e)})).on(5,h).emit(2,c),function(){return fe.emit(3,c)}}),[]),(0,t.useEffect)((function(){c.isToastActive=l,c.displayedToast=s.length,fe.emit(4,s.length,e.containerId)}),[s]),(0,t.useEffect)((function(){c.props=e})),{getToastToRender:function(t){var n=new Map,r=Array.from(u.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:a,isToastActive:l}}(e),r=n.getToastToRender,i=n.containerRef,s=n.isToastActive,o=e.className,a=e.style,u=e.rtl,l=e.containerId;function c(e){var t,n=Z("Toastify__toast-container","Toastify__toast-container--"+e,((t={})["Toastify__toast-container--rtl"]=u,t));return se(o)?o({position:e,rtl:u,defaultClassName:n}):Z(n,oe(o))}return(0,t.createElement)("div",{ref:i,className:"Toastify",id:l},r((function(e,n){var r=n.length?ee({},a):ee({},a,{pointerEvents:"none"});return(0,t.createElement)("div",{className:c(e),style:r,key:"container-"+e},n.map((function(e){var n=e.content,r=e.props;return(0,t.createElement)(Ie,Object.assign({},r,{isIn:s(r.toastId),key:"toast-"+r.key,closeButton:!0===r.closeButton?ye:r.closeButton}),n)})))})))};Te.defaultProps={position:ce.TOP_RIGHT,transition:de({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:ye,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var Ee,ke,Se,Ce=new Map,xe=[],Ne=!1;function Ae(){return Math.random().toString(36).substring(2,9)}function Oe(e){return e&&(ie(e.toastId)||ne(e.toastId))?e.toastId:Ae()}function Re(e,n){return Ce.size>0?fe.emit(0,e,n):(xe.push({content:e,options:n}),Ne&&ue&&(Ne=!1,ke=document.createElement("div"),document.body.appendChild(ke),(0,r.render)((0,t.createElement)(Te,Object.assign({},Se)),ke))),n.toastId}function Pe(e,t){return ee({},t,{type:t&&t.type||e,toastId:Oe(t)})}function De(e){return function(t,n){return Re(t,Pe(e,n))}}function Le(e,t){return Re(e,Pe(he.DEFAULT,t))}Le.loading=function(e,t){return Re(e,Pe(he.DEFAULT,ee({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},Le.promise=function(e,t,n){var r,i=t.pending,s=t.error,o=t.success;i&&(r=ie(i)?Le.loading(i,n):Le.loading(i.render,ee({},n,i)));var a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=function(e,t,i){if(null!=t){var s=ee({type:e},a,n,{data:i}),o=ie(t)?{render:t}:t;return r?Le.update(r,ee({},s,o)):Le(o.render,ee({},s,o)),i}Le.dismiss(r)},l=se(e)?e():e;return l.then((function(e){return u("success",o,e)})).catch((function(e){return u("error",s,e)})),l},Le.success=De(he.SUCCESS),Le.info=De(he.INFO),Le.error=De(he.ERROR),Le.warning=De(he.WARNING),Le.warn=Le.warning,Le.dark=function(e,t){return Re(e,Pe(he.DEFAULT,ee({theme:"dark"},t)))},Le.dismiss=function(e){return fe.emit(1,e)},Le.clearWaitingQueue=function(e){return void 0===e&&(e={}),fe.emit(5,e)},Le.isActive=function(e){var t=!1;return Ce.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},Le.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=Ce.get(n||Ee);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,s=ee({},r,t,{toastId:t.toastId||e,updateId:Ae()});s.toastId!==e&&(s.staleId=e);var o=s.render||i;delete s.render,Re(o,s)}}),0)},Le.done=function(e){Le.update(e,{progress:1})},Le.onChange=function(e){return se(e)&&fe.on(4,e),function(){se(e)&&fe.off(4,e)}},Le.configure=function(e){void 0===e&&(e={}),Ne=!0,Se=e},Le.POSITION=ce,Le.TYPE=he,fe.on(2,(function(e){Ee=e.containerId||e,Ce.set(Ee,e),xe.forEach((function(e){fe.emit(0,e.content,e.options)})),xe=[]})).on(3,(function(e){Ce.delete(e.containerId||e),0===Ce.size&&fe.off(0).off(1).off(5),ue&&ke&&document.body.removeChild(ke)}));var Me=n(379),Fe=n.n(Me),Ue=n(795),Ve=n.n(Ue),je=n(569),qe=n.n(je),ze=n(565),Be=n.n(ze),$e=n(216),Ke=n.n($e),He=n(589),We=n.n(He),Ge=n(982),Qe={};Qe.styleTagTransform=We(),Qe.setAttributes=Be(),Qe.insert=qe().bind(null,"head"),Qe.domAPI=Ve(),Qe.insertStyleElement=Ke(),Fe()(Ge.Z,Qe),Ge.Z&&Ge.Z.locals&&Ge.Z.locals;var Ye=n(800),Je={};Je.styleTagTransform=We(),Je.setAttributes=Be(),Je.insert=qe().bind(null,"head"),Je.domAPI=Ve(),Je.insertStyleElement=Ke(),Fe()(Ye.Z,Je),Ye.Z&&Ye.Z.locals&&Ye.Z.locals;const Xe=n.p+"24c62a04339edb5b6e6d715618b9c4ad.svg",Ze=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},et={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,u=a?e[t+2]:0,l=i>>2,c=(3&i)<<4|o>>4;let h=(15&o)<<2|u>>6,d=63&u;a||(d=64,s||(h=64)),r.push(n[l],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ze(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw Error();const u=i<<2|s>>4;if(r.push(u),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},tt=function(e){return function(e){const t=Ze(e);return et.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function nt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=nt(e[n],t[n]));return e}class rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function it(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function st(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function ot(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function at(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){const e=it();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ct(){return"object"==typeof indexedDB}class ht extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dt.prototype.create)}}class dt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(ft,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new ht(r,o,n)}}const ft=/\{\$([^}]+)}/g;function pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function mt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(gt(n)&&gt(s)){if(!mt(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function gt(e){return null!==e&&"object"==typeof e}function yt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function vt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function wt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function bt(e,t){const n=new _t(e,t);return n.subscribe.bind(n)}class _t{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=It),void 0===r.error&&(r.error=It),void 0===r.complete&&(r.complete=It);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function It(){}function Tt(e){return e&&e._delegate?e._delegate:e}class Et{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const kt="[DEFAULT]";class St{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new rt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:kt})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===kt?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:kt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ct{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new St(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const xt=[];var Nt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Nt||(Nt={}));const At={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},Ot=Nt.INFO,Rt={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},Pt=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Rt[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Dt{constructor(e){this.name=e,this._logLevel=Ot,this._logHandler=Pt,this._userLogHandler=null,xt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?At[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}class Lt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Mt="@firebase/app",Ft="0.7.17",Ut=new Dt("@firebase/app"),Vt="[DEFAULT]",jt={[Mt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qt=new Map,zt=new Map;function Bt(e,t){try{e.container.addComponent(t)}catch(n){Ut.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function $t(e,t){e.container.addOrOverwriteComponent(t)}function Kt(e){const t=e.name;if(zt.has(t))return Ut.debug(`There were multiple attempts to register component ${t}.`),!1;zt.set(t,e);for(const t of qt.values())Bt(t,e);return!0}function Ht(e,t){return e.container.getProvider(t)}function Wt(e,t,n=Vt){Ht(e,t).clearInstance(n)}function Gt(){zt.clear()}const Qt=new dt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Yt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Et("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const Jt="9.6.7";function Xt(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw Qt.create("bad-app-name",{appName:String(r)});const i=qt.get(r);if(i){if(mt(e,i.options)&&mt(n,i.config))return i;throw Qt.create("duplicate-app",{appName:r})}const s=new Ct(r);for(const e of zt.values())s.addComponent(e);const o=new Yt(e,n,s);return qt.set(r,o),o}function Zt(e=Vt){const t=qt.get(e);if(!t)throw Qt.create("no-app",{appName:e});return t}function en(){return Array.from(qt.values())}async function tn(e){const t=e.name;qt.has(t)&&(qt.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function nn(e,t,n){var r;let i=null!==(r=jt[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ut.warn(e.join(" "))}Kt(new Et(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function rn(e,t){if(null!==e&&"function"!=typeof e)throw Qt.create("invalid-log-argument");!function(e,t){for(const n of xt){let r=null;t&&t.level&&(r=At[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const s=i.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:Nt[n].toLowerCase(),message:s,args:i,type:t.name})}}}(e,t)}function sn(e){var t;t=e,xt.forEach((e=>{e.setLogLevel(t)}))}function on(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Kt(new Et("platform-logger",(e=>new Lt(e)),"PRIVATE")),nn(Mt,Ft,""),nn(Mt,Ft,"esm2017"),nn("fire-js",""),Object.create,Object.create;const an=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},un=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ln=new dt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),cn=new Dt("@firebase/auth");function hn(e,...t){cn.logLevel<=Nt.ERROR&&cn.error(`Auth (${Jt}): ${e}`,...t)}function dn(e,...t){throw gn(e,...t)}function fn(e,...t){return gn(e,...t)}function pn(e,t,n){const r=Object.assign(Object.assign({},un()),{[t]:n});return new dt("auth","Firebase",r).create(t,{appName:e.name})}function mn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&dn(e,"argument-error"),pn(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gn(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ln.create(e,...t)}function yn(e,t,...n){if(!e)throw gn(t,...n)}function vn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw hn(t),new Error(t)}function wn(e,t){e||vn(t)}const bn=new Map;function _n(e){wn(e instanceof Function,"Expected a class definition");let t=bn.get(e);return t?(wn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,bn.set(e,t),t)}function In(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Tn(){return"http:"===En()||"https:"===En()}function En(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class kn{constructor(e,t){this.shortDelay=e,this.longDelay=t,wn(t>e,"Short delay should be less than long delay!"),this.isMobile=st()||ut()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Tn()||at()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Sn(e,t){wn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Cn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Nn=new kn(3e4,6e4);function An(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function On(e,t,n,r,i={}){return Rn(e,i,(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=yt(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Cn.fetch()(Dn(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Rn(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},xn),t);try{const t=new Ln(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Mn(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Mn(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Mn(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw pn(e,a,o);dn(e,a)}}catch(t){if(t instanceof ht)throw t;dn(e,"network-request-failed")}}async function Pn(e,t,n,r,i={}){const s=await On(e,t,n,r,i);return"mfaPendingCredential"in s&&dn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Dn(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Sn(e.config,i):`${e.config.apiScheme}://${i}`}class Ln{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(fn(this.auth,"network-request-failed"))),Nn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fn(e,t,r);return i.customData._tokenResponse=n,i}function Fn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Un(e){return 1e3*Number(e)}function Vn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return hn("JWT malformed, contained fewer than 3 sections"),null;try{const e=function(e){try{return et.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return e?JSON.parse(e):(hn("Failed to decode base64 JWT payload"),null)}catch(e){return hn("Caught error parsing JWT payload as JSON",e),null}}async function jn(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof ht&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class qn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class zn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fn(this.lastLoginAt),this.creationTime=Fn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bn(e){var t;const n=e.auth,r=await e.getIdToken(),i=await jn(e,async function(e,t){return On(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));yn(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=on(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=(u=e.providerData,l=o,[...u.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var u,l;const c=e.isAnonymous,h=!(e.email&&s.passwordHash||(null==a?void 0:a.length)),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zn(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class $n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yn(e.idToken,"internal-error"),yn(void 0!==e.idToken,"internal-error"),yn(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Vn(e);return yn(t,"internal-error"),yn(void 0!==t.exp,"internal-error"),yn(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return yn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Rn(e,{},(async()=>{const n=yt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Dn(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Cn.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new $n;return n&&(yn("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(yn("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(yn("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $n,this.toJSON())}_performRefresh(){return vn("not implemented")}}function Kn(e,t){yn("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Hn{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=on(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await jn(this,this.stsTokenManager.getToken(this.auth,e));return yn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Tt(e),r=await n.getIdToken(t),i=Vn(r);yn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Fn(Un(i.auth_time)),issuedAtTime:Fn(Un(i.iat)),expirationTime:Fn(Un(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Tt(e);await Bn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(yn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Hn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){yn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Bn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await jn(this,async function(e,t){return On(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,u,l;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(u=t.createdAt)&&void 0!==u?u:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:I}=t;yn(v&&I,e,"internal-error");const T=$n.fromJSON(this.name,I);yn("string"==typeof v,e,"internal-error"),Kn(c,e.name),Kn(h,e.name),yn("boolean"==typeof w,e,"internal-error"),yn("boolean"==typeof b,e,"internal-error"),Kn(d,e.name),Kn(f,e.name),Kn(p,e.name),Kn(m,e.name),Kn(g,e.name),Kn(y,e.name);const E=new Hn({uid:v,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t,n=!1){const r=new $n;r.updateFromServerResponse(t);const i=new Hn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Bn(i),i}}class Wn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Wn.type="NONE";const Gn=Wn;function Qn(e,t,n){return`firebase:${e}:${t}:${n}`}class Yn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Qn(this.userKey,r.apiKey,i),this.fullPersistenceKey=Qn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Yn(_n(Gn),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||_n(Gn);const s=Qn(n,e.config.apiKey,e.name);let o=null;for(const n of t)try{const t=await n._get(s);if(t){const r=Hn._fromJSON(e,t);n!==i&&(o=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new Yn(i,e,n)):new Yn(i,e,n)}}function Jn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rr(t))return"Blackberry";if(ir(t))return"Webos";if(Zn(t))return"Safari";if((t.includes("chrome/")||er(t))&&!t.includes("edge/"))return"Chrome";if(nr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Xn(e=it()){return/firefox\//i.test(e)}function Zn(e=it()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function er(e=it()){return/crios\//i.test(e)}function tr(e=it()){return/iemobile/i.test(e)}function nr(e=it()){return/android/i.test(e)}function rr(e=it()){return/blackberry/i.test(e)}function ir(e=it()){return/webos/i.test(e)}function sr(e=it()){return/iphone|ipad|ipod/i.test(e)}function or(e=it()){return sr(e)||nr(e)||ir(e)||rr(e)||/windows phone/i.test(e)||tr(e)}function ar(e,t=[]){let n;switch(e){case"Browser":n=Jn(it());break;case"Worker":n=`${Jn(it())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jt}/${r}`}class ur{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cr(this),this.idTokenSubscription=new cr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ln,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_n(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Yn.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);r&&r!==i||!(null==s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(yn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bn(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Tt(e):null;return t&&yn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&yn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(_n(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_n(e)||this._popupRedirectResolver;yn(t,this,"argument-error"),this.redirectPersistenceManager=await Yn.create(this,[_n(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return yn(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ar(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function lr(e){return Tt(e)}class cr{constructor(e){this.auth=e,this.observer=null,this.addObserver=bt((e=>this.observer=e))}get next(){return yn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function dr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class fr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vn("not implemented")}_getIdTokenResponse(e){return vn("not implemented")}_linkToIdToken(e,t){return vn("not implemented")}_getReauthenticationResolver(e){return vn("not implemented")}}async function pr(e,t){return On(e,"POST","/v1/accounts:resetPassword",An(e,t))}async function mr(e,t){return On(e,"POST","/v1/accounts:update",t)}async function gr(e,t){return On(e,"POST","/v1/accounts:sendOobCode",An(e,t))}class yr extends fr{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new yr(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new yr(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return Pn(e,"POST","/v1/accounts:signInWithPassword",An(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Pn(e,"POST","/v1/accounts:signInWithEmailLink",An(e,t))}(e,{email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return mr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Pn(e,"POST","/v1/accounts:signInWithEmailLink",An(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function vr(e,t){return Pn(e,"POST","/v1/accounts:signInWithIdp",An(e,t))}class wr extends fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=on(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new wr(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return vr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,vr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,vr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yt(t)}return e}}const br={USER_NOT_FOUND:"user-not-found"};class _r extends fr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new _r({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new _r({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Pn(e,"POST","/v1/accounts:signInWithPhoneNumber",An(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Pn(e,"POST","/v1/accounts:signInWithPhoneNumber",An(e,t));if(n.temporaryProof)throw Mn(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Pn(e,"POST","/v1/accounts:signInWithPhoneNumber",An(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),br)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new _r({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ir{constructor(e){var t,n,r,i,s,o;const a=vt(wt(e)),u=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);yn(u&&l&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=vt(wt(e)).link,n=t?vt(wt(t)).deep_link_id:null,r=vt(wt(e)).deep_link_id;return(r?vt(wt(r)).link:null)||r||n||t||e}(e);try{return new Ir(t)}catch(e){return null}}}class Tr{constructor(){this.providerId=Tr.PROVIDER_ID}static credential(e,t){return yr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ir.parseLink(t);return yn(n,"argument-error"),yr._fromEmailAndCode(e,n.code,n.tenantId)}}Tr.PROVIDER_ID="password",Tr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Tr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Er{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kr extends Er{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Sr extends kr{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return yn("providerId"in t&&"signInMethod"in t,"argument-error"),wr._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return yn(e.idToken||e.accessToken,"argument-error"),wr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Sr.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Sr.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new Sr(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(e){return null}}}class Cr extends kr{constructor(){super("facebook.com")}static credential(e){return wr._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch(e){return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Cr.PROVIDER_ID="facebook.com";class xr extends kr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wr._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return xr.credential(t,n)}catch(e){return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com",xr.PROVIDER_ID="google.com";class Nr extends kr{constructor(){super("github.com")}static credential(e){return wr._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch(e){return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com",Nr.PROVIDER_ID="github.com";class Ar extends fr{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return vr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,vr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,vr(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Ar(n,i):null}static _create(e,t){return new Ar(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Or extends Er{constructor(e){yn(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Or.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Or.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ar.fromJSON(e);return yn(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Ar._create(n,t)}catch(e){return null}}}class Rr extends kr{constructor(){super("twitter.com")}static credential(e,t){return wr._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Rr.credential(t,n)}catch(e){return null}}}async function Pr(e,t){return Pn(e,"POST","/v1/accounts:signUp",An(e,t))}Rr.TWITTER_SIGN_IN_METHOD="twitter.com",Rr.PROVIDER_ID="twitter.com";class Dr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Hn._fromIdTokenResponse(e,n,r),s=Lr(n);return new Dr({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Lr(n);return new Dr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Lr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Mr extends ht{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Mr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Mr(e,t,n,r)}}function Fr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Mr._fromErrorAndOperation(e,n,t,r);throw n}))}function Ur(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function Vr(e,t,n=!1){const r=await jn(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Dr._forOperation(e,"link",r)}async function jr(e,t,n){await Bn(t);const r=!1===e?"provider-already-linked":"no-such-provider";yn(Ur(t.providerData).has(n)===e,t.auth,r)}async function qr(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await jn(e,Fr(r,i,t,e),n);yn(s.idToken,r,"internal-error");const o=Vn(s.idToken);yn(o,r,"internal-error");const{sub:a}=o;return yn(e.uid===a,r,"user-mismatch"),Dr._forOperation(e,i,s)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&dn(r,"user-mismatch"),e}}async function zr(e,t,n=!1){const r="signIn",i=await Fr(e,r,t),s=await Dr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Br(e,t){return zr(lr(e),t)}async function $r(e,t){const n=Tt(e);return await jr(!1,n,t.providerId),Vr(n,t)}async function Kr(e,t){return qr(Tt(e),t)}class Hr{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Wr._fromServerResponse(e,t):dn(e,"internal-error")}}class Wr extends Hr{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Wr(t)}}function Gr(e,t,n){var r;yn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),yn(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(yn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(yn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Qr(e,t){const n=Tt(e),r=await pr(n,{oobCode:t}),i=r.requestType;switch(yn(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":yn(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":yn(r.mfaInfo,n,"internal-error");default:yn(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Hr._fromServerResponse(lr(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}function Yr(e,t,n){return Br(Tt(e),Tr.credential(t,n))}async function Jr(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=Tt(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await jn(r,async function(e,t){return On(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find((({providerId:e})=>"password"===e));o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}async function Xr(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await jn(e,mr(r,i));await e._updateTokensIfNecessary(s,!0)}class Zr{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class ei extends Zr{constructor(e,t,n,r){super(e,t,n),this.username=r}}class ti extends Zr{constructor(e,t){super(e,"facebook.com",t)}}class ni extends ei{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class ri extends Zr{constructor(e,t){super(e,"google.com",t)}}class ii extends ei{constructor(e,t,n){super(e,"twitter.com",t,n)}}function si(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Vn(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Zr(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new ti(s,i);case"github.com":return new ni(s,i);case"google.com":return new ri(s,i);case"twitter.com":return new ii(s,i,e.screenName||null);case"custom":case"anonymous":return new Zr(s,null);default:return new Zr(s,r,i)}}(n)}class oi{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new oi("enroll",e)}static _fromMfaPendingCredential(e){return new oi("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return oi._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return oi._fromIdtoken(e.multiFactorSession.idToken)}return null}}class ai{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=lr(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Hr._fromServerResponse(n,e)));yn(r.mfaPendingCredential,n,"internal-error");const s=oi._fromMfaPendingCredential(r.mfaPendingCredential);return new ai(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Dr._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return yn(t.user,n,"internal-error"),Dr._forOperation(t.user,t.operationType,o);default:dn(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class ui{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Hr._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new ui(e)}async getSession(){return oi._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await jn(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await jn(this.user,function(e,t){return On(e,"POST","/v2/accounts/mfaEnrollment:withdraw",An(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==e.code)throw e}}}const li=new WeakMap,ci="__sak";class hi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ci,"1"),this.storage.removeItem(ci),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class di extends hi{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=it();return Zn(e)||sr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=or(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);lt()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}di.type="LOCAL";const fi=di;class pi extends hi{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}pi.type="SESSION";const mi=pi;class gi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new gi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function yi(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}gi.receivers=[];class vi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const u=yi("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function wi(){return window}function bi(){return void 0!==wi().WorkerGlobalScope&&"function"==typeof wi().importScripts}const _i="firebaseLocalStorageDb",Ii="firebaseLocalStorage",Ti="fbase_key";class Ei{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ki(e,t){return e.transaction([Ii],t?"readwrite":"readonly").objectStore(Ii)}function Si(){const e=indexedDB.open(_i,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ii,{keyPath:Ti})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ii)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(_i);return new Ei(e).toPromise()}(),t(await Si()))}))}))}async function Ci(e,t,n){const r=ki(e,!0).put({[Ti]:t,value:n});return new Ei(r).toPromise()}function xi(e,t){const n=ki(e,!0).delete(t);return new Ei(n).toPromise()}class Ni{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Si()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gi._getInstance(bi()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new vi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Si();return await Ci(e,ci,"1"),await xi(e,ci),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ci(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ki(e,!1).get(t),r=await new Ei(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>xi(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ki(e,!1).getAll();return new Ei(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ni.type="LOCAL";const Ai=Ni;function Oi(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=fn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ri(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Pi=1e12;class Di{constructor(e){this.auth=e,this.counter=Pi,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Li(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Pi;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Pi;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Pi;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Li{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;yn(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Mi=Ri("rcb"),Fi=new kn(3e4,6e4);class Ui{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!wi().grecaptcha}load(e,t=""){return yn(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(wi().grecaptcha):new Promise(((n,r)=>{const i=wi().setTimeout((()=>{r(fn(e,"network-request-failed"))}),Fi.get());wi()[Mi]=()=>{wi().clearTimeout(i),delete wi()[Mi];const s=wi().grecaptcha;if(!s)return void r(fn(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Oi(`https://www.google.com/recaptcha/api.js??${yt({onload:Mi,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(fn(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!wi().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vi{async load(e){return new Di(e)}clearedOneInstance(){}}const ji="recaptcha",qi={theme:"light",type:"image"};class zi{constructor(e,t=Object.assign({},qi),n){this.parameters=t,this.type=ji,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lr(n),this.isInvisible="invisible"===this.parameters.size,yn("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;yn(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vi:new Ui,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){yn(!this.parameters.sitekey,this.auth,"argument-error"),yn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),yn("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=wi()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){yn(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){yn(Tn()&&!bi(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await On(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);yn(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return yn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bi{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=_r._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function $i(e,t,n){var r;const i=await n.verify();try{let s;if(yn("string"==typeof i,e,"argument-error"),yn(n.type===ji,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){yn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return On(e,"POST","/v2/accounts/mfaEnrollment:start",An(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{yn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;yn(n,e,"missing-multi-factor-info");const o=await function(e,t){return On(e,"POST","/v2/accounts/mfaSignIn:start",An(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return On(e,"POST","/v1/accounts:sendVerificationCode",An(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ki{constructor(e){this.providerId=Ki.PROVIDER_ID,this.auth=lr(e)}verifyPhoneNumber(e,t){return $i(this.auth,e,Tt(t))}static credential(e,t){return _r._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ki.credentialFromTaggedObject(t)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?_r._fromTokenResponse(t,n):null}}function Hi(e,t){return t?_n(t):(yn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ki.PROVIDER_ID="phone",Ki.PHONE_SIGN_IN_METHOD="phone";class Wi extends fr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return vr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return vr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gi(e){return zr(e.auth,new Wi(e),e.bypassAuthState)}function Qi(e){const{auth:t,user:n}=e;return yn(n,t,"internal-error"),qr(n,new Wi(e),e.bypassAuthState)}async function Yi(e){const{auth:t,user:n}=e;return yn(n,t,"internal-error"),Vr(n,new Wi(e),e.bypassAuthState)}class Ji{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gi;case"linkViaPopup":case"linkViaRedirect":return Yi;case"reauthViaPopup":case"reauthViaRedirect":return Qi;default:dn(this.auth,"internal-error")}}resolve(e){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xi=new kn(2e3,1e4);class Zi extends Ji{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yn(e,this.auth,"internal-error"),e}async onExecution(){wn(1===this.filter.length,"Popup operations only handle one event");const e=yi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(fn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(fn(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Xi.get())};e()}}Zi.currentPopupAction=null;const es=new Map;class ts extends Ji{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=es.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=is(t),r=rs(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}es.set(this.auth._key(),e)}return this.bypassAuthState||es.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function ns(e,t){return rs(e)._set(is(t),"true")}function rs(e){return _n(e._redirectPersistence)}function is(e){return Qn("pendingRedirect",e.config.apiKey,e.name)}async function ss(e,t,n=!1){const r=lr(e),i=Hi(r,t),s=new ts(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function os(e){const t=yi(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class as{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ls(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ls(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(fn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(us(e))}saveEventToCache(e){this.cachedEventUids.add(us(e)),this.lastProcessedEventTime=Date.now()}}function us(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ls({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function cs(e,t={}){return On(e,"GET","/v1/projects",t)}const hs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ds=/^https?/;function fs(e){const t=In(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ds.test(n))return!1;if(hs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ps=new kn(3e4,6e4);function ms(){const e=wi().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let gs=null;function ys(e){return gs=gs||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){ms(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ms(),n(fn(e,"network-request-failed"))},timeout:ps.get()})}if(null===(i=null===(r=wi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=wi().gapi)||void 0===s?void 0:s.load)){const t=Ri("iframefcb");return wi()[t]=()=>{gapi.load?o():n(fn(e,"network-request-failed"))},Oi(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw gs=null,e}))}(e),gs}const vs=new kn(5e3,15e3),ws={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _s(e){const t=e.config;yn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Sn(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Jt},i=bs.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${yt(r).slice(1)}`}const Is={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ts{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Es(e,t,n,r,i,s){yn(e.config.authDomain,e,"auth-domain-config-required"),yn(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Jt,eventId:i};if(t instanceof Er){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof kr){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){return e.emulator?Sn(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${yt(a).slice(1)}`}const ks="webStorageSupport",Ss=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mi,this._completeRedirectFn=ss}async _openPopup(e,t,n,r){var i;return wn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Is),{width:r.toString(),height:i.toString(),top:s,left:o}),l=it().toLowerCase();n&&(a=er(l)?"_blank":n),Xn(l)&&(t=t||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=it()){var t;return sr(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Ts(null);const h=window.open(t||"",a,c);yn(h,e,"popup-blocked");try{h.focus()}catch(e){}return new Ts(h)}(e,Es(e,t,n,In(),r),yi())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=Es(e,t,n,In(),r),wi().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(wn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await ys(e),n=wi().gapi;return yn(n,e,"internal-error"),t.open({where:document.body,url:_s(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ws,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=fn(e,"network-request-failed"),s=wi().setTimeout((()=>{r(i)}),vs.get());function o(){wi().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new as(e);return t.register("authEvent",(t=>(yn(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ks,{type:ks},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),dn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await cs(e);for(const e of t)try{if(fs(e))return}catch(e){}dn(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return or()||Zn()||sr()}};class Cs extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return vn("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Cs(e)}_finalizeEnroll(e,t,n){return function(e,t){return On(e,"POST","/v2/accounts/mfaEnrollment:finalize",An(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return On(e,"POST","/v2/accounts/mfaSignIn:finalize",An(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class xs{constructor(){}static assertion(e){return Cs._fromCredential(e)}}xs.FACTOR_ID="phone";var Ns,As="@firebase/auth",Os="0.19.9";class Rs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){yn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ps(e=Zt()){const t=Ht(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=Ht(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(mt(n.getOptions(),null!=t?t:{}))return e;dn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ss,persistence:[Ai,fi,mi]})}Ns="Browser",Kt(new Et("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{yn(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),yn(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:Ns,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ar(Ns)},s=new ur(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_n);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Kt(new Et("auth-internal",(e=>(e=>new Rs(e))(lr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),nn(As,Os,void 0),nn(As,Os,"esm2017");const Ds=()=>{const e=Ps(),n=z(P);e.currentUser&&n.push("/");const[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),[a,u]=(0,t.useState)("");return t.createElement(t.Fragment,null,t.createElement("h2",{className:"page-title"},"Sign up"),t.createElement("form",{onSubmit:e=>{e.preventDefault(),Le.error("Sorry, sign up is disabled")},name:"login_form",className:"user-form"},t.createElement("input",{name:"name",type:"text",placeholder:"Enter name...",value:a,onChange:e=>{""!==e.currentTarget.value&&u(e.currentTarget.value)},required:!0}),t.createElement("input",{name:"email",type:"email",placeholder:"Enter email...",value:r,onChange:e=>{i(e.currentTarget.value)},required:!0}),t.createElement("input",{name:"password",type:"password",placeholder:"Enter new password...",value:s,onChange:e=>{o(e.currentTarget.value)},required:!0}),t.createElement("button",null,"Sign up")))};class Ls{constructor(e,t){this._delegate=e,this.firebase=t,Bt(e,new Et("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),tn(this._delegate))))}_getService(e,t=Vt){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Vt){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Bt(this._delegate,e)}_addOrOverwriteComponent(e){$t(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ms=new dt("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Fs=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e,i={}){const s=Xt(e,i);if(pt(n,s.name))return n[s.name];const o=new t(s,r);return n[s.name]=o,o},app:i,registerVersion:nn,setLogLevel:sn,onLog:rn,apps:null,SDK_VERSION:Jt,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(Kt(e)&&"PUBLIC"===e.type){const o=(e=i())=>{if("function"!=typeof e[s])throw Ms.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&nt(o,e.serviceProps),r[s]=o,t.prototype[s]=function(...t){return this._getService.bind(this,n).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!pt(n,e=e||Vt))throw Ms.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Ls);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){nt(n,e)},createSubscribe:bt,ErrorFactory:dt,deepExtend:nt}),n}(),Us=new Dt("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Us.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Us.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Vs=Fs;nn("@firebase/app-compat","0.1.18",void 0),Vs.registerVersion("firebase","9.6.7","app-compat");var js,qs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},zs={},Bs=Bs||{},$s=qs||self;function Ks(){}function Hs(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ws(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Gs="closure_uid_"+(1e9*Math.random()>>>0),Qs=0;function Ys(e,t,n){return e.call.apply(e.bind,arguments)}function Js(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Xs(e,t,n){return(Xs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ys:Js).apply(null,arguments)}function Zs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function eo(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function to(){this.s=this.s,this.o=this.o}var no={};to.prototype.s=!1,to.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Gs)&&e[Gs]||(e[Gs]=++Qs)}(this);delete no[e]}},to.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ro=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},io=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function so(e){return Array.prototype.concat.apply([],arguments)}function oo(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function ao(e){return/^[\s\xa0]*$/.test(e)}var uo,lo=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function co(e,t){return-1!=e.indexOf(t)}function ho(e,t){return e<t?-1:e>t?1:0}e:{var fo=$s.navigator;if(fo){var po=fo.userAgent;if(po){uo=po;break e}}uo=""}function mo(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function go(e){const t={};for(const n in e)t[n]=e[n];return t}var yo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vo(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<yo.length;t++)n=yo[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function wo(e){return wo[" "](e),e}wo[" "]=Ks;var bo,_o,Io=co(uo,"Opera"),To=co(uo,"Trident")||co(uo,"MSIE"),Eo=co(uo,"Edge"),ko=Eo||To,So=co(uo,"Gecko")&&!(co(uo.toLowerCase(),"webkit")&&!co(uo,"Edge"))&&!(co(uo,"Trident")||co(uo,"MSIE"))&&!co(uo,"Edge"),Co=co(uo.toLowerCase(),"webkit")&&!co(uo,"Edge");function xo(){var e=$s.document;return e?e.documentMode:void 0}e:{var No="",Ao=(_o=uo,So?/rv:([^\);]+)(\)|;)/.exec(_o):Eo?/Edge\/([\d\.]+)/.exec(_o):To?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(_o):Co?/WebKit\/(\S+)/.exec(_o):Io?/(?:Version)[ \/]?(\S+)/.exec(_o):void 0);if(Ao&&(No=Ao?Ao[1]:""),To){var Oo=xo();if(null!=Oo&&Oo>parseFloat(No)){bo=String(Oo);break e}}bo=No}var Ro,Po={};function Do(){return e=Po,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=lo(String(bo)).split("."),n=lo("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=ho(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||ho(0==i[2].length,0==s[2].length)||ho(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}$s.document&&To?Ro=xo()||parseInt(bo,10)||void 0:Ro=void 0;var Lo=Ro,Mo=function(){if(!$s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{$s.addEventListener("test",Ks,t),$s.removeEventListener("test",Ks,t)}catch(e){}return e}();function Fo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Uo(e,t){if(Fo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(So){e:{try{wo(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Vo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Uo.Z.h.call(this)}}Fo.prototype.h=function(){this.defaultPrevented=!0},eo(Uo,Fo);var Vo={2:"touch",3:"pen",4:"mouse"};Uo.prototype.h=function(){Uo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var jo="closure_listenable_"+(1e6*Math.random()|0),qo=0;function zo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++qo,this.ca=this.fa=!1}function Bo(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function $o(e){this.src=e,this.g={},this.h=0}function Ko(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ro(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Bo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ho(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}$o.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ho(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new zo(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Wo="closure_lm_"+(1e6*Math.random()|0),Go={};function Qo(e,t,n,r,i){if(r&&r.once)return Jo(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Qo(e,t[s],n,r,i);return null}return n=ia(n),e&&e[jo]?e.N(t,n,Ws(r)?!!r.capture:!!r,i):Yo(e,t,n,!1,r,i)}function Yo(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Ws(i)?!!i.capture:!!i,a=na(e);if(a||(e[Wo]=a=new $o(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=ta;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Mo||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ea(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Jo(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Jo(e,t[s],n,r,i);return null}return n=ia(n),e&&e[jo]?e.O(t,n,Ws(r)?!!r.capture:!!r,i):Yo(e,t,n,!0,r,i)}function Xo(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Xo(e,t[s],n,r,i);else r=Ws(r)?!!r.capture:!!r,n=ia(n),e&&e[jo]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Ho(s=e.g[t],n,r,i))&&(Bo(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=na(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ho(t,n,r,i)),(n=-1<e?t[e]:null)&&Zo(n))}function Zo(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[jo])Ko(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ea(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=na(t))?(Ko(n,e),0==n.h&&(n.src=null,t[Wo]=null)):Bo(e)}}}function ea(e){return e in Go?Go[e]:Go[e]="on"+e}function ta(e,t){if(e.ca)e=!0;else{t=new Uo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Zo(e),e=n.call(r,t)}return e}function na(e){return(e=e[Wo])instanceof $o?e:null}var ra="__closure_events_fn_"+(1e9*Math.random()>>>0);function ia(e){return"function"==typeof e?e:(e[ra]||(e[ra]=function(t){return e.handleEvent(t)}),e[ra])}function sa(){to.call(this),this.i=new $o(this),this.P=this,this.I=null}function oa(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Fo(t,e);else if(t instanceof Fo)t.target=t.target||e;else{var i=t;vo(t=new Fo(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=aa(o,r,!0,t)&&i}if(i=aa(o=t.g=e,r,!0,t)&&i,i=aa(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=aa(o=t.g=n[s],r,!1,t)&&i}function aa(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Ko(e.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}eo(sa,to),sa.prototype[jo]=!0,sa.prototype.removeEventListener=function(e,t,n,r){Xo(this,e,t,n,r)},sa.prototype.M=function(){if(sa.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Bo(n[r]);delete t.g[e],t.h--}}this.I=null},sa.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},sa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ua=$s.JSON.stringify;function la(){var e=ga;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ca,ha=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new da),(e=>e.reset()));class da{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fa(e){$s.setTimeout((()=>{throw e}),0)}function pa(e,t){ca||function(){var e=$s.Promise.resolve(void 0);ca=function(){e.then(ya)}}(),ma||(ca(),ma=!0),ga.add(e,t)}var ma=!1,ga=new class{constructor(){this.h=this.g=null}add(e,t){const n=ha.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function ya(){for(var e;e=la();){try{e.h.call(e.g)}catch(e){fa(e)}var t=ha;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ma=!1}function va(e,t){sa.call(this),this.h=e||1,this.g=t||$s,this.j=Xs(this.kb,this),this.l=Date.now()}function wa(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ba(e,t,n){if("function"==typeof e)n&&(e=Xs(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Xs(e.handleEvent,e)}return 2147483647<Number(t)?-1:$s.setTimeout(e,t||0)}function _a(e){e.g=ba((()=>{e.g=null,e.i&&(e.i=!1,_a(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}eo(va,sa),(js=va.prototype).da=!1,js.S=null,js.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),oa(this,"tick"),this.da&&(wa(this),this.start()))}},js.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},js.M=function(){va.Z.M.call(this),wa(this),delete this.g};class Ia extends to{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_a(this)}M(){super.M(),this.g&&($s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ta(e){to.call(this),this.h=e,this.g={}}eo(Ta,to);var Ea=[];function ka(e,t,n,r){Array.isArray(n)||(n&&(Ea[0]=n.toString()),n=Ea);for(var i=0;i<n.length;i++){var s=Qo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Sa(e){mo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Zo(e)}),e),e.g={}}function Ca(){this.g=!0}function xa(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ua(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Ta.prototype.M=function(){Ta.Z.M.call(this),Sa(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ca.prototype.Aa=function(){this.g=!1},Ca.prototype.info=function(){};var Na={},Aa=null;function Oa(){return Aa=Aa||new sa}function Ra(e){Fo.call(this,Na.Ma,e)}function Pa(e){const t=Oa();oa(t,new Ra(t,e))}function Da(e,t){Fo.call(this,Na.STAT_EVENT,e),this.stat=t}function La(e){const t=Oa();oa(t,new Da(t,e))}function Ma(e,t){Fo.call(this,Na.Na,e),this.size=t}function Fa(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return $s.setTimeout((function(){e()}),t)}Na.Ma="serverreachability",eo(Ra,Fo),Na.STAT_EVENT="statevent",eo(Da,Fo),Na.Na="timingevent",eo(Ma,Fo);var Ua={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Va={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ja(){}function qa(e){return e.h||(e.h=e.i())}function za(){}ja.prototype.h=null;var Ba,$a={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ka(){Fo.call(this,"d")}function Ha(){Fo.call(this,"c")}function Wa(){}function Ga(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ta(this),this.P=Ya,e=ko?125:void 0,this.W=new va(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Qa}function Qa(){this.i=null,this.g="",this.h=!1}eo(Ka,Fo),eo(Ha,Fo),eo(Wa,ja),Wa.prototype.g=function(){return new XMLHttpRequest},Wa.prototype.i=function(){return{}},Ba=new Wa;var Ya=45e3,Ja={},Xa={};function Za(e,t,n){e.K=1,e.v=Iu(gu(t)),e.s=n,e.U=!0,eu(e,null)}function eu(e,t){e.F=Date.now(),iu(e),e.A=gu(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Lu(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Qa,e.g=Ll(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ia(Xs(e.Ia,e,e.g),e.O)),ka(e.V,e.g,"readystatechange",e.gb),t=e.H?go(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Pa(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function tu(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function nu(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=ru(e,n),r==Xa){4==t&&(e.o=4,La(14),i=!1),xa(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ja){e.o=4,La(15),xa(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}xa(e.j,e.m,r,null),lu(e,r)}tu(e)&&r!=Xa&&r!=Ja&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,La(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cl(t),t.L=!0,La(11))):(xa(e.j,e.m,n,"[Invalid Chunked Response]"),uu(e),au(e))}function ru(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Xa:(n=Number(t.substring(n,r)),isNaN(n)?Ja:(r+=1)+n>t.length?Xa:(t=t.substr(r,n),e.C=r+n,t))}function iu(e){e.Y=Date.now()+e.P,su(e,e.P)}function su(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fa(Xs(e.eb,e),t)}function ou(e){e.B&&($s.clearTimeout(e.B),e.B=null)}function au(e){0==e.l.G||e.I||Al(e.l,e)}function uu(e){ou(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,wa(e.W),Sa(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function lu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||qu(n.i,e)))if(n.I=e.N,!e.J&&qu(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Nl(n),vl(n)}Sl(n),La(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Fa(Xs(n.ab,n),6e3));if(1>=ju(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else Rl(n,11)}else if((e.J||n.g==e)&&Nl(n),!ao(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const t=l[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=l[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=l[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(co(e,"spdy")||co(e,"quic")||co(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(zu(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,_u(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=Dl(r,r.H?r.la:null,r.W),o.J){Bu(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(ou(a),iu(a)),r.g=o}else kl(r);0<n.l.length&&_l(n)}else"stop"!=l[0]&&"close"!=l[0]||Rl(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Rl(n,7):yl(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}Pa(4)}catch(e){}}function cu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Hs(e)||"string"==typeof e)io(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Hs(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Hs(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function hu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof hu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function du(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];fu(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)fu(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function fu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(js=Ga.prototype).setTimeout=function(e){this.P=e},js.gb=function(e){e=e.target;const t=this.L;t&&3==dl(e)?t.l():this.Ia(e)},js.Ia=function(e){try{if(e==this.g)e:{const c=dl(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>c)&&(3!=c||ko||this.g&&(this.h.h||this.g.ga()||fl(this.g)))){this.I||4!=c||7==t||Pa(8==t||0>=h?3:2),ou(this);var n=this.g.ba();this.N=n;t:if(tu(this)){var r=fl(this.g);e="";var i=r.length,s=4==dl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){uu(this),au(this);var o="";break t}this.h.i=new $s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ao(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,La(12),uu(this),au(this);break e}xa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lu(this,n)}this.U?(nu(this,c,o),ko&&this.i&&3==c&&(ka(this.V,this.W,"tick",this.fb),this.W.start())):(xa(this.j,this.m,o,null),lu(this,o)),4==c&&uu(this),this.i&&!this.I&&(4==c?Al(this.l,this):(this.i=!1,iu(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,La(12)):(this.o=0,La(13)),uu(this),au(this)}}}catch(e){}},js.fb=function(){if(this.g){var e=dl(this.g),t=this.g.ga();this.C<t.length&&(ou(this),nu(this,e,t),this.i&&4!=e&&iu(this))}},js.cancel=function(){this.I=!0,uu(this)},js.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Pa(3),La(17)),uu(this),this.o=2,au(this)):su(this,this.Y-e)},(js=hu.prototype).R=function(){du(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},js.T=function(){return du(this),this.g.concat()},js.get=function(e,t){return fu(this.h,e)?this.h[e]:t},js.set=function(e,t){fu(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},js.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var pu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mu(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof mu){this.g=void 0!==t?t:e.g,yu(this,e.j),this.s=e.s,vu(this,e.i),wu(this,e.m),this.l=e.l,t=e.h;var n=new Ou;n.i=t.i,t.g&&(n.g=new hu(t.g),n.h=t.h),bu(this,n),this.o=e.o}else e&&(n=String(e).match(pu))?(this.g=!!t,yu(this,n[1]||"",!0),this.s=Tu(n[2]||""),vu(this,n[3]||"",!0),wu(this,n[4]),this.l=Tu(n[5]||"",!0),bu(this,n[6]||"",!0),this.o=Tu(n[7]||"")):(this.g=!!t,this.h=new Ou(null,this.g))}function gu(e){return new mu(e)}function yu(e,t,n){e.j=n?Tu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vu(e,t,n){e.i=n?Tu(t,!0):t}function wu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function bu(e,t,n){t instanceof Ou?(e.h=t,function(e,t){t&&!e.j&&(Ru(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Pu(this,t),Lu(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Eu(t,Nu)),e.h=new Ou(t,e.g))}function _u(e,t,n){e.h.set(t,n)}function Iu(e){return _u(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Tu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Eu(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ku),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ku(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Eu(t,Su,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Eu(t,Su,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Eu(n,"/"==n.charAt(0)?xu:Cu,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Eu(n,Au)),e.join("")};var Su=/[#\/\?@]/g,Cu=/[#\?:]/g,xu=/[#\?]/g,Nu=/[#\?@]/g,Au=/#/g;function Ou(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ru(e){e.g||(e.g=new hu,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Pu(e,t){Ru(e),t=Mu(e,t),fu(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,fu((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&du(e)))}function Du(e,t){return Ru(e),t=Mu(e,t),fu(e.g.h,t)}function Lu(e,t,n){Pu(e,t),0<n.length&&(e.i=null,e.g.set(Mu(e,t),oo(n)),e.h+=n.length)}function Mu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Fu(e){this.l=e||Uu,e=$s.PerformanceNavigationTiming?0<(e=$s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!($s.g&&$s.g.Ea&&$s.g.Ea()&&$s.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(js=Ou.prototype).add=function(e,t){Ru(this),this.i=null,e=Mu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},js.forEach=function(e,t){Ru(this),this.g.forEach((function(n,r){io(n,(function(n){e.call(t,n,r,this)}),this)}),this)},js.T=function(){Ru(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},js.R=function(e){Ru(this);var t=[];if("string"==typeof e)Du(this,e)&&(t=so(t,this.g.get(Mu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=so(t,e[n])}return t},js.set=function(e,t){return Ru(this),this.i=null,Du(this,e=Mu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},js.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},js.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var Uu=10;function Vu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ju(e){return e.h?1:e.g?e.g.size:0}function qu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function zu(e,t){e.g?e.g.add(t):e.h=t}function Bu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $u(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return oo(e.i)}function Ku(){}function Hu(){this.g=new Ku}function Wu(e,t,n){const r=n||"";try{cu(e,(function(e,n){let i=e;Ws(e)&&(i=ua(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Gu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Qu(e){this.l=e.$b||null,this.j=e.ib||!1}function Yu(e,t){sa.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ju,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fu.prototype.cancel=function(){if(this.i=$u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Ku.prototype.stringify=function(e){return $s.JSON.stringify(e,void 0)},Ku.prototype.parse=function(e){return $s.JSON.parse(e,void 0)},eo(Qu,ja),Qu.prototype.g=function(){return new Yu(this.l,this.j)},Qu.prototype.i=function(e){return function(){return e}}({}),eo(Yu,sa);var Ju=0;function Xu(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Zu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,el(e)}function el(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(js=Yu.prototype).open=function(e,t){if(this.readyState!=Ju)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,el(this)},js.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||$s).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},js.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zu(this)),this.readyState=Ju},js.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,el(this)),this.g&&(this.readyState=3,el(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Xu(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},js.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Zu(this):el(this),3==this.readyState&&Xu(this)}},js.Ua=function(e){this.g&&(this.response=this.responseText=e,Zu(this))},js.Ta=function(e){this.g&&(this.response=e,Zu(this))},js.ha=function(){this.g&&Zu(this)},js.setRequestHeader=function(e,t){this.v.append(e,t)},js.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},js.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Yu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var tl=$s.JSON.parse;function nl(e){sa.call(this),this.headers=new hu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rl,this.K=this.L=!1}eo(nl,sa);var rl="",il=/^https?$/i,sl=["POST","PUT"];function ol(e){return"content-type"==e.toLowerCase()}function al(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ul(e),cl(e)}function ul(e){e.D||(e.D=!0,oa(e,"complete"),oa(e,"error"))}function ll(e){if(e.h&&void 0!==Bs&&(!e.C[1]||4!=dl(e)||2!=e.ba()))if(e.v&&4==dl(e))ba(e.Fa,0,e);else if(oa(e,"readystatechange"),4==dl(e)){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.H).match(pu)[1]||null;if(!i&&$s.self&&$s.self.location){var s=$s.self.location.protocol;i=s.substr(0,s.length-1)}r=!il.test(i?i.toLowerCase():"")}n=r}if(n)oa(e,"complete"),oa(e,"success");else{e.m=6;try{var o=2<dl(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.ba()+"]",ul(e)}}finally{cl(e)}}}function cl(e,t){if(e.g){hl(e);const n=e.g,r=e.C[0]?Ks:null;e.g=null,e.C=null,t||oa(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function hl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&($s.clearTimeout(e.A),e.A=null)}function dl(e){return e.g?e.g.readyState:0}function fl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case rl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function pl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return mo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):_u(e,t,n))}function ml(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gl(e){this.za=0,this.l=[],this.h=new Ca,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ml("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ml("baseRetryDelayMs",5e3,e),this.$a=ml("retryDelaySeedMs",1e4,e),this.Ya=ml("forwardChannelMaxRetries",2,e),this.ra=ml("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Fu(e&&e.concurrentRequestLimit),this.Ca=new Hu,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function yl(e){if(wl(e),3==e.G){var t=e.V++,n=gu(e.F);_u(n,"SID",e.J),_u(n,"RID",t),_u(n,"TYPE","terminate"),Tl(e,n),(t=new Ga(e,e.h,t,void 0)).K=2,t.v=Iu(gu(n)),n=!1,$s.navigator&&$s.navigator.sendBeacon&&(n=$s.navigator.sendBeacon(t.v.toString(),"")),!n&&$s.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ll(t.l,null),t.g.ea(t.v)),t.F=Date.now(),iu(t)}Pl(e)}function vl(e){e.g&&(Cl(e),e.g.cancel(),e.g=null)}function wl(e){vl(e),e.u&&($s.clearTimeout(e.u),e.u=null),Nl(e),e.i.cancel(),e.m&&("number"==typeof e.m&&$s.clearTimeout(e.m),e.m=null)}function bl(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&_l(e)}function _l(e){Vu(e.i)||e.m||(e.m=!0,pa(e.Ha,e),e.C=0)}function Il(e,t){var n;n=t?t.m:e.V++;const r=gu(e.F);_u(r,"SID",e.J),_u(r,"RID",n),_u(r,"AID",e.U),Tl(e,r),e.o&&e.s&&pl(r,e.o,e.s),n=new Ga(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=El(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),zu(e.i,n),Za(n,r,t)}function Tl(e,t){e.j&&cu({},(function(e,n){_u(t,n,e)}))}function El(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Xs(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{Wu(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function kl(e){e.g||e.u||(e.Y=1,pa(e.Ga,e),e.A=0)}function Sl(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Fa(Xs(e.Ga,e),Ol(e,e.A)),e.A++,0))}function Cl(e){null!=e.B&&($s.clearTimeout(e.B),e.B=null)}function xl(e){e.g=new Ga(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=gu(e.oa);_u(t,"RID","rpc"),_u(t,"SID",e.J),_u(t,"CI",e.N?"0":"1"),_u(t,"AID",e.U),Tl(e,t),_u(t,"TYPE","xmlhttp"),e.o&&e.s&&pl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Iu(gu(t)),n.s=null,n.U=!0,eu(n,e)}function Nl(e){null!=e.v&&($s.clearTimeout(e.v),e.v=null)}function Al(e,t){var n=null;if(e.g==t){Nl(e),Cl(e),e.g=null;var r=2}else{if(!qu(e.i,t))return;n=t.D,Bu(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;oa(r=Oa(),new Ma(r,n,t,i)),_l(e)}else kl(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ju(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Fa(Xs(e.Ha,e,t),Ol(e,e.C)),e.C++,0)))}(e,t)||2==r&&Sl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Rl(e,5);break;case 4:Rl(e,10);break;case 3:Rl(e,6);break;default:Rl(e,2)}}function Ol(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Rl(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Xs(e.jb,e);n||(n=new mu("//www.google.com/images/cleardot.gif"),$s.location&&"http"==$s.location.protocol||yu(n,"https"),Iu(n)),function(e,t){const n=new Ca;if($s.Image){const r=new Image;r.onload=Zs(Gu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Zs(Gu,n,r,"TestLoadImage: error",!1,t),r.onabort=Zs(Gu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Zs(Gu,n,r,"TestLoadImage: timeout",!1,t),$s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else La(2);e.G=0,e.j&&e.j.va(t),Pl(e),wl(e)}function Pl(e){e.G=0,e.I=-1,e.j&&(0==$u(e.i).length&&0==e.l.length||(e.i.i.length=0,oo(e.l),e.l.length=0),e.j.ua())}function Dl(e,t,n){let r=function(e){return e instanceof mu?gu(e):new mu(e,void 0)}(n);if(""!=r.i)t&&vu(r,t+"."+r.i),wu(r,r.m);else{const e=$s.location;r=function(e,t,n,r){var i=new mu(null,void 0);return e&&yu(i,e),t&&vu(i,t),n&&wu(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&mo(e.aa,(function(e,t){_u(r,t,e)})),t=e.D,n=e.sa,t&&n&&_u(r,t,n),_u(r,"VER",e.ma),Tl(e,r),r}function Ll(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new nl(new Qu({ib:!0})):new nl(e.qa)).L=e.H,t}function Ml(){}function Fl(){if(To&&!(10<=Number(Lo)))throw Error("Environmental error: no available transport.")}function Ul(e,t){sa.call(this),this.g=new gl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ao(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ao(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new ql(this)}function Vl(e){Ka.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function jl(){Ha.call(this),this.status=1}function ql(e){this.g=e}(js=nl.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ba.g(),this.C=this.u?qa(this.u):qa(Ba),this.g.onreadystatechange=Xs(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void al(this,e)}e=n||"";const i=new hu(this.headers);r&&cu(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=ol;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=$s.FormData&&e instanceof $s.FormData,!(0<=ro(sl,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hl(this),0<this.B&&((this.K=function(e){return To&&Do()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xs(this.pa,this)):this.A=ba(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){al(this,e)}},js.pa=function(){void 0!==Bs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oa(this,"timeout"),this.abort(8))},js.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,oa(this,"complete"),oa(this,"abort"),cl(this))},js.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cl(this,!0)),nl.Z.M.call(this)},js.Fa=function(){this.s||(this.F||this.v||this.l?ll(this):this.cb())},js.cb=function(){ll(this)},js.ba=function(){try{return 2<dl(this)?this.g.status:-1}catch(e){return-1}},js.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},js.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),tl(t)}},js.Da=function(){return this.m},js.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(js=gl.prototype).ma=8,js.G=1,js.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},js.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ga(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=go(s),vo(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=El(this,i,t),_u(n=gu(this.F),"RID",e),_u(n,"CVER",22),this.D&&_u(n,"X-HTTP-Session-Id",this.D),Tl(this,n),this.o&&s&&pl(n,this.o,s),zu(this.i,i),this.Ra&&_u(n,"TYPE","init"),this.ja?(_u(n,"$req",t),_u(n,"SID","null"),i.$=!0,Za(i,n,null)):Za(i,n,t),this.G=2}}else 3==this.G&&(e?Il(this,e):0==this.l.length||Vu(this.i)||Il(this))},js.Ga=function(){if(this.u=null,xl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Fa(Xs(this.bb,this),e)}},js.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,La(10),vl(this),xl(this))},js.ab=function(){null!=this.v&&(this.v=null,vl(this),Sl(this),La(19))},js.jb=function(e){e?(this.h.info("Successfully pinged google.com"),La(2)):(this.h.info("Failed to ping google.com"),La(1))},(js=Ml.prototype).xa=function(){},js.wa=function(){},js.va=function(){},js.ua=function(){},js.Oa=function(){},Fl.prototype.g=function(e,t){return new Ul(e,t)},eo(Ul,sa),Ul.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),pa(Xs(e.hb,e,t))),La(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Dl(e,null,e.W),_l(e)},Ul.prototype.close=function(){yl(this.g)},Ul.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,bl(this.g,t)}else this.v?((t={}).__data__=ua(e),bl(this.g,t)):bl(this.g,e)},Ul.prototype.M=function(){this.g.j=null,delete this.j,yl(this.g),delete this.g,Ul.Z.M.call(this)},eo(Vl,Ka),eo(jl,Ha),eo(ql,Ml),ql.prototype.xa=function(){oa(this.g,"a")},ql.prototype.wa=function(e){oa(this.g,new Vl(e))},ql.prototype.va=function(e){oa(this.g,new jl(e))},ql.prototype.ua=function(){oa(this.g,"b")},Fl.prototype.createWebChannel=Fl.prototype.g,Ul.prototype.send=Ul.prototype.u,Ul.prototype.open=Ul.prototype.m,Ul.prototype.close=Ul.prototype.close,Ua.NO_ERROR=0,Ua.TIMEOUT=8,Ua.HTTP_ERROR=6,Va.COMPLETE="complete",za.EventType=$a,$a.OPEN="a",$a.CLOSE="b",$a.ERROR="c",$a.MESSAGE="d",sa.prototype.listen=sa.prototype.N,nl.prototype.listenOnce=nl.prototype.O,nl.prototype.getLastError=nl.prototype.La,nl.prototype.getLastErrorCode=nl.prototype.Da,nl.prototype.getStatus=nl.prototype.ba,nl.prototype.getResponseJson=nl.prototype.Qa,nl.prototype.getResponseText=nl.prototype.ga,nl.prototype.send=nl.prototype.ea;var zl=zs.createWebChannelTransport=function(){return new Fl},Bl=zs.getStatEventTarget=function(){return Oa()},$l=zs.ErrorCode=Ua,Kl=zs.EventType=Va,Hl=zs.Event=Na,Wl=zs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Gl=zs.FetchXmlHttpFactory=Qu,Ql=zs.WebChannel=za,Yl=zs.XhrIo=nl;const Jl="@firebase/firestore";class Xl{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xl.UNAUTHENTICATED=new Xl(null),Xl.GOOGLE_CREDENTIALS=new Xl("google-credentials-uid"),Xl.FIRST_PARTY=new Xl("first-party-uid"),Xl.MOCK_USER=new Xl("mock-user");let Zl="9.6.7";const ec=new Dt("@firebase/firestore");function tc(){return ec.logLevel}function nc(e,...t){if(ec.logLevel<=Nt.DEBUG){const n=t.map(sc);ec.debug(`Firestore (${Zl}): ${e}`,...n)}}function rc(e,...t){if(ec.logLevel<=Nt.ERROR){const n=t.map(sc);ec.error(`Firestore (${Zl}): ${e}`,...n)}}function ic(e,...t){if(ec.logLevel<=Nt.WARN){const n=t.map(sc);ec.warn(`Firestore (${Zl}): ${e}`,...n)}}function sc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function oc(e="Unexpected state"){const t=`FIRESTORE (${Zl}) INTERNAL ASSERTION FAILED: `+e;throw rc(t),new Error(t)}function ac(e,t){e||oc()}function uc(e,t){return e}const lc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class cc extends ht{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class dc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xl.UNAUTHENTICATED)))}shutdown(){}}class pc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class mc{constructor(e){this.t=e,this.currentUser=Xl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new hc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hc,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{nc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(nc("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hc)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(nc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ac("string"==typeof t.accessToken),new dc(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ac(null===e||"string"==typeof e),new Xl(e)}}class gc{constructor(e,t,n){this.type="FirstParty",this.user=Xl.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class yc{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new gc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Xl.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wc{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&nc("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,nc("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{nc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?r(e):nc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ac("string"==typeof e.token),this.p=e.token,new vc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class bc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.I(e),this.T=e=>t.writeSequenceNumber(e))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function _c(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}bc.A=-1;class Ic{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=_c(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Tc(e,t){return e<t?-1:e>t?1:0}function Ec(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function kc(e){return e+"\0"}class Sc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new cc(lc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new cc(lc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new cc(lc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new cc(lc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sc.fromMillis(Date.now())}static fromDate(e){return Sc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Sc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tc(this.nanoseconds,e.nanoseconds):Tc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Cc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Cc(e)}static min(){return new Cc(new Sc(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function xc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Nc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ac(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Oc{constructor(e,t,n){void 0===t?t=0:t>e.length&&oc(),void 0===n?n=e.length-t:n>e.length-t&&oc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Oc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oc?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Rc extends Oc{construct(e,t,n){return new Rc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new cc(lc.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Rc(t)}static emptyPath(){return new Rc([])}}const Pc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dc extends Oc{construct(e,t,n){return new Dc(e,t,n)}static isValidIdentifier(e){return Pc.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dc.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new cc(lc.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new cc(lc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new cc(lc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new cc(lc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dc(t)}static emptyPath(){return new Dc([])}}class Lc{constructor(e){this.fields=e,e.sort(Dc.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ec(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Mc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Mc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Mc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mc.EMPTY_BYTE_STRING=new Mc("");const Fc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uc(e){if(ac(!!e),"string"==typeof e){let t=0;const n=Fc.exec(e);if(ac(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Vc(e.seconds),nanos:Vc(e.nanos)}}function Vc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jc(e){return"string"==typeof e?Mc.fromBase64String(e):Mc.fromUint8Array(e)}function qc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zc(e){const t=e.mapValue.fields.__previous_value__;return qc(t)?zc(t):t}function Bc(e){const t=Uc(e.mapValue.fields.__local_write_time__.timestampValue);return new Sc(t.seconds,t.nanos)}class $c{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Kc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Kc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}function Hc(e){return null==e}function Wc(e){return 0===e&&1/e==-1/0}function Gc(e){return"number"==typeof e&&Number.isInteger(e)&&!Wc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Qc{constructor(e){this.path=e}static fromPath(e){return new Qc(Rc.fromString(e))}static fromName(e){return new Qc(Rc.fromString(e).popFirst(5))}static empty(){return new Qc(Rc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qc(new Rc(e.slice()))}}const Yc={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Jc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qc(e)?4:10:oc()}function Xc(e,t){if(e===t)return!0;const n=Jc(e);if(n!==Jc(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bc(e).isEqual(Bc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Uc(e.timestampValue),r=Uc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jc(e.bytesValue).isEqual(jc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Vc(e.geoPointValue.latitude)===Vc(t.geoPointValue.latitude)&&Vc(e.geoPointValue.longitude)===Vc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Vc(e.integerValue)===Vc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Vc(e.doubleValue),r=Vc(t.doubleValue);return n===r?Wc(n)===Wc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ec(e.arrayValue.values||[],t.arrayValue.values||[],Xc);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xc(n)!==xc(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Xc(n[e],r[e])))return!1;return!0}(e,t);default:return oc()}}function Zc(e,t){return void 0!==(e.values||[]).find((e=>Xc(e,t)))}function eh(e,t){if(e===t)return 0;const n=Jc(e),r=Jc(t);if(n!==r)return Tc(n,r);switch(n){case 0:return 0;case 1:return Tc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Vc(e.integerValue||e.doubleValue),r=Vc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return th(e.timestampValue,t.timestampValue);case 4:return th(Bc(e),Bc(t));case 5:return Tc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=jc(e),r=jc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Tc(n[e],r[e]);if(0!==t)return t}return Tc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Tc(Vc(e.latitude),Vc(t.latitude));return 0!==n?n:Tc(Vc(e.longitude),Vc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=eh(n[e],r[e]);if(t)return t}return Tc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=Tc(r[e],s[e]);if(0!==t)return t;const o=eh(n[r[e]],i[s[e]]);if(0!==o)return o}return Tc(r.length,s.length)}(e.mapValue,t.mapValue);default:throw oc()}}function th(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Tc(e,t);const n=Uc(e),r=Uc(t),i=Tc(n.seconds,r.seconds);return 0!==i?i:Tc(n.nanos,r.nanos)}function nh(e){return rh(e)}function rh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Uc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?jc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Qc.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=rh(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${rh(e.fields[i])}`;return n+"}"}(e.mapValue):oc();var t,n}function ih(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function sh(e){return!!e&&"integerValue"in e}function oh(e){return!!e&&"arrayValue"in e}function ah(e){return!!e&&"nullValue"in e}function uh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lh(e){return!!e&&"mapValue"in e}function ch(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Nc(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ch(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ch(e.arrayValue.values[n]);return t}return Object.assign({},e)}class hh{constructor(e){this.value=e}static empty(){return new hh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!lh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ch(t)}setAll(e){let t=Dc.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ch(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());lh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];lh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Nc(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new hh(ch(this.value))}}function dh(e){const t=[];return Nc(e.fields,((e,n)=>{const r=new Dc([e]);if(lh(n)){const e=dh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Lc(t)}class fh{constructor(e,t,n,r,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new fh(e,0,Cc.min(),Cc.min(),hh.empty(),0)}static newFoundDocument(e,t,n){return new fh(e,1,t,Cc.min(),n,0)}static newNoDocument(e,t){return new fh(e,2,t,Cc.min(),hh.empty(),0)}static newUnknownDocument(e,t){return new fh(e,3,t,Cc.min(),hh.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fh(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ph.UNKNOWN_ID=-1;class mh{constructor(e,t){this.fieldPath=e,this.kind=t}}class gh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new gh(0,yh.min())}}class yh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new yh(Cc.min(),Qc.empty(),-1)}}class vh{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.P=null}}function wh(e,t=null,n=[],r=[],i=null,s=null,o=null){return new vh(e,t,n,r,i,s,o)}function bh(e){const t=uc(e);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>{return(t=e).field.canonicalString()+t.op.toString()+nh(t.value);var t})).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Hc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>nh(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>nh(e))).join(",")),t.P=e}return t.P}function _h(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Dh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Xc(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Mh(e.startAt,t.startAt)&&Mh(e.endAt,t.endAt)}function Ih(e){return Qc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Th extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,n):new Eh(e,t,n):"array-contains"===t?new xh(e,n):"in"===t?new Nh(e,n):"not-in"===t?new Ah(e,n):"array-contains-any"===t?new Oh(e,n):new Th(e,t,n)}static v(e,t,n){return"in"===t?new kh(e,n):new Sh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(eh(t,this.value)):null!==t&&Jc(this.value)===Jc(t)&&this.V(eh(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return oc()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Eh extends Th{constructor(e,t,n){super(e,t,n),this.key=Qc.fromName(n.referenceValue)}matches(e){const t=Qc.comparator(e.key,this.key);return this.V(t)}}class kh extends Th{constructor(e,t){super(e,"in",t),this.keys=Ch(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Sh extends Th{constructor(e,t){super(e,"not-in",t),this.keys=Ch(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ch(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Qc.fromName(e.referenceValue)))}class xh extends Th{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return oh(t)&&Zc(t.arrayValue,this.value)}}class Nh extends Th{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Zc(this.value.arrayValue,t)}}class Ah extends Th{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Zc(this.value.arrayValue,t)}}class Oh extends Th{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!oh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Zc(this.value.arrayValue,e)))}}class Rh{constructor(e,t){this.position=e,this.inclusive=t}}class Ph{constructor(e,t="asc"){this.field=e,this.dir=t}}function Dh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Lh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Qc.comparator(Qc.fromName(o.referenceValue),n.key):eh(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Mh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Xc(e.position[n],t.position[n]))return!1;return!0}class Fh{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.D=null,this.C=null,this.startAt,this.endAt}}function Uh(e,t,n,r,i,s,o,a){return new Fh(e,t,n,r,i,s,o,a)}function Vh(e){return new Fh(e)}function jh(e){return!Hc(e.limit)&&"F"===e.limitType}function qh(e){return!Hc(e.limit)&&"L"===e.limitType}function zh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Bh(e){for(const t of e.filters)if(t.S())return t.field;return null}function $h(e){return null!==e.collectionGroup}function Kh(e){const t=uc(e);if(null===t.D){t.D=[];const e=Bh(t),n=zh(t);if(null!==e&&null===n)e.isKeyField()||t.D.push(new Ph(e)),t.D.push(new Ph(Dc.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.D.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Ph(Dc.keyField(),e))}}}return t.D}function Hh(e){const t=uc(e);if(!t.C)if("F"===t.limitType)t.C=wh(t.path,t.collectionGroup,Kh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of Kh(t)){const t="desc"===n.dir?"asc":"desc";e.push(new Ph(n.field,t))}const n=t.endAt?new Rh(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new Rh(t.startAt.position,!t.startAt.inclusive):null;t.C=wh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.C}function Wh(e,t,n){return new Fh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gh(e,t){return _h(Hh(e),Hh(t))&&e.limitType===t.limitType}function Qh(e){return`${bh(Hh(e))}|lt:${e.limitType}`}function Yh(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${nh(t.value)}`;var t})).join(", ")}]`),Hc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>nh(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>nh(e))).join(",")),`Target(${t})`}(Hh(e))}; limitType=${e.limitType})`}function Jh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Qc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Lh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Kh(e),t)||e.endAt&&!function(e,t,n){const r=Lh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Kh(e),t))}(e,t)}function Xh(e){return(t,n)=>{let r=!1;for(const i of Kh(e)){const e=Zh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Zh(e,t,n){const r=e.field.isKeyField()?Qc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?eh(r,i):oc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return oc()}}function ed(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function td(e){return{integerValue:""+e}}function nd(e,t){return Gc(t)?td(t):ed(e,t)}class rd{constructor(){this._=void 0}}function id(e,t,n){return e instanceof ad?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ud?ld(e,t):e instanceof cd?hd(e,t):function(e,t){const n=od(e,t),r=fd(n)+fd(e.k);return sh(n)&&sh(e.k)?td(r):ed(e.O,r)}(e,t)}function sd(e,t,n){return e instanceof ud?ld(e,t):e instanceof cd?hd(e,t):n}function od(e,t){return e instanceof dd?sh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class ad extends rd{}class ud extends rd{constructor(e){super(),this.elements=e}}function ld(e,t){const n=pd(t);for(const t of e.elements)n.some((e=>Xc(e,t)))||n.push(t);return{arrayValue:{values:n}}}class cd extends rd{constructor(e){super(),this.elements=e}}function hd(e,t){let n=pd(t);for(const t of e.elements)n=n.filter((e=>!Xc(e,t)));return{arrayValue:{values:n}}}class dd extends rd{constructor(e,t){super(),this.O=e,this.k=t}}function fd(e){return Vc(e.integerValue||e.doubleValue)}function pd(e){return oh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class md{constructor(e,t){this.field=e,this.transform=t}}class gd{constructor(e,t){this.version=e,this.transformResults=t}}class yd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yd}static exists(e){return new yd(void 0,e)}static updateTime(e){return new yd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class wd{}function bd(e,t,n){e instanceof kd?function(e,t,n){const r=e.value.clone(),i=xd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Sd?function(e,t,n){if(!vd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=xd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Cd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function _d(e,t,n){e instanceof kd?function(e,t,n){if(!vd(e.precondition,t))return;const r=e.value.clone(),i=Nd(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ed(t),r).setHasLocalMutations()}(e,t,n):e instanceof Sd?function(e,t,n){if(!vd(e.precondition,t))return;const r=Nd(e.fieldTransforms,n,t),i=t.data;i.setAll(Cd(e)),i.setAll(r),t.convertToFoundDocument(Ed(t),i).setHasLocalMutations()}(e,t,n):function(e,t){vd(e.precondition,t)&&t.convertToNoDocument(Cc.min())}(e,t)}function Id(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=od(r.transform,e||null);null!=i&&(null==n&&(n=hh.empty()),n.set(r.field,i))}return n||null}function Td(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ec(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ud&&t instanceof ud||e instanceof cd&&t instanceof cd?Ec(e.elements,t.elements,Xc):e instanceof dd&&t instanceof dd?Xc(e.k,t.k):e instanceof ad&&t instanceof ad}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ed(e){return e.isFoundDocument()?e.version:Cc.min()}class kd extends wd{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Sd extends wd{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Cd(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function xd(e,t,n){const r=new Map;ac(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,sd(o,a,n[i]))}return r}function Nd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,id(e,s,t))}return r}class Ad extends wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Od extends wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Rd{constructor(e){this.count=e}}var Pd,Dd;function Ld(e){switch(e){default:return oc();case lc.CANCELLED:case lc.UNKNOWN:case lc.DEADLINE_EXCEEDED:case lc.RESOURCE_EXHAUSTED:case lc.INTERNAL:case lc.UNAVAILABLE:case lc.UNAUTHENTICATED:return!1;case lc.INVALID_ARGUMENT:case lc.NOT_FOUND:case lc.ALREADY_EXISTS:case lc.PERMISSION_DENIED:case lc.FAILED_PRECONDITION:case lc.ABORTED:case lc.OUT_OF_RANGE:case lc.UNIMPLEMENTED:case lc.DATA_LOSS:return!0}}function Md(e){if(void 0===e)return rc("GRPC error has no .code"),lc.UNKNOWN;switch(e){case Pd.OK:return lc.OK;case Pd.CANCELLED:return lc.CANCELLED;case Pd.UNKNOWN:return lc.UNKNOWN;case Pd.DEADLINE_EXCEEDED:return lc.DEADLINE_EXCEEDED;case Pd.RESOURCE_EXHAUSTED:return lc.RESOURCE_EXHAUSTED;case Pd.INTERNAL:return lc.INTERNAL;case Pd.UNAVAILABLE:return lc.UNAVAILABLE;case Pd.UNAUTHENTICATED:return lc.UNAUTHENTICATED;case Pd.INVALID_ARGUMENT:return lc.INVALID_ARGUMENT;case Pd.NOT_FOUND:return lc.NOT_FOUND;case Pd.ALREADY_EXISTS:return lc.ALREADY_EXISTS;case Pd.PERMISSION_DENIED:return lc.PERMISSION_DENIED;case Pd.FAILED_PRECONDITION:return lc.FAILED_PRECONDITION;case Pd.ABORTED:return lc.ABORTED;case Pd.OUT_OF_RANGE:return lc.OUT_OF_RANGE;case Pd.UNIMPLEMENTED:return lc.UNIMPLEMENTED;case Pd.DATA_LOSS:return lc.DATA_LOSS;default:return oc()}}(Dd=Pd||(Pd={}))[Dd.OK=0]="OK",Dd[Dd.CANCELLED=1]="CANCELLED",Dd[Dd.UNKNOWN=2]="UNKNOWN",Dd[Dd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dd[Dd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dd[Dd.NOT_FOUND=5]="NOT_FOUND",Dd[Dd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dd[Dd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dd[Dd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dd[Dd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dd[Dd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dd[Dd.ABORTED=10]="ABORTED",Dd[Dd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dd[Dd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dd[Dd.INTERNAL=13]="INTERNAL",Dd[Dd.UNAVAILABLE=14]="UNAVAILABLE",Dd[Dd.DATA_LOSS=15]="DATA_LOSS";class Fd{constructor(e,t){this.comparator=e,this.root=t||Vd.EMPTY}insert(e,t){return new Fd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vd.BLACK,null,null))}remove(e){return new Fd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ud(this.root,e,this.comparator,!0)}}class Ud{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Vd.RED,this.left=null!=r?r:Vd.EMPTY,this.right=null!=i?i:Vd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Vd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Vd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oc();if(this.right.isRed())throw oc();const e=this.left.check();if(e!==this.right.check())throw oc();return e+(this.isRed()?0:1)}}Vd.EMPTY=null,Vd.RED=!0,Vd.BLACK=!1,Vd.EMPTY=new class{constructor(){this.size=0}get key(){throw oc()}get value(){throw oc()}get color(){throw oc()}get left(){throw oc()}get right(){throw oc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Vd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jd{constructor(e){this.comparator=e,this.data=new Fd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qd(this.data.getIterator())}getIteratorFrom(e){return new qd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof jd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new jd(this.comparator);return t.data=e,t}}class qd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zd(e){return e.hasNext()?e.getNext():void 0}const Bd=new Fd(Qc.comparator);function $d(){return Bd}const Kd=new Fd(Qc.comparator);function Hd(){return Kd}const Wd=new Fd(Qc.comparator),Gd=new jd(Qc.comparator);function Qd(...e){let t=Gd;for(const n of e)t=t.add(n);return t}const Yd=new jd(Tc);function Jd(){return Yd}class Xd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Zd.createSynthesizedTargetChangeForCurrentChange(e,t)),new Xd(Cc.min(),n,Jd(),$d(),Qd())}}class Zd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Zd(Mc.EMPTY_BYTE_STRING,t,Qd(),Qd(),Qd())}}class ef{constructor(e,t,n,r){this.M=e,this.removedTargetIds=t,this.key=n,this.$=r}}class tf{constructor(e,t){this.targetId=e,this.F=t}}class nf{constructor(e,t,n=Mc.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class rf{constructor(){this.B=0,this.L=af(),this.U=Mc.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Qd(),t=Qd(),n=Qd();return this.L.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:oc()}})),new Zd(this.U,this.q,e,t,n)}J(){this.K=!1,this.L=af()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class sf{constructor(e){this.nt=e,this.st=new Map,this.it=$d(),this.rt=of(),this.ot=new jd(Tc)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,(t=>{const n=this.lt(t);switch(e.state){case 0:this.ft(t)&&n.W(e.resumeToken);break;case 1:n.tt(),n.G||n.J(),n.W(e.resumeToken);break;case 2:n.tt(),n.G||this.removeTarget(t);break;case 3:this.ft(t)&&(n.et(),n.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),n.W(e.resumeToken));break;default:oc()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach(((e,n)=>{this.ft(n)&&t(n)}))}_t(e){const t=e.targetId,n=e.F.count,r=this.wt(t);if(r){const e=r.target;if(Ih(e))if(0===n){const n=new Qc(e.path);this.at(t,n,fh.newNoDocument(n,Cc.min()))}else ac(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach(((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Ih(i.target)){const t=new Qc(i.target.path);null!==this.it.get(t)||this.It(r,t)||this.at(r,t,fh.newNoDocument(t,e))}n.j&&(t.set(r,n.H()),n.J())}}));let n=Qd();this.rt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.it.forEach(((t,n)=>n.setReadTime(e)));const r=new Xd(e,t,this.ot,this.it,n);return this.it=$d(),this.rt=of(),this.ot=new jd(Tc),r}ut(e,t){if(!this.ft(e))return;const n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,n){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new rf,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new jd(Tc),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||nc("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new rf),this.nt.getRemoteKeysForTarget(e).forEach((t=>{this.at(e,t,null)}))}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function of(){return new Fd(Qc.comparator)}function af(){return new Fd(Qc.comparator)}const uf={asc:"ASCENDING",desc:"DESCENDING"},lf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class cf{constructor(e,t){this.databaseId=e,this.N=t}}function hf(e,t){return e.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function df(e,t){return e.N?t.toBase64():t.toUint8Array()}function ff(e,t){return hf(e,t.toTimestamp())}function pf(e){return ac(!!e),Cc.fromTimestamp(function(e){const t=Uc(e);return new Sc(t.seconds,t.nanos)}(e))}function mf(e,t){return function(e){return new Rc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function gf(e){const t=Rc.fromString(e);return ac(Uf(t)),t}function yf(e,t){return mf(e.databaseId,t.path)}function vf(e,t){const n=gf(t);if(n.get(1)!==e.databaseId.projectId)throw new cc(lc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new cc(lc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Qc(If(n))}function wf(e,t){return mf(e.databaseId,t)}function bf(e){const t=gf(e);return 4===t.length?Rc.emptyPath():If(t)}function _f(e){return new Rc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function If(e){return ac(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Tf(e,t,n){return{name:yf(e,t),fields:n.value.mapValue.fields}}function Ef(e,t,n){const r=vf(e,t.name),i=pf(t.updateTime),s=new hh({mapValue:{fields:t.fields}}),o=fh.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function kf(e,t){let n;if(t instanceof kd)n={update:Tf(e,t.key,t.value)};else if(t instanceof Ad)n={delete:yf(e,t.key)};else if(t instanceof Sd)n={update:Tf(e,t.key,t.data),updateMask:Ff(t.fieldMask)};else{if(!(t instanceof Od))return oc();n={verify:yf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ad)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ud)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof cd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof dd)return{fieldPath:t.field.canonicalString(),increment:n.k};throw oc()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ff(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:oc()}(e,t.precondition)),n}function Sf(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?yd.updateTime(pf(e.updateTime)):void 0!==e.exists?yd.exists(e.exists):yd.none()}(t.currentDocument):yd.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)ac("REQUEST_TIME"===t.setToServerValue),n=new ad;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new ud(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new cd(e)}else"increment"in t?n=new dd(e,t.increment):oc();const r=Dc.fromServerFormat(t.fieldPath);return new md(r,n)}(e,t))):[];if(t.update){t.update.name;const i=vf(e,t.update.name),s=new hh({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Lc(t.map((e=>Dc.fromServerFormat(e))))}(t.updateMask);return new Sd(i,s,e,n,r)}return new kd(i,s,n,r)}if(t.delete){const r=vf(e,t.delete);return new Ad(r,n)}if(t.verify){const r=vf(e,t.verify);return new Od(r,n)}return oc()}function Cf(e,t){return{documents:[wf(e,t.path)]}}function xf(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=wf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=wf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(uh(e.value))return{unaryFilter:{field:Pf(e.field),op:"IS_NAN"}};if(ah(e.value))return{unaryFilter:{field:Pf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uh(e.value))return{unaryFilter:{field:Pf(e.field),op:"IS_NOT_NAN"}};if(ah(e.value))return{unaryFilter:{field:Pf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pf(e.field),op:Rf(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Pf(e.field),direction:Of(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.N||Hc(t)?t:{value:t}}(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Nf(e){let t=bf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ac(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Af(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new Ph(Df(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Hc(t)?null:t}(n.limit));let u=null;n.startAt&&(u=function(e){const t=!!e.before,n=e.values||[];return new Rh(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Rh(n,t)}(n.endAt)),Uh(t,i,o,s,a,"F",u,l)}function Af(e){return e?void 0!==e.unaryFilter?[Mf(e)]:void 0!==e.fieldFilter?[Lf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>Af(e))).reduce(((e,t)=>e.concat(t))):oc():[]}function Of(e){return uf[e]}function Rf(e){return lf[e]}function Pf(e){return{fieldPath:e.canonicalString()}}function Df(e){return Dc.fromServerFormat(e.fieldPath)}function Lf(e){return Th.create(Df(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oc()}}(e.fieldFilter.op),e.fieldFilter.value)}function Mf(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Df(e.unaryFilter.field);return Th.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Df(e.unaryFilter.field);return Th.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Df(e.unaryFilter.field);return Th.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Df(e.unaryFilter.field);return Th.create(i,"!=",{nullValue:"NULL_VALUE"});default:return oc()}}function Ff(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Uf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Vf(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=qf(t)),t=jf(e.get(n),t);return qf(t)}function jf(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function qf(e){return e+""}function zf(e){const t=e.length;if(ac(t>=2),2===t)return ac(""===e.charAt(0)&&""===e.charAt(1)),Rc.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&oc(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:oc()}s=t+2}return new Rc(r)}class Bf{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class $f{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}$f.store="owner",$f.key="owner";class Kf{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Kf.store="mutationQueues",Kf.keyPath="userId";class Hf{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Hf.store="mutations",Hf.keyPath="batchId",Hf.userMutationsIndex="userMutationsIndex",Hf.userMutationsKeyPath=["userId","batchId"];class Wf{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Vf(t)]}static key(e,t,n){return[e,Vf(t),n]}}Wf.store="documentMutations",Wf.PLACEHOLDER=new Wf;class Gf{constructor(e,t){this.path=e,this.readTime=t}}class Qf{constructor(e,t){this.path=e,this.version=t}}class Yf{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Yf.store="remoteDocuments",Yf.readTimeIndex="readTimeIndex",Yf.readTimeIndexPath="readTime",Yf.collectionReadTimeIndex="collectionReadTimeIndex",Yf.collectionReadTimeIndexPath=["parentPath","readTime"];class Jf{constructor(e){this.byteSize=e}}Jf.store="remoteDocumentGlobal",Jf.key="remoteDocumentGlobalKey";class Xf{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Xf.store="targets",Xf.keyPath="targetId",Xf.queryTargetsIndexName="queryTargetsIndex",Xf.queryTargetsKeyPath=["canonicalId","targetId"];class Zf{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Zf.store="targetDocuments",Zf.keyPath=["targetId","path"],Zf.documentTargetsIndex="documentTargetsIndex",Zf.documentTargetsKeyPath=["path","targetId"];class ep{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}ep.key="targetGlobalKey",ep.store="targetGlobal";class tp{constructor(e,t){this.collectionId=e,this.parent=t}}tp.store="collectionParents",tp.keyPath=["collectionId","parent"];class np{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}np.store="clientMetadata",np.keyPath="clientId";class rp{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}rp.store="bundles",rp.keyPath="bundleId";class ip{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}ip.store="namedQueries",ip.keyPath="name";class sp{constructor(e,t,n){this.indexId=e,this.collectionGroup=t,this.fields=n}}sp.store="indexConfiguration",sp.keyPath="indexId",sp.collectionGroupIndex="collectionGroupIndex",sp.collectionGroupIndexPath="collectionGroup";class op{constructor(e,t,n,r,i,s){this.indexId=e,this.uid=t,this.sequenceNumber=n,this.readTime=r,this.documentKey=i,this.largestBatchId=s}}op.store="indexState",op.keyPath=["indexId","uid"],op.sequenceNumberIndex="sequenceNumberIndex",op.sequenceNumberIndexPath=["uid","sequenceNumber"];class ap{constructor(e,t,n,r,i){this.indexId=e,this.uid=t,this.arrayValue=n,this.directionalValue=r,this.documentKey=i}}ap.store="indexEntries",ap.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],ap.documentKeyIndex="documentKeyIndex",ap.documentKeyIndexPath=["indexId","uid","documentKey"];class up{constructor(e,t,n,r,i,s){this.userId=e,this.collectionPath=t,this.documentId=n,this.collectionGroup=r,this.largestBatchId=i,this.overlayMutation=s}}up.store="documentOverlays",up.keyPath=["userId","collectionPath","documentId"],up.collectionPathOverlayIndex="collectionPathOverlayIndex",up.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],up.collectionGroupOverlayIndex="collectionGroupOverlayIndex",up.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const lp=[Kf.store,Hf.store,Wf.store,Yf.store,Xf.store,$f.store,ep.store,Zf.store,np.store,Jf.store,tp.store,rp.store,ip.store],cp=[...lp,up.store],hp=[...cp,sp.store,op.store,ap.store],dp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class pp{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&oc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pp(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof pp?t:pp.resolve(t)}catch(e){return pp.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):pp.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):pp.reject(t)}static resolve(e){return new pp(((t,n)=>{t(e)}))}static reject(e){return new pp(((t,n)=>{n(e)}))}static waitFor(e){return new pp(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=pp.resolve(!1);for(const n of e)t=t.next((e=>e?pp.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}class mp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new hc,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new vp(e,t.error)):this.At.resolve()},this.transaction.onerror=t=>{const n=Tp(t.target.error);this.At.reject(new vp(e,n))}}static open(e,t,n,r){try{return new mp(t,e.transaction(r,n))}catch(e){throw new vp(t,e)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(nc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bp(t)}}class gp{constructor(e,t,n){this.name=e,this.version=t,this.bt=n,12.2===gp.vt(it())&&rc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return nc("SimpleDb","Removing database:",e),_p(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!ct())return!1;if(gp.St())return!0;const e=it(),t=gp.vt(e),n=0<t&&t<10,r=gp.Dt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static St(){return"undefined"!=typeof process&&"YES"===(null==="MISSING_ENV_VAR"?void 0:"MISSING_ENV_VAR".Ct)}static Nt(e,t){return e.store(t)}static vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async xt(e){return this.db||(nc("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new vp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new cc(lc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new cc(lc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new vp(e,r))},r.onupgradeneeded=e=>{nc("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.bt.kt(t,r.transaction,e.oldVersion,this.version).next((()=>{nc("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.Ot&&(this.db.onversionchange=e=>this.Ot(e)),this.db}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.xt(e);const t=mp.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.Pt(),e))).catch((e=>(t.abort(e),pp.reject(e)))).toPromise();return s.catch((()=>{})),await t.Rt,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(nc("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class yp{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return _p(this.$t.delete())}}class vp extends cc{constructor(e,t){super(lc.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wp(e){return"IndexedDbTransactionError"===e.name}class bp{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(nc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(nc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),_p(n)}add(e){return nc("SimpleDb","ADD",this.store.name,e,e),_p(this.store.add(e))}get(e){return _p(this.store.get(e)).next((t=>(void 0===t&&(t=null),nc("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return nc("SimpleDb","DELETE",this.store.name,e),_p(this.store.delete(e))}count(){return nc("SimpleDb","COUNT",this.store.name),_p(this.store.count())}qt(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.Kt(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new pp(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}Gt(e,t){nc("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.jt=!1;const r=this.cursor(n);return this.Kt(r,((e,t,n)=>n.delete()))}Qt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Kt(r,t)}Wt(e){const t=this.cursor({});return new pp(((n,r)=>{t.onerror=e=>{const t=Tp(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Kt(e,t){const n=[];return new pp(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new yp(i),o=t(i.primaryKey,i.value,s);if(o instanceof pp){const e=o.catch((e=>(s.done(),pp.reject(e))));n.push(e)}s.isDone?r():null===s.Lt?i.continue():i.continue(s.Lt)}})).next((()=>pp.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function _p(e){return new pp(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Tp(e.target.error);n(t)}}))}let Ip=!1;function Tp(e){const t=gp.vt(it());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new cc("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ip||(Ip=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Ep extends fp{constructor(e,t){super(),this.zt=e,this.currentSequenceNumber=t}}function kp(e,t){const n=uc(e);return gp.Nt(n.zt,t)}class Sp{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&bd(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&_d(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&_d(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Cc.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Qd())}isEqual(e){return this.batchId===e.batchId&&Ec(this.mutations,e.mutations,((e,t)=>Td(e,t)))&&Ec(this.baseMutations,e.baseMutations,((e,t)=>Td(e,t)))}}class Cp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ac(e.mutations.length===n.length);let r=Wd;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Cp(e,t,n,r)}}class xp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Np{constructor(e,t,n,r,i=Cc.min(),s=Cc.min(),o=Mc.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Np(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Np(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Np(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ap{constructor(e){this.Ht=e}}function Op(e,t){let n;if(t.document)n=Ef(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Qc.fromSegments(t.noDocument.path),r=Mp(t.noDocument.readTime);n=fh.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return oc();{const e=Qc.fromSegments(t.unknownDocument.path),r=Mp(t.unknownDocument.version);n=fh.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(Dp(t.readTime)),n}function Rp(e,t){const n=Pp(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){const i=function(e,t){return{name:yf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:hf(e,t.version.toTimestamp())}}(e.Ht,t),s=t.hasCommittedMutations;return new Yf(null,null,i,s,n,r)}if(t.isNoDocument()){const e=t.key.path.toArray(),i=Lp(t.version),s=t.hasCommittedMutations;return new Yf(null,new Gf(e,i),null,s,n,r)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),i=Lp(t.version);return new Yf(new Qf(e,i),null,null,!0,n,r)}return oc()}function Pp(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Dp(e){const t=new Sc(e[0],e[1]);return Cc.fromTimestamp(t)}function Lp(e){const t=e.toTimestamp();return new Bf(t.seconds,t.nanoseconds)}function Mp(e){const t=new Sc(e.seconds,e.nanoseconds);return Cc.fromTimestamp(t)}function Fp(e,t){const n=(t.baseMutations||[]).map((t=>Sf(e.Ht,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>Sf(e.Ht,t))),i=Sc.fromMillis(t.localWriteTimeMs);return new Sp(t.batchId,i,n,r)}function Up(e){const t=Mp(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Mp(e.lastLimboFreeSnapshotVersion):Cc.min();let r;var i;return void 0!==e.query.documents?(ac(1===(i=e.query).documents.length),r=Hh(Vh(bf(i.documents[0])))):r=function(e){return Hh(Nf(e))}(e.query),new Np(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Mc.fromBase64String(e.resumeToken))}function Vp(e,t){const n=Lp(t.snapshotVersion),r=Lp(t.lastLimboFreeSnapshotVersion);let i;i=Ih(t.target)?Cf(e.Ht,t.target):xf(e.Ht,t.target);const s=t.resumeToken.toBase64();return new Xf(t.targetId,bh(t.target),n,s,t.sequenceNumber,r,i)}function jp(e){const t=Nf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wh(t,t.limit,"L"):t}function qp(e,t){return new xp(t.largestBatchId,Sf(e.Ht,t.overlayMutation))}function zp(e,t){const n=t.path.lastSegment();return[e,Vf(t.path.popLast()),n]}class Bp{getBundleMetadata(e,t){return $p(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Mp(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return $p(e).put({bundleId:(n=t).id,createTime:Lp(pf(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Kp(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:jp(t.bundledQuery),readTime:Mp(t.readTime)};var t}))}saveNamedQuery(e,t){return Kp(e).put(function(e){return{name:e.name,readTime:Lp(pf(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function $p(e){return kp(e,rp.store)}function Kp(e){return kp(e,ip.store)}class Hp{constructor(e,t){this.O=e,this.userId=t}static Jt(e,t){const n=t.uid||"";return new Hp(e,n)}getOverlay(e,t){return Wp(e).get(zp(this.userId,t)).next((e=>e?qp(this.O,e):null))}saveOverlays(e,t,n){const r=[];return n.forEach((n=>{const i=new xp(t,n);r.push(this.Yt(e,i))})),pp.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Vf(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Wp(e).Gt(up.collectionPathOverlayIndex,r))})),pp.waitFor(i)}getOverlaysForCollection(e,t,n){const r=new Map,i=Vf(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Wp(e).qt(up.collectionPathOverlayIndex,s).next((e=>{for(const t of e){const e=qp(this.O,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=new Map;let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Wp(e).Qt({index:up.collectionGroupOverlayIndex,range:o},((e,t,n)=>{const o=qp(this.O,t);i.size<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}Yt(e,t){return Wp(e).put(function(e,t,n){const[r,i,s]=zp(t,n.mutation.key);return new up(t,i,s,n.mutation.key.getCollectionGroup(),n.largestBatchId,kf(e.Ht,n.mutation))}(this.O,this.userId,t))}}function Wp(e){return kp(e,up.store)}class Gp{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(Vc(e.integerValue));else if("doubleValue"in e){const n=Vc(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),Wc(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ee(t,20),"string"==typeof n?t.se(n):(t.se(`${n.seconds||""}`),t.ne(n.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(jc(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ee(t,45),t.ne(n.latitude||0),t.ne(n.longitude||0)}else"mapValue"in e?Xc(e,Yc)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):oc()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const n=e.fields||{};this.ee(t,55);for(const e of Object.keys(n))this.ie(e,t),this.Zt(n[e],t)}ae(e,t){const n=e.values||[];this.ee(t,50);for(const e of n)this.Zt(e,t)}ce(e,t){this.ee(t,37),Qc.fromName(e).path.forEach((e=>{this.ee(t,60),this.he(e,t)}))}ee(e,t){e.ne(t)}re(e){e.ne(2)}}function Qp(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Yp(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Qp(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Gp.le=new Gp;class Jp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.de(n.value),n=t.next();this._e()}we(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.me(n.value),n=t.next();this.ge()}ye(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.de(e);else if(e<2048)this.de(960|e>>>6),this.de(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.de(480|e>>>12),this.de(128|63&e>>>6),this.de(128|63&e);else{const e=t.codePointAt(0);this.de(240|e>>>18),this.de(128|63&e>>>12),this.de(128|63&e>>>6),this.de(128|63&e)}}this._e()}pe(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.me(e);else if(e<2048)this.me(960|e>>>6),this.me(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.me(480|e>>>12),this.me(128|63&e>>>6),this.me(128|63&e);else{const e=t.codePointAt(0);this.me(240|e>>>18),this.me(128|63&e>>>12),this.me(128|63&e>>>6),this.me(128|63&e)}}this.ge()}Ie(e){const t=this.Ee(e),n=Yp(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}Ae(e){const t=this.Ee(e),n=Yp(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let e=1;e<t.length;++e)t[e]^=n?255:0;return t}de(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}me(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Xp{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class Zp{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class em{constructor(){this.Se=new Jp,this.De=new Xp(this.Se),this.Ce=new Zp(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class tm{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}}function nm(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Qc.comparator(e.documentKey,t.documentKey),0!==n?n:(n=rm(e.arrayValue,t.arrayValue),0!==n?n:rm(e.directionalValue,t.directionalValue)))}function rm(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class im{constructor(){this.xe=new sm}addToCollectionParentIndex(e,t){return this.xe.add(t),pp.resolve()}getCollectionParents(e,t){return pp.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return pp.resolve()}deleteFieldIndex(e,t){return pp.resolve()}getDocumentsMatchingTarget(e,t,n){return pp.resolve(Qd())}getFieldIndex(e,t){return pp.resolve(null)}getFieldIndexes(e,t){return pp.resolve([])}getNextCollectionGroupToUpdate(e){return pp.resolve(null)}updateCollectionGroup(e,t,n){return pp.resolve()}updateIndexEntries(e,t){return pp.resolve()}}class sm{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new jd(Rc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new jd(Rc.comparator)).toArray()}}class om{constructor(e){this.user=e,this.ke=new sm,this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.ke.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.ke.add(t)}));const i={collectionId:n,parent:Vf(r)};return am(e).put(i)}return pp.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[kc(t),""],!1,!0);return am(e).qt(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(zf(r.parent))}return n}))}addFieldIndex(e,t){const n=lm(e),r=function(e){return new sp(e.indexId,e.collectionGroup,e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind])))}(t);return delete r.indexId,n.add(r).next()}deleteFieldIndex(e,t){const n=lm(e),r=cm(e),i=um(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t,n){return pp.resolve(Qd())}getFieldIndex(e,t){return pp.resolve(null)}Oe(e,t){const n=new em;for(const r of function(e){return e.fields.filter((e=>2!==e.kind))}(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ne(r.kind);Gp.le.Xt(e,i)}return n.Ve()}Me(e){const t=new em;return Gp.le.Xt(e,t.Ne(0)),t.Ve()}getFieldIndexes(e,t){const n=lm(e),r=cm(e);return(t?n.qt(sp.collectionGroupIndex,IDBKeyRange.bound(t,t)):n.qt()).next((e=>{const t=[];return pp.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new gh(t.sequenceNumber,new yh(Mp(t.readTime),new Qc(zf(t.documentKey)),t.largestBatchId)):gh.empty(),r=e.fields.map((([e,t])=>new mh(Dc.fromServerFormat(e),t)));return new ph(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>e.indexState.sequenceNumber-t.indexState.sequenceNumber)),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=lm(e),i=cm(e);return this.$e(e).next((e=>r.qt(sp.collectionGroupIndex,IDBKeyRange.bound(t,t)).next((t=>pp.forEach(t,(t=>i.put(function(e,t,n,r){return new op(e,t.uid||"",n,Lp(r.readTime),Vf(r.documentKey.path),r.largestBatchId)}(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return pp.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?pp.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),pp.forEach(i,(n=>this.Fe(e,t,n).next((t=>{const i=this.Be(r,n);return t.isEqual(i)?pp.resolve():this.Le(e,r,t,i)})))))))}))}Ue(e,t,n){return um(e).put(new ap(n.indexId,this.uid,n.arrayValue,n.directionalValue,Vf(t.key.path)))}qe(e,t,n){return um(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Vf(t.key.path)])}Fe(e,t,n){const r=um(e);let i=new jd(nm);return r.Qt({index:ap.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,Vf(t.path)])},((e,r)=>{i=i.add(new tm(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Be(e,t){let n=new jd(nm);const r=this.Oe(t,e);if(null==r)return n;const i=function(e){return e.fields.find((e=>2===e.kind))}(t);if(null!=i){const s=e.data.field(i.fieldPath);if(oh(s))for(const i of s.arrayValue.values||[])n=n.add(new tm(t.indexId,e.key,this.Me(i),r))}else n=n.add(new tm(t.indexId,e.key,new Uint8Array,r));return n}Le(e,t,n,r){nc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const i=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=zd(s),u=zd(o);for(;a||u;){let e=!1,t=!1;if(a&&u){const r=n(a,u);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(u),u=zd(o)):t?(i(a),a=zd(s)):(a=zd(s),u=zd(o))}}(n,r,nm,(n=>{i.push(this.Ue(e,t,n))}),(n=>{i.push(this.qe(e,t,n))})),pp.waitFor(i)}$e(e){let t=1;return cm(e).Qt({index:op.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}}function am(e){return kp(e,tp.store)}function um(e){return kp(e,ap.store)}function lm(e){return kp(e,sp.store)}function cm(e){return kp(e,op.store)}const hm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dm{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new dm(e,dm.DEFAULT_COLLECTION_PERCENTILE,dm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fm(e,t,n){const r=e.store(Hf.store),i=e.store(Wf.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Qt({range:o},((e,t,n)=>(a++,n.delete())));s.push(u.next((()=>{ac(1===a)})));const l=[];for(const e of n.mutations){const r=Wf.key(t,e.key.path,n.batchId);s.push(i.delete(r)),l.push(e.key)}return pp.waitFor(s).next((()=>l))}function pm(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw oc();t=e.noDocument}return JSON.stringify(t).length}dm.DEFAULT_COLLECTION_PERCENTILE=10,dm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dm.DEFAULT=new dm(41943040,dm.DEFAULT_COLLECTION_PERCENTILE,dm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dm.DISABLED=new dm(-1,0,0);class mm{constructor(e,t,n,r){this.userId=e,this.O=t,this.indexManager=n,this.referenceDelegate=r,this.Ke={}}static Jt(e,t,n,r){ac(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new mm(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ym(e).Qt({index:Hf.userMutationsIndex,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=vm(e),s=ym(e);return s.add({}).next((o=>{ac("number"==typeof o);const a=new Sp(o,t,n,r),u=function(e,t,n){const r=n.baseMutations.map((t=>kf(e.Ht,t))),i=n.mutations.map((t=>kf(e.Ht,t)));return new Hf(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.O,this.userId,a),l=[];let c=new jd(((e,t)=>Tc(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Wf.key(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),l.push(s.put(u)),l.push(i.put(t,Wf.PLACEHOLDER))}return c.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Ke[o]=a.keys()})),pp.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return ym(e).get(t).next((e=>e?(ac(e.userId===this.userId),Fp(this.O,e)):null))}Ge(e,t){return this.Ke[t]?pp.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Ke[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return ym(e).Qt({index:Hf.userMutationsIndex,range:r},((e,t,r)=>{t.userId===this.userId&&(ac(t.batchId>=n),i=Fp(this.O,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return ym(e).Qt({index:Hf.userMutationsIndex,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ym(e).qt(Hf.userMutationsIndex,t).next((e=>e.map((e=>Fp(this.O,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Wf.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return vm(e).Qt({range:r},((n,r,s)=>{const[o,a,u]=n,l=zf(a);if(o===this.userId&&t.path.isEqual(l))return ym(e).get(u).next((e=>{if(!e)throw oc();ac(e.userId===this.userId),i.push(Fp(this.O,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new jd(Tc);const r=[];return t.forEach((t=>{const i=Wf.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=vm(e).Qt({range:s},((e,r,i)=>{const[s,o,a]=e,u=zf(o);s===this.userId&&t.path.isEqual(u)?n=n.add(a):i.done()}));r.push(o)})),pp.waitFor(r).next((()=>this.je(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Wf.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new jd(Tc);return vm(e).Qt({range:s},((e,t,i)=>{const[s,a,u]=e,l=zf(a);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(u)):i.done()})).next((()=>this.je(e,o)))}je(e,t){const n=[],r=[];return t.forEach((t=>{r.push(ym(e).get(t).next((e=>{if(null===e)throw oc();ac(e.userId===this.userId),n.push(Fp(this.O,e))})))})),pp.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return fm(e.zt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Qe(t.batchId)})),pp.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return pp.resolve();const n=IDBKeyRange.lowerBound(Wf.prefixForUser(this.userId)),r=[];return vm(e).Qt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=zf(e[1]);r.push(t)}else n.done()})).next((()=>{ac(0===r.length)}))}))}containsKey(e,t){return gm(e,this.userId,t)}We(e){return wm(e).get(this.userId).next((e=>e||new Kf(this.userId,-1,"")))}}function gm(e,t,n){const r=Wf.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return vm(e).Qt({range:s,jt:!0},((e,n,r)=>{const[s,a,u]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function ym(e){return kp(e,Hf.store)}function vm(e){return kp(e,Wf.store)}function wm(e){return kp(e,Kf.store)}class bm{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new bm(0)}static Je(){return new bm(-1)}}class _m{constructor(e,t){this.referenceDelegate=e,this.O=t}allocateTargetId(e){return this.Ye(e).next((t=>{const n=new bm(t.highestTargetId);return t.highestTargetId=n.next(),this.Xe(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ye(e).next((e=>Cc.fromTimestamp(new Sc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ye(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ye(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Xe(e,r))))}addTargetData(e,t){return this.Ze(e,t).next((()=>this.Ye(e).next((n=>(n.targetCount+=1,this.tn(t,n),this.Xe(e,n))))))}updateTargetData(e,t){return this.Ze(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Im(e).delete(t.targetId))).next((()=>this.Ye(e))).next((t=>(ac(t.targetCount>0),t.targetCount-=1,this.Xe(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Im(e).Qt(((s,o)=>{const a=Up(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>pp.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Im(e).Qt(((e,n)=>{const r=Up(n);t(r)}))}Ye(e){return Tm(e).get(ep.key).next((e=>(ac(null!==e),e)))}Xe(e,t){return Tm(e).put(ep.key,t)}Ze(e,t){return Im(e).put(Vp(this.O,t))}tn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ye(e).next((e=>e.targetCount))}getTargetData(e,t){const n=bh(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Im(e).Qt({range:r,index:Xf.queryTargetsIndexName},((e,n,r)=>{const s=Up(n);_h(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Em(e);return t.forEach((t=>{const s=Vf(t.path);r.push(i.put(new Zf(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))})),pp.waitFor(r)}removeMatchingKeys(e,t,n){const r=Em(e);return pp.forEach(t,(t=>{const i=Vf(t.path);return pp.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Em(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Em(e);let i=Qd();return r.Qt({range:n,jt:!0},((e,t,n)=>{const r=zf(e[1]),s=new Qc(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Vf(t.path),r=IDBKeyRange.bound([n],[kc(n)],!1,!0);let i=0;return Em(e).Qt({index:Zf.documentTargetsIndex,jt:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}Tt(e,t){return Im(e).get(t).next((e=>e?Up(e):null))}}function Im(e){return kp(e,Xf.store)}function Tm(e){return kp(e,ep.store)}function Em(e){return kp(e,Zf.store)}async function km(e){if(e.code!==lc.FAILED_PRECONDITION||e.message!==dp)throw e;nc("LocalStore","Unexpectedly lost primary lease")}function Sm([e,t],[n,r]){const i=Tc(e,n);return 0===i?Tc(t,r):i}class Cm{constructor(e){this.en=e,this.buffer=new jd(Sm),this.nn=0}sn(){return++this.nn}rn(e){const t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Sm(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xm{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){const t=this.on?3e5:6e4;nc("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.cn=null,this.on=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){wp(e)?nc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await km(e)}await this.un(e)}))}}class Nm{constructor(e,t){this.an=e,this.params=t}calculateTargetCount(e,t){return this.an.hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return pp.resolve(bc.A);const n=new Cm(t);return this.an.forEachTarget(e,(e=>n.rn(e.sequenceNumber))).next((()=>this.an.ln(e,(e=>n.rn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.an.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.an.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(nc("LruGarbageCollector","Garbage collection skipped; disabled"),pp.resolve(hm)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(nc("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hm):this.fn(e,t)))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,t){let n,r,i,s,o,a,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(nc("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),tc()<=Nt.DEBUG&&nc("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-l}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(u-a)+"ms\n"+`Total Duration: ${u-l}ms`),pp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class Am{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Nm(e,t)}(this,t)}hn(e){const t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}dn(e){let t=0;return this.ln(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ln(e,t){return this._n(e,((e,n)=>t(n)))}addReference(e,t,n){return Om(e,n)}removeReference(e,t,n){return Om(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Om(e,t)}wn(e,t){return function(e,t){let n=!1;return wm(e).Wt((r=>gm(e,r,t).next((e=>(e&&(n=!0),pp.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this._n(e,((s,o)=>{if(o<=t){const t=this.wn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Cc.min()),Em(e).delete([0,Vf(s.path)]))))}));r.push(t)}})).next((()=>pp.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Om(e,t)}_n(e,t){const n=Em(e);let r,i=bc.A;return n.Qt({index:Zf.documentTargetsIndex},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==bc.A&&t(new Qc(zf(r)),i),i=o,r=s):i=bc.A})).next((()=>{i!==bc.A&&t(new Qc(zf(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Om(e,t){return Em(e).put(function(e,t){return new Zf(0,Vf(e.path),t)}(t,e.currentSequenceNumber))}class Rm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Nc(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return Ac(this.inner)}}class Pm{constructor(){this.changes=new Rm((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?pp.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dm{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Fm(e).put(Um(t),n)}removeEntry(e,t){const n=Fm(e),r=Um(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.mn(e,n))))}getEntry(e,t){return Fm(e).get(Um(t)).next((e=>this.gn(t,e)))}yn(e,t){return Fm(e).get(Um(t)).next((e=>({document:this.gn(t,e),size:pm(e)})))}getEntries(e,t){let n=$d();return this.pn(e,t,((e,t)=>{const r=this.gn(e,t);n=n.insert(e,r)})).next((()=>n))}In(e,t){let n=$d(),r=new Fd(Qc.comparator);return this.pn(e,t,((e,t)=>{const i=this.gn(e,t);n=n.insert(e,i),r=r.insert(e,pm(t))})).next((()=>({documents:n,En:r})))}pn(e,t,n){if(t.isEmpty())return pp.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return Fm(e).Qt({range:r},((e,t,r)=>{const o=Qc.fromSegments(e);for(;s&&Qc.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Ut(s.path.toArray()):r.done()})).next((()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null}))}getAll(e,t,n){let r=$d();const i=t.length+1,s={};if(n.isEqual(Cc.min())){const e=t.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.toArray(),r=Pp(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Yf.collectionReadTimeIndex}return Fm(e).Qt(s,((e,n,s)=>{if(e.length!==i)return;const o=this.gn(Qc.fromSegments(e),n);t.isPrefixOf(o.key.path)?r=r.insert(o.key,o):s.done()})).next((()=>r))}newChangeBuffer(e){return new Lm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Mm(e).get(Jf.key).next((e=>(ac(!!e),e)))}mn(e,t){return Mm(e).put(Jf.key,t)}gn(e,t){if(t){const e=Op(this.O,t);if(!e.isNoDocument()||!e.version.isEqual(Cc.min()))return e}return fh.newInvalidDocument(e)}}class Lm extends Pm{constructor(e,t){super(),this.Tn=e,this.trackRemovals=t,this.An=new Rm((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new jd(((e,t)=>Tc(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.An.get(i);if(s.isValidDocument()){const a=Rp(this.Tn.O,s);r=r.add(i.path.popLast());const u=pm(a);n+=u-o,t.push(this.Tn.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=Rp(this.Tn.O,s.convertToNoDocument(Cc.min()));t.push(this.Tn.addEntry(e,i,n))}else t.push(this.Tn.removeEntry(e,i))})),r.forEach((n=>{t.push(this.Tn.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.Tn.updateMetadata(e,n)),pp.waitFor(t)}getFromCache(e,t){return this.Tn.yn(e,t).next((e=>(this.An.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.Tn.In(e,t).next((({documents:e,En:t})=>(t.forEach(((e,t)=>{this.An.set(e,t)})),e)))}}function Mm(e){return kp(e,Jf.store)}function Fm(e){return kp(e,Yf.store)}function Um(e){return e.path.toArray()}class Vm{constructor(e){this.O=e}kt(e,t,n,r){const i=new mp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore($f.store)}(e),function(e){e.createObjectStore(Kf.store,{keyPath:Kf.keyPath}),e.createObjectStore(Hf.store,{keyPath:Hf.keyPath,autoIncrement:!0}).createIndex(Hf.userMutationsIndex,Hf.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Wf.store)}(e),jm(e),function(e){e.createObjectStore(Yf.store)}(e));let s=pp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Zf.store),e.deleteObjectStore(Xf.store),e.deleteObjectStore(ep.store)}(e),jm(e)),s=s.next((()=>function(e){const t=e.store(ep.store),n=new ep(0,0,Cc.min().toTimestamp(),0);return t.put(ep.key,n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(Hf.store).qt().next((n=>{e.deleteObjectStore(Hf.store),e.createObjectStore(Hf.store,{keyPath:Hf.keyPath,autoIncrement:!0}).createIndex(Hf.userMutationsIndex,Hf.userMutationsKeyPath,{unique:!0});const r=t.store(Hf.store),i=n.map((e=>r.put(e)));return pp.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore(np.store,{keyPath:np.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Rn(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore(Jf.store)}(e),this.Pn(i))))),n<7&&r>=7&&(s=s.next((()=>this.bn(i)))),n<8&&r>=8&&(s=s.next((()=>this.vn(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Yf.store);t.createIndex(Yf.readTimeIndex,Yf.readTimeIndexPath,{unique:!1}),t.createIndex(Yf.collectionReadTimeIndex,Yf.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((()=>this.Vn(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(rp.store,{keyPath:rp.keyPath})}(e),function(e){e.createObjectStore(ip.store,{keyPath:ip.keyPath})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore(up.store,{keyPath:up.keyPath});t.createIndex(up.collectionPathOverlayIndex,up.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(up.collectionGroupOverlayIndex,up.collectionGroupOverlayIndexPath,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>{!function(e){e.createObjectStore(sp.store,{keyPath:sp.keyPath,autoIncrement:!0}).createIndex(sp.collectionGroupIndex,sp.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(op.store,{keyPath:op.keyPath}).createIndex(op.sequenceNumberIndex,op.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(ap.store,{keyPath:ap.keyPath}).createIndex(ap.documentKeyIndex,ap.documentKeyIndexPath,{unique:!1})}(e)}))),s}Pn(e){let t=0;return e.store(Yf.store).Qt(((e,n)=>{t+=pm(n)})).next((()=>{const n=new Jf(t);return e.store(Jf.store).put(Jf.key,n)}))}Rn(e){const t=e.store(Kf.store),n=e.store(Hf.store);return t.qt().next((t=>pp.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.qt(Hf.userMutationsIndex,r).next((n=>pp.forEach(n,(n=>{ac(n.userId===t.userId);const r=Fp(this.O,n);return fm(e,t.userId,r).next((()=>{}))}))))}))))}bn(e){const t=e.store(Zf.store),n=e.store(Yf.store);return e.store(ep.store).get(ep.key).next((e=>{const r=[];return n.Qt(((n,i)=>{const s=new Rc(n),o=function(e){return[0,Vf(e)]}(s);r.push(t.get(o).next((n=>n?pp.resolve():(n=>t.put(new Zf(0,Vf(n),e.highestListenSequenceNumber)))(s))))})).next((()=>pp.waitFor(r)))}))}vn(e,t){e.createObjectStore(tp.store,{keyPath:tp.keyPath});const n=t.store(tp.store),r=new sm,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Vf(r)})}};return t.store(Yf.store).Qt({jt:!0},((e,t)=>{const n=new Rc(e);return i(n.popLast())})).next((()=>t.store(Wf.store).Qt({jt:!0},(([e,t,n],r)=>{const s=zf(t);return i(s.popLast())}))))}Vn(e){const t=e.store(Xf.store);return t.Qt(((e,n)=>{const r=Up(n),i=Vp(this.O,r);return t.put(i)}))}}function jm(e){e.createObjectStore(Zf.store,{keyPath:Zf.keyPath}).createIndex(Zf.documentTargetsIndex,Zf.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Xf.store,{keyPath:Xf.keyPath}).createIndex(Xf.queryTargetsIndexName,Xf.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ep.store)}const qm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zm{constructor(e,t,n,r,i,s,o,a,u,l,c=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Sn=i,this.window=s,this.document=o,this.Dn=u,this.Cn=l,this.schemaVersion=c,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=e=>Promise.resolve(),!zm.Vt())throw new cc(lc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Am(this,r),this.Bn=t+"main",this.O=new Ap(a),this.Ln=new gp(this.Bn,this.schemaVersion,new Vm(this.O)),this.Un=new _m(this.referenceDelegate,this.O),this.qn=function(e){return new Dm(e)}(this.O),this.Kn=new Bp,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&rc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new cc(lc.FAILED_PRECONDITION,qm);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Un.getHighestSequenceNumber(e)))})).then((e=>{this.Nn=new bc(e,this.Dn)})).then((()=>{this.xn=!0})).catch((e=>(this.Ln&&this.Ln.close(),Promise.reject(e))))}Hn(e){return this.Fn=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((async()=>{this.started&&await this.jn()})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>$m(e).put(new np(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.Jn(e).next((e=>{e||(this.isPrimary=!1,this.Sn.enqueueRetryable((()=>this.Fn(!1))))}))})).next((()=>this.Yn(e))).next((t=>this.isPrimary&&!t?this.Xn(e).next((()=>!1)):!!t&&this.Zn(e).next((()=>!0)))))).catch((e=>{if(wp(e))return nc("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return nc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable((()=>this.Fn(e))),this.isPrimary=e}))}Jn(e){return Bm(e).get($f.key).next((e=>pp.resolve(this.ts(e))))}es(e){return $m(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.ss(this.$n,18e5)){this.$n=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=kp(e,np.store);return t.qt().next((e=>{const n=this.rs(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return pp.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Gn)for(const t of e)this.Gn.removeItem(this.os(t.clientId))}}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.jn().then((()=>this.ns())).then((()=>this.zn()))))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?pp.resolve(!0):Bm(e).get($f.key).next((t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new cc(lc.FAILED_PRECONDITION,qm);return!1}}return!(!this.networkEnabled||!this.inForeground)||$m(e).qt().next((e=>void 0===this.rs(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&nc("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),await this.Ln.runTransaction("shutdown","readwrite",[$f.store,np.store],(e=>{const t=new Ep(e,bc.A);return this.Xn(t).next((()=>this.es(t)))})),this.Ln.close(),this.fs()}rs(e,t){return e.filter((e=>this.ss(e.updateTimeMs,t)&&!this.cs(e.clientId)))}ds(){return this.runTransaction("getActiveClients","readonly",(e=>$m(e).qt().next((e=>this.rs(e,18e5).map((e=>e.clientId))))))}get started(){return this.xn}getMutationQueue(e,t){return mm.Jt(e,this.O,t,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new om(e)}getDocumentOverlayCache(e){return Hp.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,t,n){nc("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=13===(s=this.schemaVersion)?hp:12===s?cp:11===s?lp:void oc();var s;let o;return this.Ln.runTransaction(e,r,i,(r=>(o=new Ep(r,this.Nn?this.Nn.next():bc.A),"readwrite-primary"===t?this.Jn(o).next((e=>!!e||this.Yn(o))).next((t=>{if(!t)throw rc(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable((()=>this.Fn(!1))),new cc(lc.FAILED_PRECONDITION,dp);return n(o)})).next((e=>this.Zn(o).next((()=>e)))):this._s(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}_s(e){return Bm(e).get($f.key).next((e=>{if(null!==e&&this.ss(e.leaseTimestampMs,5e3)&&!this.cs(e.ownerId)&&!this.ts(e)&&!(this.Cn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new cc(lc.FAILED_PRECONDITION,qm)}))}Zn(e){const t=new $f(this.clientId,this.allowTabSynchronization,Date.now());return Bm(e).put($f.key,t)}static Vt(){return gp.Vt()}Xn(e){const t=Bm(e);return t.get($f.key).next((e=>this.ts(e)?(nc("IndexedDbPersistence","Releasing primary lease."),t.delete($f.key)):pp.resolve()))}ss(e,t){const n=Date.now();return!(e<n-t||e>n&&(rc(`Detected an update time that is in the future: ${e} > ${n}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.jn())))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),!ot()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var t;try{const n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return nc("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return rc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){rc("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Bm(e){return kp(e,$f.store)}function $m(e){return kp(e,np.store)}function Km(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Hm{constructor(e,t){this.progress=e,this.ws=t}}class Wm{constructor(e,t,n){this.qn=e,this.gs=t,this.indexManager=n}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.ps(e,t,n)))}ps(e,t,n){return this.qn.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}Is(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}Es(e,t){return this.qn.getEntries(e,t).next((t=>this.Ts(e,t).next((()=>t))))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.Is(t,e)))}As(e,t,n){return function(e){return Qc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):$h(t)?this.Ps(e,t,n):this.bs(e,t,n)}Rs(e,t){return this.ys(e,new Qc(t)).next((e=>{let t=Hd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Ps(e,t,n){const r=t.collectionGroup;let i=Hd();return this.indexManager.getCollectionParents(e,r).next((s=>pp.forEach(s,(s=>{const o=function(e,t){return new Fh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.bs(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}bs(e,t,n){let r;return this.qn.getAll(e,t.path,n).next((n=>(r=n,this.gs.getAllMutationBatchesAffectingQuery(e,t)))).next((e=>{for(const t of e)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=fh.newInvalidDocument(n),r=r.insert(n,i)),_d(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}})).next((()=>(r.forEach(((e,n)=>{Jh(t,n)||(r=r.remove(e))})),r)))}}class Gm{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.vs=n,this.Vs=r}static Ss(e,t){let n=Qd(),r=Qd();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Gm(e,t.fromCache,n,r)}}class Qm{Ds(e){this.Cs=e}As(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Cc.min())?this.Ns(e,t):this.Cs.Es(e,r).next((i=>{const s=this.xs(t,i);return(jh(t)||qh(t))&&this.ks(t.limitType,s,r,n)?this.Ns(e,t):(tc()<=Nt.DEBUG&&nc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Yh(t)),this.Cs.As(e,t,n).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}xs(e,t){let n=new jd(Xh(e));return t.forEach(((t,r)=>{Jh(e,r)&&(n=n.add(r))})),n}ks(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ns(e,t){return tc()<=Nt.DEBUG&&nc("QueryEngine","Using full collection scan to execute query:",Yh(t)),this.Cs.As(e,t,Cc.min())}}class Ym{constructor(e,t,n,r){this.persistence=e,this.Os=t,this.O=r,this.Ms=new Fd(Tc),this.$s=new Rm((e=>bh(e)),_h),this.Fs=Cc.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(n)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new Wm(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Jm(e,t,n,r){return new Ym(e,t,n,r)}async function Xm(e,t){const n=uc(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.gs.getAllMutationBatches(e).next((i=>(r=i,n.Ls(t),n.gs.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Qd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.Us.Es(e,o).next((e=>({qs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Zm(e){const t=uc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Un.getLastRemoteSnapshotVersion(e)))}function eg(e,t,n){let r=Qd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=$d();return n.forEach(((n,i)=>{const s=e.get(n);i.isNoDocument()&&i.version.isEqual(Cc.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):nc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)})),r}))}function tg(e,t){const n=uc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t))))}function ng(e,t){const n=uc(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Un.getTargetData(e,t).next((i=>i?(r=i,pp.resolve(r)):n.Un.allocateTargetId(e).next((i=>(r=new Np(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}async function rg(e,t,n){const r=uc(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!wp(e))throw e;nc("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.$s.delete(i.target)}function ig(e,t,n){const r=uc(e);let i=Cc.min(),s=Qd();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=uc(e),i=r.$s.get(n);return void 0!==i?pp.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,Hh(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Os.As(e,t,n?i:Cc.min(),n?s:Qd()))).next((e=>({documents:e,Ks:s})))))}function sg(e,t){const n=uc(e),r=uc(n.Un),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.Tt(e,t).next((e=>e?e.target:null))))}function og(e){const t=uc(e);return t.persistence.runTransaction("Get new document changes","readonly",(e=>function(e,t,n){const r=uc(e);let i=$d(),s=Pp(n);const o=Fm(t),a=IDBKeyRange.lowerBound(s,!0);return o.Qt({index:Yf.readTimeIndex,range:a},((e,t)=>{const n=Op(r.O,t);i=i.insert(n.key,n),s=t.readTime})).next((()=>({ws:i,readTime:Dp(s)})))}(t.Bs,e,t.Fs))).then((({ws:e,readTime:n})=>(t.Fs=n,e)))}async function ag(e,t,n=Qd()){const r=await ng(e,Hh(jp(t.bundledQuery))),i=uc(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=pf(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kn.saveNamedQuery(e,t);const o=r.withResumeToken(Mc.EMPTY_BYTE_STRING,s);return i.Ms=i.Ms.insert(o.targetId,o),i.Un.updateTargetData(e,o).next((()=>i.Un.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Un.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kn.saveNamedQuery(e,t)))}))}class ug{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return pp.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:pf(n.createTime)}),pp.resolve()}getNamedQuery(e,t){return pp.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:jp(e.bundledQuery),readTime:pf(e.readTime)}}(t)),pp.resolve()}}class lg{constructor(){this.overlays=new Fd(Qc.comparator),this.Hs=new Map}getOverlay(e,t){return pp.resolve(this.overlays.get(t))}saveOverlays(e,t,n){return n.forEach((n=>{this.Yt(e,t,n)})),pp.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Hs.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Hs.delete(n)),pp.resolve()}getOverlaysForCollection(e,t,n){const r=new Map,i=t.length+1,s=new Qc(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return pp.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Fd(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=new Map,i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=new Map,a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(t,e))),!(o.size>=r)););return pp.resolve(o)}Yt(e,t,n){if(null===n)return;const r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new xp(t,n));let i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}class cg{constructor(){this.Js=new jd(hg.Ys),this.Xs=new jd(hg.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const n=new hg(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}ti(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ei(new hg(e,t))}ni(e,t){e.forEach((e=>this.removeReference(e,t)))}si(e){const t=new Qc(new Rc([])),n=new hg(t,e),r=new hg(t,e+1),i=[];return this.Xs.forEachInRange([n,r],(e=>{this.ei(e),i.push(e.key)})),i}ii(){this.Js.forEach((e=>this.ei(e)))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new Qc(new Rc([])),n=new hg(t,e),r=new hg(t,e+1);let i=Qd();return this.Xs.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new hg(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class hg{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return Qc.comparator(e.key,t.key)||Tc(e.oi,t.oi)}static Zs(e,t){return Tc(e.oi,t.oi)||Qc.comparator(e.key,t.key)}}class dg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new jd(hg.Ys)}checkEmpty(e){return pp.resolve(0===this.gs.length)}addMutationBatch(e,t,n,r){const i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];const s=new Sp(i,t,n,r);this.gs.push(s);for(const t of r)this.ui=this.ui.add(new hg(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return pp.resolve(s)}lookupMutationBatch(e,t){return pp.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.hi(n),i=r<0?0:r;return pp.resolve(this.gs.length>i?this.gs[i]:null)}getHighestUnacknowledgedBatchId(){return pp.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return pp.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new hg(t,0),r=new hg(t,Number.POSITIVE_INFINITY),i=[];return this.ui.forEachInRange([n,r],(e=>{const t=this.ai(e.oi);i.push(t)})),pp.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new jd(Tc);return t.forEach((e=>{const t=new hg(e,0),r=new hg(e,Number.POSITIVE_INFINITY);this.ui.forEachInRange([t,r],(e=>{n=n.add(e.oi)}))})),pp.resolve(this.li(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Qc.isDocumentKey(i)||(i=i.child(""));const s=new hg(new Qc(i),0);let o=new jd(Tc);return this.ui.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),s),pp.resolve(this.li(o))}li(e){const t=[];return e.forEach((e=>{const n=this.ai(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ac(0===this.fi(t.batchId,"removed")),this.gs.shift();let n=this.ui;return pp.forEach(t.mutations,(r=>{const i=new hg(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ui=n}))}Qe(e){}containsKey(e,t){const n=new hg(t,0),r=this.ui.firstAfterOrEqual(n);return pp.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.gs.length,pp.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class fg{constructor(e){this.di=e,this.docs=new Fd(Qc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return pp.resolve(n?n.document.mutableCopy():fh.newInvalidDocument(t))}getEntries(e,t){let n=$d();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():fh.newInvalidDocument(e))})),pp.resolve(n)}getAll(e,t,n){let r=$d();const i=new Qc(t.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||i.readTime.compareTo(n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return pp.resolve(r)}_i(e,t){return pp.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new pg(this)}getSize(e){return pp.resolve(this.size)}}class pg extends Pm{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Tn.addEntry(e,r)):this.Tn.removeEntry(n)})),pp.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class mg{constructor(e){this.persistence=e,this.wi=new Rm((e=>bh(e)),_h),this.lastRemoteSnapshotVersion=Cc.min(),this.highestTargetId=0,this.mi=0,this.gi=new cg,this.targetCount=0,this.yi=bm.He()}forEachTarget(e,t){return this.wi.forEach(((e,n)=>t(n))),pp.resolve()}getLastRemoteSnapshotVersion(e){return pp.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pp.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),pp.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),pp.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new bm(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,pp.resolve()}updateTargetData(e,t){return this.Ze(t),pp.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,pp.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.wi.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.wi.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),pp.waitFor(i).next((()=>r))}getTargetCount(e){return pp.resolve(this.targetCount)}getTargetData(e,t){const n=this.wi.get(t)||null;return pp.resolve(n)}addMatchingKeys(e,t,n){return this.gi.ti(t,n),pp.resolve()}removeMatchingKeys(e,t,n){this.gi.ni(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),pp.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),pp.resolve()}getMatchingKeysForTargetId(e,t){const n=this.gi.ri(t);return pp.resolve(n)}containsKey(e,t){return pp.resolve(this.gi.containsKey(t))}}class gg{constructor(e,t){this.pi={},this.overlays={},this.Nn=new bc(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new mg(this),this.indexManager=new im,this.qn=function(e){return new fg(e)}((e=>this.referenceDelegate.Ii(e))),this.O=new Ap(t),this.Kn=new ug(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.pi[e.toKey()];return n||(n=new dg(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,n){nc("MemoryPersistence","Starting transaction:",e);const r=new yg(this.Nn.next());return this.referenceDelegate.Ei(),n(r).next((e=>this.referenceDelegate.Ti(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ai(e,t){return pp.or(Object.values(this.pi).map((n=>()=>n.containsKey(e,t))))}}class yg extends fp{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.Ri=new cg,this.Pi=null}static bi(e){return new vg(e)}get vi(){if(this.Pi)return this.Pi;throw oc()}addReference(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),pp.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),pp.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),pp.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach((e=>this.vi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.vi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pp.forEach(this.vi,(n=>{const r=Qc.fromPath(n);return this.Vi(e,r).next((e=>{e||t.removeEntry(r,Cc.min())}))})).next((()=>(this.Pi=null,t.apply(e))))}updateLimboDocument(e,t){return this.Vi(e,t).next((e=>{e?this.vi.delete(t.toString()):this.vi.add(t.toString())}))}Ii(e){return 0}Vi(e,t){return pp.or([()=>pp.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}function wg(e,t){return`firestore_clients_${e}_${t}`}function bg(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function _g(e,t){return`firestore_targets_${e}_${t}`}class Ig{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Si(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new cc(r.error.code,r.error.message))),s?new Ig(e,t,r.state,i):(rc("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tg{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Si(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new cc(n.error.code,n.error.message))),i?new Tg(e,n.state,r):(rc("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Eg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Si(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Jd();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=Gc(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new Eg(e,i):(rc("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class kg{constructor(e,t){this.clientId=e,this.onlineState=t}static Si(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new kg(t.clientId,t.onlineState):(rc("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Sg{constructor(){this.activeTargetIds=Jd()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cg{constructor(e,t,n,r,i){this.window=e,this.Sn=t,this.persistenceKey=n,this.xi=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new Fd(Tc),this.started=!1,this.$i=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Fi=wg(this.persistenceKey,this.xi),this.Bi=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new Sg),this.Li=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Ki=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Gi=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.ds();for(const t of e){if(t===this.xi)continue;const e=this.getItem(wg(this.persistenceKey,t));if(e){const n=Eg.Si(t,e);n&&(this.Mi=this.Mi.insert(n.clientId,n))}}this.ji();const t=this.storage.getItem(this.Ki);if(t){const e=this.Qi(t);e&&this.Wi(e)}for(const e of this.$i)this.Oi(e);this.$i=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let t=!1;return this.Mi.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,t,n){this.Hi(e,t,n),this.Ji(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(_g(this.persistenceKey,e));if(n){const r=Tg.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_g(this.persistenceKey,e))}updateQueryState(e,t,n){this.Xi(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ji(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return nc("SharedClientState","READ",e,t),t}setItem(e,t){nc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){nc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){const t=e;if(t.storageArea===this.storage){if(nc("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Fi)return void rc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Li.test(t.key)){if(null==t.newValue){const e=this.er(t.key);return this.nr(e,null)}{const e=this.sr(t.key,t.newValue);if(e)return this.nr(e.clientId,e)}}else if(this.Ui.test(t.key)){if(null!==t.newValue){const e=this.ir(t.key,t.newValue);if(e)return this.rr(e)}}else if(this.qi.test(t.key)){if(null!==t.newValue){const e=this.cr(t.key,t.newValue);if(e)return this.ur(e)}}else if(t.key===this.Ki){if(null!==t.newValue){const e=this.Qi(t.newValue);if(e)return this.Wi(e)}}else if(t.key===this.Bi){const e=function(e){let t=bc.A;if(null!=e)try{const n=JSON.parse(e);ac("number"==typeof n),t=n}catch(e){rc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==bc.A&&this.sequenceNumberHandler(e)}else if(t.key===this.Gi)return this.syncEngine.ar()}else this.$i.push(t)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,t,n){const r=new Ig(this.currentUser,e,t,n),i=bg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Di())}Ji(e){const t=bg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Zi(e){const t={clientId:this.xi,onlineState:e};this.storage.setItem(this.Ki,JSON.stringify(t))}Xi(e,t,n){const r=_g(this.persistenceKey,e),i=new Tg(e,t,n);this.setItem(r,i.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const t=this.Li.exec(e);return t?t[1]:null}sr(e,t){const n=this.er(e);return Eg.Si(n,t)}ir(e,t){const n=this.Ui.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ig.Si(new Xl(i),r,t)}cr(e,t){const n=this.qi.exec(e),r=Number(n[1]);return Tg.Si(r,t)}Qi(e){return kg.Si(e)}async rr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.hr(e.batchId,e.state,e.error);nc("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,t){const n=t?this.Mi.insert(e,t):this.Mi.remove(e),r=this.zi(this.Mi),i=this.zi(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.dr(s,o).then((()=>{this.Mi=n}))}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let t=Jd();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class xg{constructor(){this._r=new Sg,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,n){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new Sg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Ng{mr(e){}shutdown(){}}class Ag{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){nc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){nc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Og={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Rg{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class Pg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.kr=t+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,n,r,i){const s=this.$r(e,t);nc("RestConnection","Sending: ",s,n);const o={};return this.Fr(o,r,i),this.Br(e,s,o,n).then((e=>(nc("RestConnection","Received: ",e),e)),(t=>{throw ic("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t}))}Lr(e,t,n,r,i){return this.Mr(e,t,n,r,i)}Fr(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}$r(e,t){const n=Og[e];return`${this.kr}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,n,r){return new Promise(((i,s)=>{const o=new Yl;o.listenOnce(Kl.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case $l.NO_ERROR:const t=o.getResponseJson();nc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case $l.TIMEOUT:nc("Connection",'RPC "'+e+'" timed out'),s(new cc(lc.DEADLINE_EXCEEDED,"Request time out"));break;case $l.HTTP_ERROR:const n=o.getStatus();if(nc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(lc).indexOf(t)>=0?t:lc.UNKNOWN}(e.status);s(new cc(t,e.message))}else s(new cc(lc.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new cc(lc.UNAVAILABLE,"Connection failed."));break;default:oc()}}finally{nc("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);o.send(t,"POST",a,n,15)}))}Ur(e,t,n){const r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=zl(),s=Bl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Gl({})),this.Fr(o.initMessageHeaders,t,n),st()||ut()||it().indexOf("Electron/")>=0||lt()||it().indexOf("MSAppHost/")>=0||at()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");nc("Connection","Creating WebChannel: "+a,o);const u=i.createWebChannel(a,o);let l=!1,c=!1;const h=new Rg({Ar:e=>{c?nc("Connection","Not sending because WebChannel is closed:",e):(l||(nc("Connection","Opening WebChannel transport."),u.open(),l=!0),nc("Connection","WebChannel sending:",e),u.send(e))},Rr:()=>u.close()}),d=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return d(u,Ql.EventType.OPEN,(()=>{c||nc("Connection","WebChannel transport opened.")})),d(u,Ql.EventType.CLOSE,(()=>{c||(c=!0,nc("Connection","WebChannel transport closed"),h.Cr())})),d(u,Ql.EventType.ERROR,(e=>{c||(c=!0,ic("Connection","WebChannel transport errored:",e),h.Cr(new cc(lc.UNAVAILABLE,"The operation could not be completed")))})),d(u,Ql.EventType.MESSAGE,(e=>{var t;if(!c){const n=e.data[0];ac(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){nc("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Pd[e];if(void 0!==t)return Md(t)}(e),n=i.message;void 0===t&&(t=lc.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,h.Cr(new cc(t,n)),u.close()}else nc("Connection","WebChannel received:",n),h.Nr(n)}})),d(s,Hl.STAT_EVENT,(e=>{e.stat===Wl.PROXY?nc("Connection","Detected buffering proxy"):e.stat===Wl.NOPROXY&&nc("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.Dr()}),0),h}}function Dg(){return"undefined"!=typeof window?window:null}function Lg(){return"undefined"!=typeof document?document:null}function Mg(e){return new cf(e,!0)}class Fg{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Sn=e,this.timerId=t,this.qr=n,this.Kr=r,this.Gr=i,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),n=Math.max(0,Date.now()-this.Wr),r=Math.max(0,t-n);r>0&&nc("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,r,(()=>(this.Wr=Date.now(),e()))),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class Ug{constructor(e,t,n,r,i,s,o,a){this.Sn=e,this.Xr=n,this.Zr=r,this.eo=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new Fg(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}async stop(){this.oo()&&await this.close(0)}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(()=>this.lo())))}fo(e){this._o(),this.stream.send(e)}async lo(){if(this.co())return this.close(0)}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}async close(e,t){this._o(),this.wo(),this.ro.cancel(),this.no++,4!==e?this.ro.reset():t&&t.code===lc.RESOURCE_EXHAUSTED?(rc(t.toString()),rc("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):t&&t.code===lc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.vr(t)}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.no===t&&this.po(e,n)}),(t=>{e((()=>{const e=new cc(lc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Io(e)}))}))}po(e,t){const n=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((()=>{n((()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,(()=>(this.co()&&(this.state=3),Promise.resolve()))),this.listener.Pr())))})),this.stream.vr((e=>{n((()=>this.Io(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}uo(){this.state=5,this.ro.Hr((async()=>{this.state=0,this.start()}))}Io(e){return nc("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget((()=>this.no===e?t():(nc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Vg extends Ug{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.O=i}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:oc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.N?(ac(void 0===t||"string"==typeof t),Mc.fromBase64String(t||"")):(ac(void 0===t||t instanceof Uint8Array),Mc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?lc.UNKNOWN:Md(e.code);return new cc(t,e.message||"")}(o);n=new nf(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=vf(e,r.document.name),s=pf(r.document.updateTime),o=new hh({mapValue:{fields:r.document.fields}}),a=fh.newFoundDocument(i,s,o),u=r.targetIds||[],l=r.removedTargetIds||[];n=new ef(u,l,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=vf(e,r.document),s=r.readTime?pf(r.readTime):Cc.min(),o=fh.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ef([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=vf(e,r.document),s=r.removedTargetIds||[];n=new ef([],s,i,null)}else{if(!("filter"in t))return oc();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new Rd(r),s=e.targetId;n=new tf(s,i)}}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return Cc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Cc.min():t.readTime?pf(t.readTime):Cc.min()}(e);return this.listener.To(t,n)}Ao(e){const t={};t.database=_f(this.O),t.addTarget=function(e,t){let n;const r=t.target;return n=Ih(r)?{documents:Cf(e,r)}:{query:xf(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=df(e,t.resumeToken):t.snapshotVersion.compareTo(Cc.min())>0&&(n.readTime=hf(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return oc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}Ro(e){const t={};t.database=_f(this.O),t.removeTarget=e,this.fo(t)}}class jg extends Ug{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.O=i,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(ac(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function(e,t){return e&&e.length>0?(ac(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?pf(e.updateTime):pf(t);return n.isEqual(Cc.min())&&(n=pf(t)),new gd(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=pf(e.commitTime);return this.listener.Vo(n,t)}return ac(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=_f(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>kf(this.O,e)))};this.fo(t)}}class qg extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=n,this.O=r,this.Co=!1}No(){if(this.Co)throw new cc(lc.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,n){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.eo.Mr(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===lc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new cc(lc.UNKNOWN,e.toString())}))}Lr(e,t,n){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.eo.Lr(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===lc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new cc(lc.UNKNOWN,e.toString())}))}terminate(){this.Co=!0}}class zg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve()))))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(rc(t),this.Oo=!1):nc("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class Bg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=i,this.jo.mr((e=>{n.enqueueAndForget((async()=>{Xg(this)&&(nc("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=uc(e);t.Ko.add(4),await Kg(t),t.Qo.set("Unknown"),t.Ko.delete(4),await $g(t)}(this))}))})),this.Qo=new zg(n,r)}}async function $g(e){if(Xg(e))for(const t of e.Go)await t(!0)}async function Kg(e){for(const t of e.Go)await t(!1)}function Hg(e,t){const n=uc(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),Jg(n)?Yg(n):gy(n).co()&&Gg(n,t))}function Wg(e,t){const n=uc(e),r=gy(n);n.qo.delete(t),r.co()&&Qg(n,t),0===n.qo.size&&(r.co()?r.ho():Xg(n)&&n.Qo.set("Unknown"))}function Gg(e,t){e.Wo.Z(t.targetId),gy(e).Ao(t)}function Qg(e,t){e.Wo.Z(t),gy(e).Ro(t)}function Yg(e){e.Wo=new sf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>e.qo.get(t)||null}),gy(e).start(),e.Qo.Mo()}function Jg(e){return Xg(e)&&!gy(e).oo()&&e.qo.size>0}function Xg(e){return 0===uc(e).Ko.size}function Zg(e){e.Wo=void 0}async function ey(e){e.qo.forEach(((t,n)=>{Gg(e,t)}))}async function ty(e,t){Zg(e),Jg(e)?(e.Qo.Bo(t),Yg(e)):e.Qo.set("Unknown")}async function ny(e,t,n){if(e.Qo.set("Online"),t instanceof nf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.qo.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.qo.delete(r),e.Wo.removeTarget(r))}(e,t)}catch(n){nc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ry(e,n)}else if(t instanceof ef?e.Wo.ct(t):t instanceof tf?e.Wo._t(t):e.Wo.ht(t),!n.isEqual(Cc.min()))try{const t=await Zm(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Wo.yt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.qo.get(t);if(!n)return;e.qo.set(t,n.withResumeToken(Mc.EMPTY_BYTE_STRING,n.snapshotVersion)),Qg(e,t);const r=new Np(n.target,t,1,n.sequenceNumber);Gg(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){nc("RemoteStore","Failed to raise snapshot:",t),await ry(e,t)}}async function ry(e,t,n){if(!wp(t))throw t;e.Ko.add(1),await Kg(e),e.Qo.set("Offline"),n||(n=()=>Zm(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{nc("RemoteStore","Retrying IndexedDB access"),await n(),e.Ko.delete(1),await $g(e)}))}function iy(e,t){return t().catch((n=>ry(e,n,t)))}async function sy(e){const t=uc(e),n=yy(t);let r=t.Uo.length>0?t.Uo[t.Uo.length-1].batchId:-1;for(;oy(t);)try{const e=await tg(t.localStore,r);if(null===e){0===t.Uo.length&&n.ho();break}r=e.batchId,ay(t,e)}catch(e){await ry(t,e)}uy(t)&&ly(t)}function oy(e){return Xg(e)&&e.Uo.length<10}function ay(e,t){e.Uo.push(t);const n=yy(e);n.co()&&n.bo&&n.vo(t.mutations)}function uy(e){return Xg(e)&&!yy(e).oo()&&e.Uo.length>0}function ly(e){yy(e).start()}async function cy(e){yy(e).Do()}async function hy(e){const t=yy(e);for(const n of e.Uo)t.vo(n.mutations)}async function dy(e,t,n){const r=e.Uo.shift(),i=Cp.from(r,t,n);await iy(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await sy(e)}async function fy(e,t){t&&yy(e).bo&&await async function(e,t){if(Ld(n=t.code)&&n!==lc.ABORTED){const n=e.Uo.shift();yy(e).ao(),await iy(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await sy(e)}var n}(e,t),uy(e)&&ly(e)}async function py(e,t){const n=uc(e);n.asyncQueue.verifyOperationInProgress(),nc("RemoteStore","RemoteStore received new credentials");const r=Xg(n);n.Ko.add(3),await Kg(n),r&&n.Qo.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ko.delete(3),await $g(n)}async function my(e,t){const n=uc(e);t?(n.Ko.delete(2),await $g(n)):t||(n.Ko.add(2),await Kg(n),n.Qo.set("Unknown"))}function gy(e){return e.zo||(e.zo=function(e,t,n){const r=uc(e);return r.No(),new Vg(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:ey.bind(null,e),vr:ty.bind(null,e),To:ny.bind(null,e)}),e.Go.push((async t=>{t?(e.zo.ao(),Jg(e)?Yg(e):e.Qo.set("Unknown")):(await e.zo.stop(),Zg(e))}))),e.zo}function yy(e){return e.Ho||(e.Ho=function(e,t,n){const r=uc(e);return r.No(),new jg(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:cy.bind(null,e),vr:fy.bind(null,e),So:hy.bind(null,e),Vo:dy.bind(null,e)}),e.Go.push((async t=>{t?(e.Ho.ao(),await sy(e)):(await e.Ho.stop(),e.Uo.length>0&&(nc("RemoteStore",`Stopping write stream with ${e.Uo.length} pending writes`),e.Uo=[]))}))),e.Ho}class vy{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new hc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new vy(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new cc(lc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(e,t){if(rc("AsyncQueue",`${t}: ${e}`),wp(e))return new cc(lc.UNAVAILABLE,`${t}: ${e}`);throw e}class by{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Qc.comparator(t.key,n.key):(e,t)=>Qc.comparator(e.key,t.key),this.keyedMap=Hd(),this.sortedSet=new Fd(this.comparator)}static emptySet(e){return new by(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof by))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new by;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class _y{constructor(){this.Jo=new Fd(Qc.comparator)}track(e){const t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):oc():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Iy{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Iy(e,t,by.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class Ty{constructor(){this.Xo=void 0,this.listeners=[]}}class Ey{constructor(){this.queries=new Rm((e=>Qh(e)),Gh),this.onlineState="Unknown",this.Zo=new Set}}async function ky(e,t){const n=uc(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ty),i)try{s.Xo=await n.onListen(r)}catch(e){const n=wy(e,`Initialization of query '${Yh(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.tc(n.onlineState),s.Xo&&t.ec(s.Xo)&&Ny(n)}async function Sy(e,t){const n=uc(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Cy(e,t){const n=uc(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.ec(e)&&(r=!0);i.Xo=e}}r&&Ny(n)}function xy(e,t,n){const r=uc(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function Ny(e){e.Zo.forEach((e=>{e.next()}))}class Ay{constructor(e,t,n){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=n||{}}ec(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Iy(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.uc&&n||e.docs.isEmpty()&&"Offline"!==t)}rc(e){if(e.docChanges.length>0)return!0;const t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}cc(e){e=Iy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class Oy{constructor(e,t){this.payload=e,this.byteLength=t}ac(){return"metadata"in this.payload}}class Ry{constructor(e){this.O=e}Gs(e){return vf(this.O,e)}js(e){return e.metadata.exists?Ef(this.O,e.document,!1):fh.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return pf(e)}}class Py{constructor(e,t,n){this.hc=e,this.localStore=t,this.O=n,this.queries=[],this.documents=[],this.progress=Dy(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}fc(e){const t=new Map,n=new Ry(this.O);for(const r of e)if(r.metadata.queries){const e=n.Gs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Qd()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=uc(e);let s=Qd(),o=$d();for(const e of n){const n=t.Gs(e.metadata.name);e.document&&(s=s.add(n));const r=t.js(e);r.setReadTime(t.Qs(e.metadata.readTime)),o=o.insert(n,r)}const a=i.Bs.newChangeBuffer({trackRemovals:!0}),u=await ng(i,function(e){return Hh(Vh(Rc.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>eg(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Un.removeMatchingKeysForTargetId(e,u.targetId).next((()=>i.Un.addMatchingKeys(e,s,u.targetId))).next((()=>i.Us.Ts(e,t))).next((()=>t))))))}(this.localStore,new Ry(this.O),this.documents,this.hc.id),t=this.fc(this.documents);for(const e of this.queries)await ag(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",new Hm(Object.assign({},this.progress),e)}}function Dy(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Ly{constructor(e){this.key=e}}class My{constructor(e){this.key=e}}class Fy{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=Qd(),this.mutatedKeys=Qd(),this.mc=Xh(e),this.gc=new by(this.mc)}get yc(){return this.dc}Ic(e,t){const n=t?t.Ec:new _y,r=t?t.gc:this.gc;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=jh(this.query)&&r.size===this.query.limit?r.last():null,u=qh(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),c=Jh(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;l&&c?l.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Tc(l,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.mc(c,a)>0||u&&this.mc(c,u)<0)&&(o=!0)):!l&&c?(n.track({type:0,doc:c}),f=!0):l&&!c&&(n.track({type:1,doc:l}),f=!0,(a||u)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),jh(this.query)||qh(this.query))for(;s.size>this.query.limit;){const e=jh(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{gc:s,Ec:n,ks:o,mutatedKeys:i}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const i=e.Ec.Yo();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oc()}};return n(e)-n(t)}(e.type,t.type)||this.mc(e.doc,t.doc))),this.Ac(n);const s=t?this.Rc():[],o=0===this.wc.size&&this.current?1:0,a=o!==this._c;return this._c=o,0!==i.length||a?{snapshot:new Iy(this.query,e.gc,r,i,e.mutatedKeys,0===o,a,!1),Pc:s}:{Pc:s}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new _y,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach((e=>this.dc=this.dc.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.dc=this.dc.delete(e))),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=Qd(),this.gc.forEach((e=>{this.bc(e.key)&&(this.wc=this.wc.add(e.key))}));const t=[];return e.forEach((e=>{this.wc.has(e)||t.push(new My(e))})),this.wc.forEach((n=>{e.has(n)||t.push(new Ly(n))})),t}vc(e){this.dc=e.Ks,this.wc=Qd();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return Iy.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class Uy{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Vy{constructor(e){this.key=e,this.Sc=!1}}class jy{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Dc={},this.Cc=new Rm((e=>Qh(e)),Gh),this.Nc=new Map,this.xc=new Set,this.kc=new Fd(Qc.comparator),this.Oc=new Map,this.Mc=new cg,this.$c={},this.Fc=new Map,this.Bc=bm.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}async function qy(e,t){const n=fv(e);let r,i;const s=n.Cc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Vc();else{const e=await ng(n.localStore,Hh(t));n.isPrimaryClient&&Hg(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await zy(n,t,r,"current"===s)}return i}async function zy(e,t,n,r){e.Uc=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ic(n);i.ks&&(i=await ig(e.localStore,t.query,!1).then((({documents:e})=>t.view.Ic(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Zy(e,t.targetId,o.Pc),o.snapshot}(e,t,n,r);const i=await ig(e.localStore,t,!0),s=new Fy(t,i.Ks),o=s.Ic(i.documents),a=Zd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=s.applyChanges(o,e.isPrimaryClient,a);Zy(e,n,u.Pc);const l=new Uy(t,n,s);return e.Cc.set(t,l),e.Nc.has(n)?e.Nc.get(n).push(t):e.Nc.set(n,[t]),u.snapshot}async function By(e,t){const n=uc(e),r=n.Cc.get(t),i=n.Nc.get(r.targetId);if(i.length>1)return n.Nc.set(r.targetId,i.filter((e=>!Gh(e,t)))),void n.Cc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await rg(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Wg(n.remoteStore,r.targetId),Jy(n,r.targetId)})).catch(km)):(Jy(n,r.targetId),await rg(n.localStore,r.targetId,!0))}async function $y(e,t){const n=uc(e);try{const e=await function(e,t){const n=uc(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach(((s,a)=>{const u=i.get(a);if(!u)return;o.push(n.Un.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Un.addMatchingKeys(e,s.addedDocuments,a))));let l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?l=l.withResumeToken(Mc.EMPTY_BYTE_STRING,Cc.min()).withLastLimboFreeSnapshotVersion(Cc.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,l,s)&&o.push(n.Un.updateTargetData(e,l))}));let a=$d();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(eg(e,s,t.documentUpdates).next((e=>{a=e}))),!r.isEqual(Cc.min())){const t=n.Un.getLastRemoteSnapshotVersion(e).next((t=>n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return pp.waitFor(o).next((()=>s.apply(e))).next((()=>n.Us.Ts(e,a))).next((()=>a))})).then((e=>(n.Ms=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Oc.get(t);r&&(ac(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Sc=!0:e.modifiedDocuments.size>0?ac(r.Sc):e.removedDocuments.size>0&&(ac(r.Sc),r.Sc=!1))})),await nv(n,e,t)}catch(e){await km(e)}}function Ky(e,t,n){const r=uc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Cc.forEach(((n,r)=>{const i=r.view.tc(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=uc(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.tc(t)&&(r=!0)})),r&&Ny(n)}(r.eventManager,t),e.length&&r.Dc.To(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Hy(e,t,n){const r=uc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Oc.get(t),s=i&&i.key;if(s){let e=new Fd(Qc.comparator);e=e.insert(s,fh.newNoDocument(s,Cc.min()));const n=Qd().add(s),i=new Xd(Cc.min(),new Map,new jd(Tc),e,n);await $y(r,i),r.kc=r.kc.remove(s),r.Oc.delete(t),tv(r)}else await rg(r.localStore,t,!1).then((()=>Jy(r,t,n))).catch(km)}async function Wy(e,t){const n=uc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=uc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=pp.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);ac(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.gs.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.gs.performConsistencyCheck(e))).next((()=>n.Us.Es(e,r)))}))}(n.localStore,t);Yy(n,r,null),Qy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nv(n,e)}catch(e){await km(e)}}async function Gy(e,t,n){const r=uc(e);try{const e=await function(e,t){const n=uc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.gs.lookupMutationBatch(e,t).next((t=>(ac(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)))).next((()=>n.gs.performConsistencyCheck(e))).next((()=>n.Us.Es(e,r)))}))}(r.localStore,t);Yy(r,t,n),Qy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await nv(r,e)}catch(n){await km(n)}}function Qy(e,t){(e.Fc.get(t)||[]).forEach((e=>{e.resolve()})),e.Fc.delete(t)}function Yy(e,t,n){const r=uc(e);let i=r.$c[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function Jy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Nc.get(t))e.Cc.delete(r),n&&e.Dc.qc(r,n);e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((t=>{e.Mc.containsKey(t)||Xy(e,t)}))}function Xy(e,t){e.xc.delete(t.path.canonicalString());const n=e.kc.get(t);null!==n&&(Wg(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),tv(e))}function Zy(e,t,n){for(const r of n)r instanceof Ly?(e.Mc.addReference(r.key,t),ev(e,r)):r instanceof My?(nc("SyncEngine","Document no longer in limbo: "+r.key),e.Mc.removeReference(r.key,t),e.Mc.containsKey(r.key)||Xy(e,r.key)):oc()}function ev(e,t){const n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(nc("SyncEngine","New document in limbo: "+n),e.xc.add(r),tv(e))}function tv(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){const t=e.xc.values().next().value;e.xc.delete(t);const n=new Qc(Rc.fromString(t)),r=e.Bc.next();e.Oc.set(r,new Vy(n)),e.kc=e.kc.insert(n,r),Hg(e.remoteStore,new Np(Hh(Vh(n.path)),r,2,bc.A))}}async function nv(e,t,n){const r=uc(e),i=[],s=[],o=[];r.Cc.isEmpty()||(r.Cc.forEach(((e,a)=>{o.push(r.Uc(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Gm.Ss(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Dc.To(i),await async function(e,t){const n=uc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>pp.forEach(t,(t=>pp.forEach(t.vs,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>pp.forEach(t.Vs,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!wp(e))throw e;nc("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Ms.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(t,i)}}}(r.localStore,s))}async function rv(e,t){const n=uc(e);if(!n.currentUser.isEqual(t)){nc("SyncEngine","User change. New user:",t.toKey());const e=await Xm(n.localStore,t);n.currentUser=t,function(e,t){e.Fc.forEach((e=>{e.forEach((e=>{e.reject(new cc(lc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await nv(n,e.qs)}}function iv(e,t){const n=uc(e),r=n.Oc.get(t);if(r&&r.Sc)return Qd().add(r.key);{let e=Qd();const r=n.Nc.get(t);if(!r)return e;for(const t of r){const r=n.Cc.get(t);e=e.unionWith(r.view.yc)}return e}}async function sv(e,t){const n=uc(e),r=await ig(n.localStore,t.query,!0),i=t.view.vc(r);return n.isPrimaryClient&&Zy(n,t.targetId,i.Pc),i}async function ov(e){const t=uc(e);return og(t.localStore).then((e=>nv(t,e)))}async function av(e,t,n,r){const i=uc(e),s=await function(e,t){const n=uc(e),r=uc(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Ge(e,t).next((t=>t?n.Us.Es(e,t):pp.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await sy(i.remoteStore):"acknowledged"===n||"rejected"===n?(Yy(i,t,r||null),Qy(i,t),function(e,t){uc(uc(e).gs).Qe(t)}(i.localStore,t)):oc(),await nv(i,s)):nc("SyncEngine","Cannot apply mutation batch with id: "+t)}async function uv(e,t,n){const r=uc(e),i=[],s=[];for(const e of t){let t;const n=r.Nc.get(e);if(n&&0!==n.length){t=await ng(r.localStore,Hh(n[0]));for(const e of n){const t=r.Cc.get(e),n=await sv(r,t);n.snapshot&&s.push(n.snapshot)}}else{const n=await sg(r.localStore,e);t=await ng(r.localStore,n),await zy(r,lv(n),e,!1)}i.push(t)}return r.Dc.To(s),i}function lv(e){return Uh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function cv(e){const t=uc(e);return uc(uc(t.localStore).persistence).ds()}async function hv(e,t,n,r){const i=uc(e);if(i.Lc)nc("SyncEngine","Ignoring unexpected query state notification.");else if(i.Nc.has(t))switch(n){case"current":case"not-current":{const e=await og(i.localStore),r=Xd.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await nv(i,e,r);break}case"rejected":await rg(i.localStore,t,!0),Jy(i,t,r);break;default:oc()}}async function dv(e,t,n){const r=fv(e);if(r.Lc){for(const e of t){if(r.Nc.has(e)){nc("SyncEngine","Adding an already active target "+e);continue}const t=await sg(r.localStore,e),n=await ng(r.localStore,t);await zy(r,lv(t),n.targetId,!1),Hg(r.remoteStore,n)}for(const e of n)r.Nc.has(e)&&await rg(r.localStore,e,!1).then((()=>{Wg(r.remoteStore,e),Jy(r,e)})).catch(km)}}function fv(e){const t=uc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$y.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Hy.bind(null,t),t.Dc.To=Cy.bind(null,t.eventManager),t.Dc.qc=xy.bind(null,t.eventManager),t}function pv(e){const t=uc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gy.bind(null,t),t}class mv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.O=Mg(e.databaseInfo.databaseId),this.sharedClientState=this.Gc(e),this.persistence=this.jc(e),await this.persistence.start(),this.gcScheduler=this.Qc(e),this.localStore=this.Wc(e)}Qc(e){return null}Wc(e){return Jm(this.persistence,new Qm,e.initialUser,this.O)}jc(e){return new gg(vg.bi,this.O)}Gc(e){return new xg}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gv extends mv{constructor(e,t,n){super(),this.zc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=uc(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=Fm(e);let n=Cc.min();return t.Qt({index:Yf.readTimeIndex,reverse:!0},((e,t,r)=>{t.readTime&&(n=Dp(t.readTime)),r.done()})).next((()=>n))}(e))).then((e=>{t.Fs=e}))}(this.localStore),await this.zc.initialize(this,e),await pv(this.zc.syncEngine),await sy(this.zc.remoteStore),await this.persistence.Hn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Wc(e){return Jm(this.persistence,new Qm,e.initialUser,this.O)}Qc(e){const t=this.persistence.referenceDelegate.garbageCollector;return new xm(t,e.asyncQueue)}jc(e){const t=Km(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?dm.withCacheSize(this.cacheSizeBytes):dm.DEFAULT;return new zm(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Dg(),Lg(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new xg}}class yv extends gv{constructor(e,t){super(e,t,!1),this.zc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.zc.syncEngine;this.sharedClientState instanceof Cg&&(this.sharedClientState.syncEngine={hr:av.bind(null,t),lr:hv.bind(null,t),dr:dv.bind(null,t),ds:cv.bind(null,t),ar:ov.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Hn((async e=>{await async function(e,t){const n=uc(e);if(fv(n),pv(n),!0===t&&!0!==n.Lc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await uv(n,e.toArray());n.Lc=!0,await my(n.remoteStore,!0);for(const e of t)Hg(n.remoteStore,e)}else if(!1===t&&!1!==n.Lc){const e=[];let t=Promise.resolve();n.Nc.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Jy(n,i),rg(n.localStore,i,!0)))),Wg(n.remoteStore,i)})),await t,await uv(n,e),function(e){const t=uc(e);t.Oc.forEach(((e,n)=>{Wg(t.remoteStore,n)})),t.Mc.ii(),t.Oc=new Map,t.kc=new Fd(Qc.comparator)}(n),n.Lc=!1,await my(n.remoteStore,!1)}}(this.zc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())}))}Gc(e){const t=Dg();if(!Cg.Vt(t))throw new cc(lc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Km(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Cg(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class vv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ky(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=rv.bind(null,this.syncEngine),await my(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ey}createDatastore(e){const t=Mg(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Pg(r));var r;return function(e,t,n,r){return new qg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Ky(this.syncEngine,e,0),s=Ag.Vt()?new Ag:new Ng,new Bg(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new jy(e,t,n,r,i,s);return o&&(a.Lc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=uc(e);nc("RemoteStore","RemoteStore shutting down."),t.Ko.add(5),await Kg(t),t.jo.shutdown(),t.Qo.set("Unknown")}(this.remoteStore)}}function wv(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class bv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class _v{constructor(e,t){this.Yc=e,this.O=t,this.metadata=new hc,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then((e=>{e&&e.ac()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Yc.cancel()}async getMetadata(){return this.metadata.promise}async Kc(){return await this.getMetadata(),this.Zc()}async Zc(){const e=await this.tu();if(null===e)return null;const t=this.Xc.decode(e),n=Number(t);isNaN(n)&&this.eu(`length string (${t}) is not valid number`);const r=await this.nu(n);return new Oy(JSON.parse(r),e.length+n)}su(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async tu(){for(;this.su()<0&&!await this.iu(););if(0===this.buffer.length)return null;const e=this.su();e<0&&this.eu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async nu(e){for(;this.buffer.length<e;)await this.iu()&&this.eu("Reached the end of bundle when more is expected.");const t=this.Xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}async iu(){const e=await this.Yc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Iv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new cc(lc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=uc(e),r=_f(n.O)+"/documents",i={documents:t.map((e=>yf(n.O,e)))},s=await n.Lr("BatchGetDocuments",r,i),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){ac(!!t.found),t.found.name,t.found.updateTime;const n=vf(e,t.found.name),r=pf(t.found.updateTime),i=new hh({mapValue:{fields:t.found.fields}});return fh.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ac(!!t.missing),ac(!!t.readTime);const n=vf(e,t.missing),r=pf(t.readTime);return fh.newNoDocument(n,r)}(e,t):oc()}(n.O,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());ac(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ad(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Qc.fromPath(t);this.mutations.push(new Od(n,this.precondition(n)))})),await async function(e,t){const n=uc(e),r=_f(n.O)+"/documents",i={writes:t.map((e=>kf(n.O,e)))};await n.Mr("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw oc();t=Cc.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new cc(lc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?yd.updateTime(t):yd.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Cc.min()))throw new cc(lc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yd.updateTime(t)}return yd.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Tv{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ru=5,this.ro=new Fg(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){this.ro.Hr((async()=>{const e=new Iv(this.datastore),t=this.cu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.uu(e)}))))})).catch((e=>{this.uu(e)}))}))}cu(e){try{const t=this.updateFunction(e);return!Hc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget((()=>(this.ou(),Promise.resolve())))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ld(t)}return!1}}class Ev{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Xl.UNAUTHENTICATED,this.clientId=Ic.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{nc("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(nc("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new cc(lc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=wy(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function kv(e,t){e.asyncQueue.verifyOperationInProgress(),nc("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Xm(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function Sv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Cv(e);nc("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>py(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>py(t.remoteStore,n))),e.onlineComponents=t}async function Cv(e){return e.offlineComponents||(nc("FirestoreClient","Using default OfflineComponentProvider"),await kv(e,new mv)),e.offlineComponents}async function xv(e){return e.onlineComponents||(nc("FirestoreClient","Using default OnlineComponentProvider"),await Sv(e,new vv)),e.onlineComponents}function Nv(e){return Cv(e).then((e=>e.persistence))}function Av(e){return Cv(e).then((e=>e.localStore))}function Ov(e){return xv(e).then((e=>e.remoteStore))}function Rv(e){return xv(e).then((e=>e.syncEngine))}async function Pv(e){const t=await xv(e),n=t.eventManager;return n.onListen=qy.bind(null,t.syncEngine),n.onUnlisten=By.bind(null,t.syncEngine),n}function Dv(e,t,n={}){const r=new hc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new bv({next:s=>{t.enqueueAndForget((()=>Sy(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new cc(lc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new cc(lc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Ay(Vh(n.path),s,{includeMetadataChanges:!0,uc:!0});return ky(e,o)}(await Pv(e),e.asyncQueue,t,n,r))),r.promise}function Lv(e,t,n={}){const r=new hc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new bv({next:n=>{t.enqueueAndForget((()=>Sy(e,o))),n.fromCache&&"server"===r.source?i.reject(new cc(lc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Ay(n,s,{includeMetadataChanges:!0,uc:!0});return ky(e,o)}(await Pv(e),e.asyncQueue,t,n,r))),r.promise}const Mv=new Map;function Fv(e,t,n){if(!n)throw new cc(lc.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Uv(e,t,n,r){if(!0===t&&!0===r)throw new cc(lc.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Vv(e){if(!Qc.isDocumentKey(e))throw new cc(lc.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jv(e){if(Qc.isDocumentKey(e))throw new cc(lc.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function qv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":oc()}function zv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new cc(lc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qv(e);throw new cc(lc.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Bv(e,t){if(t<=0)throw new cc(lc.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class $v{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new cc(lc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new cc(lc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Uv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kv{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1,e instanceof Kc?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new cc(lc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(e.options.projectId)}(e))}get app(){if(!this._app)throw new cc(lc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new cc(lc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new fc;switch(e.type){case"gapi":const t=e.client;return ac(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new yc(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new cc(lc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mv.get(e);t&&(nc("ComponentProvider","Removing Datastore"),Mv.delete(e),t.terminate())}(this),Promise.resolve()}}class Hv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hv(this.firestore,e,this._key)}}class Wv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Wv(this.firestore,e,this._query)}}class Gv extends Wv{constructor(e,t,n){super(e,t,Vh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hv(this.firestore,null,new Qc(e))}withConverter(e){return new Gv(this.firestore,e,this._path)}}function Qv(e,t,...n){if(e=Tt(e),Fv("collection","path",t),e instanceof Kv){const r=Rc.fromString(t,...n);return jv(r),new Gv(e,null,r)}{if(!(e instanceof Hv||e instanceof Gv))throw new cc(lc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Rc.fromString(t,...n));return jv(r),new Gv(e.firestore,null,r)}}function Yv(e,t,...n){if(e=Tt(e),1===arguments.length&&(t=Ic.R()),Fv("doc","path",t),e instanceof Kv){const r=Rc.fromString(t,...n);return Vv(r),new Hv(e,null,new Qc(r))}{if(!(e instanceof Hv||e instanceof Gv))throw new cc(lc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Rc.fromString(t,...n));return Vv(r),new Hv(e.firestore,e instanceof Gv?e.converter:null,new Qc(r))}}function Jv(e,t){return e=Tt(e),t=Tt(t),(e instanceof Hv||e instanceof Gv)&&(t instanceof Hv||t instanceof Gv)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Xv(e,t){return e=Tt(e),t=Tt(t),e instanceof Wv&&t instanceof Wv&&e.firestore===t.firestore&&Gh(e._query,t._query)&&e.converter===t.converter}class Zv{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new Fg(this,"async_queue_retry"),this.yu=()=>{const e=Lg();e&&nc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ro.Yr()};const e=Lg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=Lg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise((()=>{}));const t=new hc;return this.Iu((()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.lu.push(e),this.Eu())))}async Eu(){if(0!==this.lu.length){try{await this.lu[0](),this.lu.shift(),this.ro.reset()}catch(e){if(!wp(e))throw e;nc("AsyncQueue","Operation failed with retryable error: "+e)}this.lu.length>0&&this.ro.Hr((()=>this.Eu()))}}Iu(e){const t=this.hu.then((()=>(this.wu=!0,e().catch((e=>{this._u=e,this.wu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw rc("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.wu=!1,e))))));return this.hu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const r=vy.createAndSchedule(this,e,t,n,(e=>this.Tu(e)));return this.du.push(r),r}pu(){this._u&&oc()}verifyOperationInProgress(){}async Au(){let e;do{e=this.hu,await e}while(e!==this.hu)}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then((()=>{this.du.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()}))}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function ew(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class tw{constructor(){this._progressObserver={},this._taskCompletionResolver=new hc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class nw extends Kv{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Zv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||iw(this),this._firestoreClient.terminate()}}function rw(e){return e._firestoreClient||iw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function iw(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new $c(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ev(e._authCredentials,e._appCheckCredentials,e._queue,r)}function sw(e,t,n){const r=new hc;return e.asyncQueue.enqueue((async()=>{try{await kv(e,n),await Sv(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===lc.FAILED_PRECONDITION||e.code===lc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then((()=>r.promise))}function ow(e){if(e._initialized||e._terminated)throw new cc(lc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class aw{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new cc(lc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dc(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uw(Mc.fromBase64String(e))}catch(e){throw new cc(lc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new uw(Mc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lw{constructor(e){this._methodName=e}}class cw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new cc(lc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new cc(lc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tc(this._lat,e._lat)||Tc(this._long,e._long)}}const hw=/^__.*__$/;class dw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Sd(e,this.data,this.fieldMask,t,this.fieldTransforms):new kd(e,this.data,t,this.fieldTransforms)}}class fw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Sd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oc()}}class mw{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.O=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new mw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}xu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return Lw(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(pw(this.Vu)&&hw.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class gw{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=n||Mg(e)}Fu(e,t,n,r=!1){return new mw({Vu:e,methodName:t,$u:n,path:Dc.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function yw(e){const t=e._freezeSettings(),n=Mg(e._databaseId);return new gw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vw(e,t,n,r,i,s={}){const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);Ow("Data must be an object, but it was:",o,r);const a=Nw(r,o);let u,l;if(s.merge)u=new Lc(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Rw(t,r,n);if(!o.contains(i))throw new cc(lc.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Mw(e,i)||e.push(i)}u=new Lc(e),l=o.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,l=o.fieldTransforms;return new dw(new hh(a),u,l)}class ww extends lw{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou(`${this._methodName}() can only appear at the top level of your update data`):e.Ou(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ww}}function bw(e,t,n){return new mw({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}class _w extends lw{_toFieldTransform(e){return new md(e.path,new ad)}isEqual(e){return e instanceof _w}}class Iw extends lw{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=bw(this,e,!0),n=this.Bu.map((e=>xw(e,t))),r=new ud(n);return new md(e.path,r)}isEqual(e){return this===e}}class Tw extends lw{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=bw(this,e,!0),n=this.Bu.map((e=>xw(e,t))),r=new cd(n);return new md(e.path,r)}isEqual(e){return this===e}}class Ew extends lw{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new dd(e.O,nd(e.O,this.Lu));return new md(e.path,t)}isEqual(e){return this===e}}function kw(e,t,n,r){const i=e.Fu(1,t,n);Ow("Data must be an object, but it was:",i,r);const s=[],o=hh.empty();Nc(r,((e,r)=>{const a=Dw(t,e,n);r=Tt(r);const u=i.xu(a);if(r instanceof ww)s.push(a);else{const e=xw(r,u);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Lc(s);return new fw(o,a,i.fieldTransforms)}function Sw(e,t,n,r,i,s){const o=e.Fu(1,t,n),a=[Rw(t,r,n)],u=[i];if(s.length%2!=0)throw new cc(lc.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)a.push(Rw(t,s[e])),u.push(s[e+1]);const l=[],c=hh.empty();for(let e=a.length-1;e>=0;--e)if(!Mw(l,a[e])){const t=a[e];let n=u[e];n=Tt(n);const r=o.xu(t);if(n instanceof ww)l.push(t);else{const e=xw(n,r);null!=e&&(l.push(t),c.set(t,e))}}const h=new Lc(l);return new fw(c,h,o.fieldTransforms)}function Cw(e,t,n,r=!1){return xw(n,e.Fu(r?4:3,t))}function xw(e,t){if(Aw(e=Tt(e)))return Ow("Unsupported field value:",t,e),Nw(e,t);if(e instanceof lw)return function(e,t){if(!pw(t.Vu))throw t.Ou(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Ou(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=xw(i,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Tt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return nd(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Sc.fromDate(e);return{timestampValue:hf(t.O,n)}}if(e instanceof Sc){const n=new Sc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hf(t.O,n)}}if(e instanceof cw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uw)return{bytesValue:df(t.O,e._byteString)};if(e instanceof Hv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Ou(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:mf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou(`Unsupported field value: ${qv(e)}`)}(e,t)}function Nw(e,t){const n={};return Ac(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nc(e,((e,r)=>{const i=xw(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Aw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Sc||e instanceof cw||e instanceof uw||e instanceof Hv||e instanceof lw)}function Ow(e,t,n){if(!Aw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=qv(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function Rw(e,t,n){if((t=Tt(t))instanceof aw)return t._internalPath;if("string"==typeof t)return Dw(e,t);throw Lw("Field path arguments must be of type string or ",e,!1,void 0,n)}const Pw=new RegExp("[~\\*/\\[\\]]");function Dw(e,t,n){if(t.search(Pw)>=0)throw Lw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new aw(...t.split("."))._internalPath}catch(r){throw Lw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Lw(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new cc(lc.INVALID_ARGUMENT,a+e+u)}function Mw(e,t){return e.some((e=>e.isEqual(t)))}class Fw{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Hv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Uw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Uw extends Fw{data(){return super.data()}}function Vw(e,t){return"string"==typeof t?Dw(e,t):t instanceof aw?t._internalPath:t._delegate._internalPath}class jw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qw extends Fw{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Vw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class zw extends qw{data(e={}){return super.data(e)}}class Bw{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new jw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new zw(this._firestore,this._userDataWriter,n.key,n,new jw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new cc(lc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new zw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new jw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new zw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:$w(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $w(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oc()}}function Kw(e,t){return e instanceof qw&&t instanceof qw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Bw&&t instanceof Bw&&e._firestore===t._firestore&&Xv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Hw(e){if(qh(e)&&0===e.explicitOrderBy.length)throw new cc(lc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ww{}function Gw(e,...t){for(const n of t)e=n._apply(e);return e}class Qw extends Ww{constructor(e,t,n){super(),this.Uu=e,this.qu=t,this.Ku=n,this.type="where"}_apply(e){const t=yw(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new cc(lc.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){nb(o,s);const t=[];for(const n of o)t.push(tb(r,e,n));a={arrayValue:{values:t}}}else a=tb(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||nb(o,s),a=Cw(n,"where",o,"in"===s||"not-in"===s);const u=Th.create(i,s,a);return function(e,t){if(t.S()){const n=Bh(e);if(null!==n&&!n.isEqual(t.field))throw new cc(lc.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=zh(e);null!==r&&rb(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new cc(lc.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new cc(lc.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,u),u}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new Wv(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Fh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class Yw extends Ww{constructor(e,t){super(),this.Uu=e,this.Gu=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new cc(lc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new cc(lc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Ph(t,n);return function(e,t){if(null===zh(e)){const n=Bh(e);null!==n&&rb(0,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new Wv(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Fh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Jw extends Ww{constructor(e,t,n){super(),this.type=e,this.ju=t,this.Qu=n}_apply(e){return new Wv(e.firestore,e.converter,Wh(e._query,this.ju,this.Qu))}}class Xw extends Ww{constructor(e,t,n){super(),this.type=e,this.Wu=t,this.zu=n}_apply(e){const t=eb(e,this.type,this.Wu,this.zu);return new Wv(e.firestore,e.converter,function(e,t){return new Fh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Zw extends Ww{constructor(e,t,n){super(),this.type=e,this.Wu=t,this.zu=n}_apply(e){const t=eb(e,this.type,this.Wu,this.zu);return new Wv(e.firestore,e.converter,function(e,t){return new Fh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function eb(e,t,n,r){if(n[0]=Tt(n[0]),n[0]instanceof Fw)return function(e,t,n,r,i){if(!r)throw new cc(lc.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const n of Kh(e))if(n.field.isKeyField())s.push(ih(t,r.key));else{const e=r.data.field(n.field);if(qc(e))throw new cc(lc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new cc(lc.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Rh(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=yw(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new cc(lc.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<i.length;s++){const u=i[s];if(o[s].field.isKeyField()){if("string"!=typeof u)throw new cc(lc.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof u}`);if(!$h(e)&&-1!==u.indexOf("/"))throw new cc(lc.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${u}' contains a slash.`);const n=e.path.child(Rc.fromString(u));if(!Qc.isDocumentKey(n))throw new cc(lc.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Qc(n);a.push(ih(t,i))}else{const e=Cw(n,r,u);a.push(e)}}return new Rh(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function tb(e,t,n){if("string"==typeof(n=Tt(n))){if(""===n)throw new cc(lc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$h(t)&&-1!==n.indexOf("/"))throw new cc(lc.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Rc.fromString(n));if(!Qc.isDocumentKey(r))throw new cc(lc.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ih(e,new Qc(r))}if(n instanceof Hv)return ih(e,n._key);throw new cc(lc.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qv(n)}.`)}function nb(e,t){if(!Array.isArray(e)||0===e.length)throw new cc(lc.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new cc(lc.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function rb(e,t,n){if(!n.isEqual(t))throw new cc(lc.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class ib{convertValue(e,t="none"){switch(Jc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw oc()}}convertObject(e,t){const n={};return Nc(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new cw(Vc(e.latitude),Vc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=zc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const t=Uc(e);return new Sc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Rc.fromString(e);ac(Uf(n));const r=new Kc(n.get(1),n.get(3)),i=new Qc(n.popFirst(5));return r.isEqual(t)||rc(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function sb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ob extends ib{constructor(e){super(),this.firestore=e}convertBytes(e){return new uw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hv(this.firestore,null,t)}}class ab{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yw(e)}set(e,t,n){this._verifyNotCommitted();const r=ub(e,this._firestore),i=sb(r.converter,t,n),s=vw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,yd.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=ub(e,this._firestore);let s;return s="string"==typeof(t=Tt(t))||t instanceof aw?Sw(this._dataReader,"WriteBatch.update",i._key,t,n,r):kw(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,yd.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ub(e,this._firestore);return this._mutations=this._mutations.concat(new Ad(t._key,yd.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new cc(lc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ub(e,t){if((e=Tt(e)).firestore!==t)throw new cc(lc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class lb extends ib{constructor(e){super(),this.firestore=e}convertBytes(e){return new uw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hv(this.firestore,null,t)}}function cb(e,t,n){e=zv(e,Hv);const r=zv(e.firestore,nw),i=sb(e.converter,t,n);return fb(r,[vw(yw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,yd.none())])}function hb(e,t,n,...r){e=zv(e,Hv);const i=zv(e.firestore,nw),s=yw(i);let o;return o="string"==typeof(t=Tt(t))||t instanceof aw?Sw(s,"updateDoc",e._key,t,n,r):kw(s,"updateDoc",e._key,t),fb(i,[o.toMutation(e._key,yd.exists(!0))])}function db(e,...t){var n,r,i;e=Tt(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||ew(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(ew(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,l,c;if(e instanceof Hv)l=zv(e.firestore,nw),c=Vh(e._key.path),u={next:n=>{t[o]&&t[o](pb(l,e,n))},error:t[o+1],complete:t[o+2]};else{const n=zv(e,Wv);l=zv(n.firestore,nw),c=n._query;const r=new lb(l);u={next:e=>{t[o]&&t[o](new Bw(l,r,n,e))},error:t[o+1],complete:t[o+2]},Hw(e._query)}return function(e,t,n,r){const i=new bv(r),s=new Ay(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>ky(await Pv(e),s))),()=>{i.Jc(),e.asyncQueue.enqueueAndForget((async()=>Sy(await Pv(e),s)))}}(rw(l),c,a,u)}function fb(e,t){return function(e,t){const n=new hc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=pv(e);try{const e=await function(e,t){const n=uc(e),r=Sc.now(),i=t.reduce(((e,t)=>e.add(t.key)),Qd());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Us.Es(e,i).next((i=>{s=i;const o=[];for(const e of t){const t=Id(e,s.get(e.key));null!=t&&o.push(new Sd(e.key,t,dh(t.value.mapValue),yd.exists(!0)))}return n.gs.addMutationBatch(e,r,o,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.$c[e.currentUser.toKey()];r||(r=new Fd(Tc)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(r,e.batchId,n),await nv(r,e.changes),await sy(r.remoteStore)}catch(e){const t=wy(e,"Failed to persist write");n.reject(t)}}(await Rv(e),t,n))),n.promise}(rw(e),t)}function pb(e,t,n){const r=n.docs.get(t._key),i=new lb(e);return new qw(e,i,t._key,r,new jw(n.hasPendingWrites,n.fromCache),t.converter)}class mb extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=yw(e)}get(e){const t=ub(e,this._firestore),n=new ob(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return oc();const r=e[0];if(r.isFoundDocument())return new Fw(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Fw(this._firestore,n,t._key,null,t.converter);throw oc()}))}set(e,t,n){const r=ub(e,this._firestore),i=sb(r.converter,t,n),s=vw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=ub(e,this._firestore);let s;return s="string"==typeof(t=Tt(t))||t instanceof aw?Sw(this._dataReader,"Transaction.update",i._key,t,n,r):kw(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=ub(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ub(e,this._firestore),n=new lb(this._firestore);return super.get(e).then((e=>new qw(this._firestore,n,t._key,e._document,new jw(!1,!1),t.converter)))}}function gb(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new cc("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function yb(){if("undefined"==typeof Uint8Array)throw new cc("unimplemented","Uint8Arrays are not available in this environment.")}function vb(){if("undefined"==typeof atob)throw new cc("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){Zl=e}(Jt),Kt(new Et("firestore",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new nw(r,new mc(e.getProvider("auth-internal")),new wc(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC")),nn(Jl,"3.4.5",e),nn(Jl,"3.4.5","esm2017")}();class wb{constructor(e){this._delegate=e}static fromBase64String(e){return vb(),new wb(uw.fromBase64String(e))}static fromUint8Array(e){return yb(),new wb(uw.fromUint8Array(e))}toBase64(){return vb(),this._delegate.toBase64()}toUint8Array(){return yb(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class _b{enableIndexedDbPersistence(e,t){return function(e,t){ow(e=zv(e,nw));const n=rw(e),r=e._freezeSettings(),i=new vv;return sw(n,i,new gv(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){ow(e=zv(e,nw));const t=rw(e),n=e._freezeSettings(),r=new vv;return sw(t,r,new yv(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new cc(lc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new hc;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!gp.Vt())return Promise.resolve();const t=e+"main";await gp.delete(t)}(Km(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Ib{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Kc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||ic("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=zv(e,Kv))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&ic("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Xl.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[tt(JSON.stringify({alg:"none",type:"JWT"})),tt(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new cc(lc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Xl(s)}e._authCredentials=new pc(new dc(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Nv(e),n=await Ov(e);return t.setNetworkEnabled(!0),function(e){const t=uc(e);return t.Ko.delete(0),$g(t)}(n)}))}(rw(e=zv(e,nw)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Nv(e),n=await Ov(e);return t.setNetworkEnabled(!1),async function(e){const t=uc(e);t.Ko.add(0),await Kg(t),t.Qo.set("Offline")}(n)}))}(rw(e=zv(e,nw)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Uv("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new hc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=uc(e);Xg(n.remoteStore)||nc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=uc(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.gs.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Fc.get(e)||[];r.push(t),n.Fc.set(e,r)}catch(e){const n=wy(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Rv(e),t))),t.promise}(rw(e=zv(e,nw)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new bv(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){uc(e).Zo.add(t),t.next()}(await Pv(e),n))),()=>{n.Jc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){uc(e).Zo.delete(t)}(await Pv(e),n)))}}(rw(e=zv(e,nw)),ew(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new cc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Mb(this,Qv(this._delegate,e))}catch(e){throw xb(e,"collection()","Firestore.collection()")}}doc(e){try{return new Cb(this,Yv(this._delegate,e))}catch(e){throw xb(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Pb(this,function(e,t){if(e=zv(e,Kv),Fv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new cc(lc.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wv(e,null,function(e){return new Fh(Rc.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw xb(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new hc;return e.asyncQueue.enqueueAndForget((async()=>{const r=await function(e){return xv(e).then((e=>e.datastore))}(e);new Tv(e.asyncQueue,r,t,n).run()})),n.promise}(rw(e=zv(e,nw)),(n=>t(new mb(e,n))))}(this._delegate,(t=>e(new Eb(this,t))))}batch(){return rw(this._delegate),new kb(new ab(this._delegate,(e=>fb(this._delegate,e))))}loadBundle(e){return function(e,t){const n=rw(e=zv(e,nw)),r=new tw;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new _v(e,t)}(function(e,t){if(e instanceof Uint8Array)return wv(e,t);if(e instanceof ArrayBuffer)return wv(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Mg(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=uc(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=uc(e),r=pf(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kn.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(Dy(r));const i=new Py(r,e.localStore,t.O);let s=await t.Kc();for(;s;){const e=await i.lc(s);e&&n._updateProgress(e),s=await t.Kc()}const o=await i.complete();await nv(e,o.ws,void 0),await function(e,t){const n=uc(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kn.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress)}catch(e){ic("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(r,t,n).then((()=>{r.sharedClientState.notifyBundleLoaded()}))}(await Rv(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=uc(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kn.getNamedQuery(e,t)))}(await Av(e),t)))}(rw(e=zv(e,nw)),t).then((t=>t?new Wv(e,null,t.query):null))}(this._delegate,e).then((e=>e?new Pb(this,e):null))}}class Tb extends ib{constructor(e){super(),this.firestore=e}convertBytes(e){return new wb(new uw(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Cb.forKey(t,this.firestore,null)}}class Eb{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Tb(e)}get(e){const t=Fb(e);return this._delegate.get(t).then((e=>new Ob(this._firestore,new qw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Fb(e);return n?(gb("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Fb(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Fb(e);return this._delegate.delete(t),this}}class kb{constructor(e){this._delegate=e}set(e,t,n){const r=Fb(e);return n?(gb("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Fb(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Fb(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Sb{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new zw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rb(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Sb.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Sb(e,new Tb(e),t),r.set(t,i)),i}}Sb.INSTANCES=new WeakMap;class Cb{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tb(e)}static forPath(e,t,n){if(e.length%2!=0)throw new cc("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Cb(t,new Hv(t._delegate,n,new Qc(e)))}static forKey(e,t,n){return new Cb(t,new Hv(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Mb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Mb(this.firestore,Qv(this._delegate,e))}catch(e){throw xb(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Tt(e))instanceof Hv&&Jv(this._delegate,e)}set(e,t){t=gb("DocumentReference.set",t);try{return t?cb(this._delegate,e,t):cb(this._delegate,e)}catch(e){throw xb(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?hb(this._delegate,e):hb(this._delegate,e,t,...n)}catch(e){throw xb(e,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return fb(zv(e.firestore,nw),[new Ad(e._key,yd.none())])}(this._delegate)}onSnapshot(...e){const t=Nb(e),n=Ab(e,(e=>new Ob(this.firestore,new qw(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return db(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=zv(e,Hv);const t=zv(e.firestore,nw),n=rw(t),r=new lb(t);return function(e,t){const n=new hc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=uc(e);return n.persistence.runTransaction("read document","readonly",(e=>n.Us.ys(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new cc(lc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=wy(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Av(e),t,n))),n.promise}(n,e._key).then((n=>new qw(t,r,e._key,n,new jw(null!==n&&n.hasLocalMutations,!0),e.converter)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=zv(e,Hv);const t=zv(e.firestore,nw);return Dv(rw(t),e._key,{source:"server"}).then((n=>pb(t,e,n)))}(this._delegate):function(e){e=zv(e,Hv);const t=zv(e.firestore,nw);return Dv(rw(t),e._key).then((n=>pb(t,e,n)))}(this._delegate),t.then((e=>new Ob(this.firestore,new qw(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Cb(this.firestore,e?this._delegate.withConverter(Sb.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function xb(e,t,n){return e.message=e.message.replace(t,n),e}function Nb(e){for(const t of e)if("object"==typeof t&&!bb(t))return t;return{}}function Ab(e,t){var n,r;let i;return i=bb(e[0])?e[0]:bb(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Ob{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Cb(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Kw(this._delegate,e._delegate)}}class Rb extends Ob{data(e){const t=this._delegate.data(e);return function(e,t){e||oc()}(void 0!==t),t}}class Pb{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tb(e)}where(e,t,n){try{return new Pb(this.firestore,Gw(this._delegate,function(e,t,n){const r=t,i=Vw("where",e);return new Qw(i,r,n)}(e,t,n)))}catch(e){throw xb(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Pb(this.firestore,Gw(this._delegate,function(e,t="asc"){const n=t,r=Vw("orderBy",e);return new Yw(r,n)}(e,t)))}catch(e){throw xb(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Pb(this.firestore,Gw(this._delegate,function(e){return Bv("limit",e),new Jw("limit",e,"F")}(e)))}catch(e){throw xb(e,"limit()","Query.limit()")}}limitToLast(e){try{return new Pb(this.firestore,Gw(this._delegate,function(e){return Bv("limitToLast",e),new Jw("limitToLast",e,"L")}(e)))}catch(e){throw xb(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Pb(this.firestore,Gw(this._delegate,function(...e){return new Xw("startAt",e,!0)}(...e)))}catch(e){throw xb(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Pb(this.firestore,Gw(this._delegate,function(...e){return new Xw("startAfter",e,!1)}(...e)))}catch(e){throw xb(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Pb(this.firestore,Gw(this._delegate,function(...e){return new Zw("endBefore",e,!1)}(...e)))}catch(e){throw xb(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Pb(this.firestore,Gw(this._delegate,function(...e){return new Zw("endAt",e,!0)}(...e)))}catch(e){throw xb(e,"endAt()","Query.endAt()")}}isEqual(e){return Xv(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=zv(e,Wv);const t=zv(e.firestore,nw),n=rw(t),r=new lb(t);return function(e,t){const n=new hc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await ig(e,t,!0),i=new Fy(t,r.Ks),s=i.Ic(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=wy(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Av(e),t,n))),n.promise}(n,e._query).then((n=>new Bw(t,r,e,n)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=zv(e,Wv);const t=zv(e.firestore,nw),n=rw(t),r=new lb(t);return Lv(n,e._query,{source:"server"}).then((n=>new Bw(t,r,e,n)))}(this._delegate):function(e){e=zv(e,Wv);const t=zv(e.firestore,nw),n=rw(t),r=new lb(t);return Hw(e._query),Lv(n,e._query).then((n=>new Bw(t,r,e,n)))}(this._delegate),t.then((e=>new Lb(this.firestore,new Bw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=Nb(e),n=Ab(e,(e=>new Lb(this.firestore,new Bw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return db(this._delegate,t,n)}withConverter(e){return new Pb(this.firestore,e?this._delegate.withConverter(Sb.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Db{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Rb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Lb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Pb(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Rb(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Db(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Rb(this._firestore,n))}))}isEqual(e){return Kw(this._delegate,e._delegate)}}class Mb extends Pb{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Cb(this.firestore,e):null}doc(e){try{return new Cb(this.firestore,void 0===e?Yv(this._delegate):Yv(this._delegate,e))}catch(e){throw xb(e,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=zv(e.firestore,nw),r=Yv(e),i=sb(e.converter,t);return fb(n,[vw(yw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,yd.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new Cb(this.firestore,e)))}isEqual(e){return Jv(this._delegate,e._delegate)}withConverter(e){return new Mb(this.firestore,e?this._delegate.withConverter(Sb.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Fb(e){return zv(e,Hv)}class Ub{constructor(...e){this._delegate=new aw(...e)}static documentId(){return new Ub(Dc.keyField().canonicalString())}isEqual(e){return(e=Tt(e))instanceof aw&&this._delegate._internalPath.isEqual(e._internalPath)}}class Vb{constructor(e){this._delegate=e}static serverTimestamp(){const e=new _w("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Vb(e)}static delete(){const e=new ww("deleteField");return e._methodName="FieldValue.delete",new Vb(e)}static arrayUnion(...e){const t=function(...e){return new Iw("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new Vb(t)}static arrayRemove(...e){const t=function(...e){return new Tw("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new Vb(t)}static increment(e){const t=function(e){return new Ew("increment",e)}(e);return t._methodName="FieldValue.increment",new Vb(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jb={Firestore:Ib,GeoPoint:cw,Timestamp:Sc,Blob:wb,Transaction:Eb,WriteBatch:kb,DocumentReference:Cb,DocumentSnapshot:Ob,Query:Pb,QueryDocumentSnapshot:Rb,QuerySnapshot:Lb,CollectionReference:Mb,FieldPath:Ub,FieldValue:Vb,setLogLevel:function(e){!function(e){ec.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var qb;function zb(){return window}(function(e,t){e.INTERNAL.registerComponent(new Et("firestore-compat",(e=>((e,t)=>new Ib(e,t,new _b))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())),"PUBLIC").setServiceProps(Object.assign({},jb)))})(qb=Vs),qb.registerVersion("@firebase/firestore-compat","0.1.14");class Bb extends as{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function $b(e){const t=await Hb()._get(Wb(e));return t&&await Hb()._remove(Wb(e)),t}function Kb(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Hb(){return _n(fi)}function Wb(e){return Qn("authEvent",e.config.apiKey,e.name)}function Gb(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return vt(n.join("?"))}function Qb(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:fn("no-auth-event")}}function Yb(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Jb(e=it()){return!("file:"!==Yb()&&"ionic:"!==Yb()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xb(){try{const e=self.localStorage,t=yi();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=it()){return lt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=it()){return/Edge\/\d+/.test(e)}(e)}()||ct()}catch(e){return Zb()&&ct()}return!1}function Zb(){return void 0!==n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function e_(){return("http:"===Yb()||"https:"===Yb()||at()||Jb())&&!(ut()||ot())&&Xb()&&!Zb()}function t_(){return Jb()&&"undefined"!=typeof document}const n_={LOCAL:"local",NONE:"none",SESSION:"session"},r_=yn,i_="persistence";async function s_(e){await e._initializationPromise;const t=o_(),n=Qn(i_,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function o_(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(e){return null}}const a_=yn;class u_{constructor(){this.browserResolver=_n(Ss),this.cordovaResolver=_n(class{constructor(){this._redirectPersistence=mi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ss}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Bb(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){dn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,u,l,c;const h=zb();yn("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),yn(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),yn("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),yn("function"==typeof(null===(u=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),yn("function"==typeof(null===(c=null===(l=null==h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),es.clear(),await this._originValidation(e);const s=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Kb(),postBody:null,tenantId:e.tenantId,error:fn(e,"no-auth-event")}}(e,n,r);await function(e,t){return Hb()._set(Wb(e),t)}(e,s);const o=await async function(e,t,n){var r;const{BuildInfo:i}=zb();wn(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(wn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return sr()?o.ibi=i.packageName:nr()?o.apn=i.packageName:dn(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Es(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}(e,s,t);return async function(e,t,n){const{cordova:r}=zb();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function u(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{o(fn(e,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(u),document.addEventListener("resume",l,!1),nr()&&document.addEventListener("visibilitychange",c,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await function(e){const{cordova:t}=zb();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=it()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=zb(),n={};sr()?n.iosBundleId=t.packageName:nr()?n.androidPackageName=t.packageName:dn(e,"operation-not-supported-in-this-environment"),await cs(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=zb(),s=setTimeout((async()=>{await $b(e),t.onEvent(Qb())}),500),o=async n=>{clearTimeout(s);const r=await $b(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Gb(e),n=t.link?decodeURIComponent(t.link):void 0,r=Gb(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Gb(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Gb(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?fn(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Qb())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,o);const a=r,u=`${i.packageName.toLowerCase()}://`;zb().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(u)&&o({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}}}}),this.underlyingResolver=null,this._redirectPersistence=mi,this._completeRedirectFn=ss}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return t_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return a_(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!t_()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function l_(e){return e.unwrap()}function c_(e){const{_tokenResponse:t}=e instanceof ht?e.customData:e;if(!t)return null;if(!(e instanceof ht)&&"temporaryProof"in t&&"phoneNumber"in t)return Ki.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=xr;break;case"facebook.com":r=Cr;break;case"github.com":r=Nr;break;case"twitter.com":r=Rr;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?Ar._create(n,o):wr._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new Sr(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof ht?r.credentialFromError(e):r.credentialFromResult(e)}function h_(e,t){return t.catch((t=>{throw t instanceof ht&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new f_(e,function(e,t){var n;const r=Tt(e),i=t;return yn(t.customData.operationType,r,"argument-error"),yn(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ai._fromError(r,i)}(e,t));else if(r){const e=c_(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,c_(r)),additionalUserInfo:si(e),user:p_.getOrCreate(n)};var r}))}async function d_(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>h_(e,n.confirm(t))}}class f_{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return h_(l_(this.auth),this.resolver.resolveSignIn(e))}}class p_{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Tt(e);return li.has(t)||li.set(t,ui._fromUser(t)),li.get(t)}(e)}static getOrCreate(e){return p_.USER_MAP.has(e)||p_.USER_MAP.set(e,new p_(e)),p_.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return h_(this.auth,$r(this._delegate,e))}async linkWithPhoneNumber(e,t){return d_(this.auth,async function(e,t,n){const r=Tt(e);await jr(!1,r,"phone");const i=await $i(r.auth,t,Tt(n));return new Bi(i,(e=>$r(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return h_(this.auth,async function(e,t,n){const r=Tt(e);mn(r.auth,t,Er);const i=Hi(r.auth,n);return new Zi(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,u_))}async linkWithRedirect(e){return await s_(lr(this.auth)),function(e,t,n){return async function(e,t,n){const r=Tt(e);mn(r.auth,t,Er);const i=Hi(r.auth,n);await jr(!1,r,t.providerId),await ns(i,r.auth);const s=await os(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}(this._delegate,e,u_)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return h_(this.auth,Kr(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return d_(this.auth,async function(e,t,n){const r=Tt(e),i=await $i(r.auth,t,Tt(n));return new Bi(i,(e=>Kr(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return h_(this.auth,async function(e,t,n){const r=Tt(e);mn(r.auth,t,Er);const i=Hi(r.auth,n);return new Zi(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,u_))}async reauthenticateWithRedirect(e){return await s_(lr(this.auth)),function(e,t,n){return async function(e,t,n){const r=Tt(e);mn(r.auth,t,Er);const i=Hi(r.auth,n);await ns(i,r.auth);const s=await os(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}(this._delegate,e,u_)}sendEmailVerification(e){return async function(e,t){const n=Tt(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Gr(n.auth,r,t);const{email:i}=await async function(e,t){return gr(e,t)}(n.auth,r);i!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=Tt(e);await jr(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return On(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Ur(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return Xr(Tt(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Xr(Tt(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Vr(Tt(e),t)}(this._delegate,e)}updateProfile(e){return Jr(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const r=Tt(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Gr(r.auth,i,n);const{email:s}=await async function(e,t){return gr(e,t)}(r.auth,i);s!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}p_.USER_MAP=new WeakMap;const m_=yn;class g_{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;m_(n,"invalid-api-key",{appName:e.name}),m_(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?u_:void 0;this._delegate=t.initialize({options:{persistence:v_(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(an),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?p_.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=lr(e);yn(r._canInitEmulator,r,"emulator-config-failed"),yn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=hr(t),{host:o,port:a}=function(e){const t=hr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:dr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:dr(t)}}}(t),u=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return On(e,"POST","/v1/accounts:update",An(e,t))}(Tt(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return Qr(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await pr(Tt(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return h_(this._delegate,async function(e,t,n){const r=lr(e),i=await Pr(r,{returnSecureToken:!0,email:t,password:n}),s=await Dr._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:Tn()?In():"http://localhost"},{signinMethods:r}=await async function(e,t){return On(e,"POST","/v1/accounts:createAuthUri",An(e,t))}(Tt(e),n);return r||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Ir.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){m_(e_(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await lr(e)._initializationPromise,ss(e,t,!1)}(this._delegate,u_);return e?h_(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){lr(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=y_(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=y_(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Tt(e),i={requestType:"EMAIL_SIGNIN",email:t};yn(n.handleCodeInApp,r,"argument-error"),n&&Gr(r,i,n),await async function(e,t){return gr(e,t)}(r,i)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Tt(e),i={requestType:"PASSWORD_RESET",email:t};n&&Gr(r,i,n),await async function(e,t){return gr(e,t)}(r,i)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){r_(Object.values(n_).includes(t),e,"invalid-persistence-type"),ut()?r_(t!==n_.SESSION,e,"unsupported-persistence-type"):ot()?r_(t===n_.NONE,e,"unsupported-persistence-type"):Zb()?r_(t===n_.NONE||t===n_.LOCAL&&ct(),e,"unsupported-persistence-type"):r_(t===n_.NONE||Xb(),e,"unsupported-persistence-type")}(this._delegate,e),e){case n_.SESSION:t=mi;break;case n_.LOCAL:t=await _n(Ai)._isAvailable()?Ai:fi;break;case n_.NONE:t=Gn;break;default:return dn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return h_(this._delegate,async function(e){var t;const n=lr(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Dr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Pr(n,{returnSecureToken:!0}),i=await Dr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return h_(this._delegate,Br(this._delegate,e))}signInWithCustomToken(e){return h_(this._delegate,async function(e,t){const n=lr(e),r=await async function(e,t){return Pn(e,"POST","/v1/accounts:signInWithCustomToken",An(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Dr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}(this._delegate,e))}signInWithEmailAndPassword(e,t){return h_(this._delegate,Yr(this._delegate,e,t))}signInWithEmailLink(e,t){return h_(this._delegate,async function(e,t,n){const r=Tt(e),i=Tr.credentialWithLink(t,n||In());return yn(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Br(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return d_(this._delegate,async function(e,t,n){const r=lr(e),i=await $i(r,t,Tt(n));return new Bi(i,(e=>Br(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return m_(e_(),this._delegate,"operation-not-supported-in-this-environment"),h_(this._delegate,async function(e,t,n){const r=lr(e);mn(e,t,Er);const i=Hi(r,n);return new Zi(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,u_))}async signInWithRedirect(e){return m_(e_(),this._delegate,"operation-not-supported-in-this-environment"),await s_(this._delegate),function(e,t,n){return async function(e,t,n){const r=lr(e);mn(e,t,Er);const i=Hi(r,n);return await ns(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}(this._delegate,e,u_)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Qr(Tt(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function y_(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&p_.getOrCreate(e)),error:t,complete:n}}function v_(e,t){const n=function(e,t){const n=o_();if(!n)return[];const r=Qn(i_,e,t);switch(n.getItem(r)){case n_.NONE:return[Gn];case n_.LOCAL:return[Ai,mi];case n_.SESSION:return[mi];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(Ai)||n.push(Ai),"undefined"!=typeof window)for(const e of[fi,mi])n.includes(e)||n.push(e);return n.includes(Gn)||n.push(Gn),n}g_.Persistence=n_;class w_{constructor(){this.providerId="phone",this._delegate=new Ki(l_(Vs.auth()))}static credential(e,t){return Ki.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}w_.PHONE_SIGN_IN_METHOD=Ki.PHONE_SIGN_IN_METHOD,w_.PROVIDER_ID=Ki.PROVIDER_ID;const b_=yn;class __{constructor(e,t,n=Vs.app()){var r;b_(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new zi(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new Et("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new g_(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Tr,FacebookAuthProvider:Cr,GithubAuthProvider:Nr,GoogleAuthProvider:xr,OAuthProvider:Sr,SAMLAuthProvider:Or,PhoneAuthProvider:w_,PhoneMultiFactorGenerator:xs,RecaptchaVerifier:__,TwitterAuthProvider:Rr,Auth:g_,AuthCredential:fr,Error:ht}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.9")}(Vs),Vs.initializeApp({apiKey:"AIzaSyAhEcmcCAoA8_mHezj3iAbwiX2h5OmEFqE",authDomain:"chat-app-56dc9.firebaseapp.com",projectId:"chat-app-56dc9",storageBucket:"chat-app-56dc9.appspot.com",messagingSenderId:"390735753793",appId:"1:390735753793:web:22b1134fad10e8c901ccc0"});const I_=Vs,T_=Vs.auth(),E_=Vs.firestore();var k_=function(){return k_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},k_.apply(this,arguments)},S_=function(e){return{loading:null==e,value:e}},C_=function(e,n){var r=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return k_(k_({},e),{error:t.error,loading:!1,value:void 0});case"reset":return S_(t.defaultValue);case"value":return k_(k_({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),S_(n)),i=r[0],s=r[1],o=function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})},a=function(e){s({type:"error",error:e})},u=function(e){s({type:"value",value:e})};return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:a,setValue:u,value:i.value}}),[i.error,i.loading,o,a,u,i.value])}((function(){return e.currentUser})),i=r.error,s=r.loading,o=r.setError,a=r.setValue,u=r.value;(0,t.useEffect)((function(){var t=function(e,t,r,i){return Tt(e).onAuthStateChanged((function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t;return function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(r){switch(r.label){case 0:if(!(null==n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),o(t),[3,4];case 4:return a(e),[2]}}))}))}),r,void 0)}(e,0,o);return function(){t()}}),[e]);var l=[u,s,i];return(0,t.useMemo)((function(){return l}),l)};const x_=()=>{const[e]=C_(T_),[n,r]=(0,t.useState)(""),[i,s]=(0,t.useState)("");return t.createElement(t.Fragment,null,t.createElement("h2",{className:"page-title"},"Edit User"),t.createElement("form",{onSubmit:t=>{t.preventDefault(),function(e,t,n){const r=E_.collection("messages"),i=n?"https://hotw.microserve.io/images/"+n:"";Jr(e,{displayName:t,photoURL:i}).then((()=>{r.where("uid","==",e.uid).get().then((function(e){e.forEach((function(e){e.ref.update({name:t,photoURL:i})})),Le.success("User has been updated")}))})).catch((e=>{Le.error(e.message)}))}(e,n,i),""!==n&&r(""),""!==i&&s("")},className:"user-form"},t.createElement("label",{htmlFor:"name"},"Name:"),t.createElement("input",{name:"name",type:"text",placeholder:"Enter name...",value:n,onChange:e=>{r(e.currentTarget.value)}}),t.createElement("label",{htmlFor:"image"},"Image URL:"),t.createElement("input",{name:"image",type:"text",placeholder:"Enter photo url...",value:i,onChange:e=>{s(e.currentTarget.value)}}),t.createElement("button",{type:"submit"},"Update")))},N_=n.p+"5c48ff42b39ac7e1e91feb25baebbff9.jpg";var A_=function(){return A_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},A_.apply(this,arguments)},O_=function(e){return{loading:null==e,value:e}},R_=function(e,t){var n=!e&&!t,r=!!e&&!!t&&Xv(e,t);return n||r},P_=function(e,n){return function(e,n,r){var i=(0,t.useRef)(e);return(0,t.useEffect)((function(){n(e,i.current)||(i.current=e,r&&r())})),i}(e,R_,n)},D_=function(e,n){var r=null==n?void 0:n.snapshotOptions,i=function(e,n){var r=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return A_(A_({},e),{error:t.error,loading:!1,value:void 0});case"reset":return O_(t.defaultValue);case"value":return A_(A_({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),O_(n)),i=r[0],s=r[1],o=function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})},a=function(e){s({type:"error",error:e})},u=function(e){s({type:"value",value:e})};return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:a,setValue:u,value:i.value}}),[i.error,i.loading,o,a,u,i.value])}(),i=r.error,s=r.loading,o=r.reset,a=r.setError,u=r.setValue,l=r.value,c=P_(e,o);(0,t.useEffect)((function(){if(c.current){var e=(null==n?void 0:n.snapshotListenOptions)?db(c.current,n.snapshotListenOptions,u,a):db(c.current,u,a);return function(){e()}}u(void 0)}),[c.current]);var h=[l,s,i];return(0,t.useMemo)((function(){return h}),h)}(e,n),s=i[0],o=i[1],a=i[2],u=[L_(s,r),o,a,s];return(0,t.useMemo)((function(){return u}),u)},L_=function(e,n){return(0,t.useMemo)((function(){return null==e?void 0:e.docs.map((function(e){return e.data(n)}))}),[e,n])};const M_=()=>{const[e]=C_(T_),n=e?T_.currentUser.displayName:"guest";return t.createElement("div",{className:"app"},t.createElement(B,null,t.createElement("header",null,t.createElement(Q,{to:"/",className:"logo"},t.createElement("img",{src:Xe,alt:"home"}),t.createElement("h1",null,"Chat App")),t.createElement("p",null,"Welcome ",n),t.createElement("div",null,e?t.createElement(Q,{to:"/user/edit"},"Edit user"):t.createElement(Q,{to:"/login"},"Sign in"),t.createElement(U_,null))),t.createElement("section",{className:"content"},t.createElement(q,null,t.createElement(j,{path:"/login"},t.createElement(F_,null)),t.createElement(j,{path:"/signup"},t.createElement(Ds,null)),t.createElement(j,{path:"/user/edit"},t.createElement(x_,null)),t.createElement(j,{path:"/"},t.createElement(V_,{user:e}))),t.createElement(Te,null))))};function F_(){const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),s=e=>{n(e.currentTarget.value)},o=e=>{i(e.currentTarget.value)};return t.createElement(t.Fragment,null,t.createElement("h2",{className:"page-title"},"Log In"),t.createElement("form",{onSubmit:t=>{t.preventDefault(),Yr(Ps(),e,r),s(""),o("")},name:"login_form",className:"user-form"},t.createElement("input",{name:"email",type:"email",placeholder:"Enter email...",value:e,onChange:s}),t.createElement("input",{name:"password",type:"password",placeholder:"Enter password...",value:r,onChange:o}),t.createElement("button",null,"Sign in")),t.createElement("p",null,"No account? ",t.createElement(Q,{to:"/signup"},"Sign up here")))}function U_(){return T_.currentUser&&t.createElement("button",{onClick:()=>T_.signOut()},"Sign Out")}function V_(e){const n=(0,t.useRef)(),r=E_.collection("messages"),i=r.orderBy("createdAt").limit(50),[s]=D_(i,{idField:"id"}),[o,a]=(0,t.useState)("");return t.createElement(t.Fragment,null,t.createElement("main",{className:"chat-room"},s&&s.map(((e,n)=>t.createElement(j_,{message:e,key:n}))),t.createElement("span",{ref:n})),e.user&&t.createElement("form",{onSubmit:async t=>{if(t.preventDefault(),e.user){const{uid:e,email:t,photoURL:i,displayName:s}=T_.currentUser;await r.add({text:o,createdAt:I_.firestore.FieldValue.serverTimestamp(),uid:e,email:t,photoURL:i,name:s}),a(""),n.current.scrollIntoView({behavior:"smooth"})}},className:"send-form"},t.createElement("input",{type:"text",value:o,onChange:e=>a(e.target.value),placeholder:"Type message..."}),t.createElement("button",{type:"submit",disabled:!o,className:"secondary"},"Submit")))}function j_(e){const{text:n,uid:r,name:i,photoURL:s}=e.message,o=T_.currentUser?r===T_.currentUser.uid?"sent":"received":"",a=s||N_;return t.createElement(t.Fragment,null,t.createElement("div",{className:`message ${o}`},t.createElement("div",{className:"user"},t.createElement("img",{alt:"",src:a,width:"60"})),t.createElement("div",{className:"bubble"},t.createElement("p",{className:"name"},i," ",T_.currentUser&&r===T_.currentUser.uid?"(you)":""),t.createElement("p",{className:"text"},n))))}r.render(t.createElement(t.StrictMode,null,t.createElement(M_,null)),document.getElementById("root"))})()})();